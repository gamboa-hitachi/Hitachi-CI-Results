Reading package lists...
Building dependency tree...
Reading state information...
crudini is already the newest version (0.9.3-5).
The following package was automatically installed and is no longer required:
  apport-symptoms
Use 'apt autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 35 not upgraded.
2025/10/09 02:41:46.955362660 MSGID0000-I: start: sudo su - stack
2025/10/09 02:41:46.960069736 MSGID0000-I: start: git config --global http.proxyAuthMethod 'basic'
2025/10/09 02:41:46.963915350 MSGID0002-I: end: git config --global http.proxyAuthMethod 'basic'
2025/10/09 02:41:46.967968402 MSGID0000-I: start: git clone https://git.openstack.org/openstack-dev/devstack.git
2025/10/09 02:41:46.971859524 MSGID0002-I: end: git clone https://git.openstack.org/openstack-dev/devstack.git
2025/10/09 02:41:46.975693795 MSGID0000-I: start: Pass the HOME environment variable in /opt/stack/tempest/tox.ini via /opt/stack/devstack/lib/tempest
2025/10/09 02:41:46.979952755 MSGID0002-I: end: Pass the HOME environment variable in /opt/stack/tempest/tox.ini via /opt/stack/devstack/lib/tempest
2025/10/09 02:41:46.984095093 MSGID0000-I: start: Modify rootwrap copy source directory of glance in /opt/stack/devstack/lib/glance
2025/10/09 02:41:46.987995377 MSGID0002-I: end: Modify rootwrap copy source directory of glance in /opt/stack/devstack/lib/glance
2025/10/09 02:41:46.991664835 MSGID0000-I: start: ./stack.sh
Reading package lists...
Building dependency tree...
Reading state information...
python3.10 is already the newest version (3.10.12-1~22.04.11).
python3.10-dev is already the newest version (3.10.12-1~22.04.11).
The following package was automatically installed and is no longer required:
  apport-symptoms
Use 'sudo apt autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 35 not upgraded.
+ ./stack.sh:main:509                      :   exec
+ ./stack.sh:main:517                      :   echo_summary 'stack.sh log /opt/stack/logs/stack.sh.log.2025-10-09-024151'
++ ./stack.sh:main:509                      :   /usr/bin/python3.10 /opt/stack/devstack/tools/outfilter.py -o /opt/stack/logs/stack.sh.log.2025-10-09-024151.summary.2025-10-09-024151
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e stack.sh log /opt/stack/logs/stack.sh.log.2025-10-09-024151
+ ./stack.sh:main:519                      :   ln -sf /opt/stack/logs/stack.sh.log.2025-10-09-024151 /opt/stack/logs/stack.sh.log
+ ./stack.sh:main:520                      :   ln -sf /opt/stack/logs/stack.sh.log.2025-10-09-024151.summary.2025-10-09-024151 /opt/stack/logs/stack.sh.log.summary
+ ./stack.sh:main:535                      :   check_path_perm_sanity /opt/stack
+ functions:check_path_perm_sanity:607     :   local real_path
++ functions:check_path_perm_sanity:608     :   readlink -f /opt/stack
+ functions:check_path_perm_sanity:608     :   real_path=/opt/stack
+ functions:check_path_perm_sanity:609     :   local rebuilt_path=
++ functions:check_path_perm_sanity:610     :   echo /opt/stack
++ functions:check_path_perm_sanity:610     :   tr / ' '
+ functions:check_path_perm_sanity:610     :   for i in $(echo ${real_path} | tr "/" " ")
+ functions:check_path_perm_sanity:611     :   rebuilt_path=/opt
++ functions:check_path_perm_sanity:613     :   stat -c %a /opt
+ functions:check_path_perm_sanity:613     :   [[ 755 = 700 ]]
+ functions:check_path_perm_sanity:610     :   for i in $(echo ${real_path} | tr "/" " ")
+ functions:check_path_perm_sanity:611     :   rebuilt_path=/opt/stack
++ functions:check_path_perm_sanity:613     :   stat -c %a /opt/stack
+ functions:check_path_perm_sanity:613     :   [[ 751 = 700 ]]
+ ./stack.sh:main:541                      :   trap exit_trap EXIT
+ ./stack.sh:main:582                      :   trap err_trap ERR
+ ./stack.sh:main:595                      :   set -o errexit
+ ./stack.sh:main:598                      :   uname -a
Linux devstack-u2204-93-57 6.8.0-85-generic #85~22.04.1-Ubuntu SMP PREEMPT_DYNAMIC Fri Sep 19 16:18:59 UTC 2 x86_64 x86_64 x86_64 GNU/Linux
+ ./stack.sh:main:601                      :   SSL_BUNDLE_FILE=/opt/stack/data/ca-bundle.pem
+ ./stack.sh:main:602                      :   rm -f /opt/stack/data/ca-bundle.pem
+ ./stack.sh:main:605                      :   source /opt/stack/devstack/lib/database
+ ./stack.sh:main:606                      :   source /opt/stack/devstack/lib/rpc_backend
+ ./stack.sh:main:609                      :   source /opt/stack/devstack/lib/host
+++ lib/host:source:12                       :   trueorfalse True ENABLE_KSM
++ lib/host:source:12                       :   ENABLE_KSM=True
+++ lib/host:source:13                       :   trueorfalse True ENABLE_KSMTUNED
++ lib/host:source:13                       :   ENABLE_KSMTUNED=True
+++ lib/host:source:34                       :   trueorfalse False ENABLE_ZSWAP
++ lib/host:source:34                       :   ENABLE_ZSWAP=False
++ lib/host:source:37                       :   ZSWAP_COMPRESSOR=lz4
++ lib/host:source:38                       :   ZSWAP_ZPOOL=zsmalloc
+++ lib/host:source:53                       :   trueorfalse False ENABLE_SYSCTL_MEM_TUNING
++ lib/host:source:53                       :   ENABLE_SYSCTL_MEM_TUNING=False
+++ lib/host:source:75                       :   trueorfalse False ENABLE_SYSCTL_NET_TUNING
++ lib/host:source:75                       :   ENABLE_SYSCTL_NET_TUNING=False
+ ./stack.sh:main:612                      :   tune_host
+ lib/host:tune_host:96                    :   configure_host_mem
+ lib/host:configure_host_mem:70           :   configure_zswap
+ lib/host:configure_zswap:40              :   [[ False == \T\r\u\e ]]
+ lib/host:configure_host_mem:71           :   configure_ksm
+ lib/host:configure_ksm:15                :   [[ True == \T\r\u\e ]]
+ lib/host:configure_ksm:16                :   install_package ksmtuned
+ functions-common:install_package:1442    :   update_package_repo
+ functions-common:update_package_repo:1416 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1417 :   REPOS_UPDATED=False
+ functions-common:update_package_repo:1418 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1420 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1424 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1425 :   apt_get_update
+ functions-common:apt_get_update:1170     :   [[ False == \T\r\u\e ]]
+ functions-common:apt_get_update:1175     :   [[ False = \T\r\u\e ]]
+ functions-common:apt_get_update:1177     :   local sudo=sudo
++ functions-common:apt_get_update:1178     :   id -u
+ functions-common:apt_get_update:1178     :   [[ 1001 = \0 ]]
+ functions-common:apt_get_update:1181     :   time_start apt-get-update
+ functions-common:time_start:2407         :   local name=apt-get-update
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760002912730
+ functions-common:apt_get_update:1183     :   local 'proxies=http_proxy= https_proxy= no_proxy= '
+ functions-common:apt_get_update:1184     :   local 'update_cmd=sudo http_proxy= https_proxy= no_proxy=  apt-get update'
+ functions-common:apt_get_update:1185     :   timeout 300 sh -c 'while ! sudo http_proxy= https_proxy= no_proxy=  apt-get update; do sleep 30; done'
Get:1 http://security.ubuntu.com/ubuntu jammy-security InRelease [129 kB]
Hit:2 http://us.archive.ubuntu.com/ubuntu jammy InRelease
Get:3 http://us.archive.ubuntu.com/ubuntu jammy-updates InRelease [128 kB]
Hit:4 http://us.archive.ubuntu.com/ubuntu jammy-backports InRelease
Fetched 257 kB in 2s (150 kB/s)
Reading package lists...
+ functions-common:apt_get_update:1189     :   REPOS_UPDATED=True
+ functions-common:apt_get_update:1191     :   time_stop apt-get-update
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=apt-get-update
+ functions-common:time_stop:2428          :   start_time=1760002912730
+ functions-common:time_stop:2430          :   [[ -z 1760002912730 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002925265
+ functions-common:time_stop:2434          :   elapsed_time=12535
+ functions-common:time_stop:2435          :   total=0
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=12535
+ functions-common:install_package:1443    :   real_install_package ksmtuned
+ functions-common:real_install_package:1430 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:real_install_package:1431 :   apt_get install ksmtuned
+ functions-common:apt_get:1211            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install ksmtuned
Reading package lists...
Building dependency tree...
Reading state information...
ksmtuned is already the newest version (4.20150326).
The following package was automatically installed and is no longer required:
  apport-symptoms
Use 'sudo apt autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 35 not upgraded.
+ functions-common:apt_get:1215            :   result=0
+ functions-common:apt_get:1218            :   time_stop apt-get
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=apt-get
+ functions-common:time_stop:2428          :   start_time=1760002925366
+ functions-common:time_stop:2430          :   [[ -z 1760002925366 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002926653
+ functions-common:time_stop:2434          :   elapsed_time=1287
+ functions-common:time_stop:2435          :   total=1148
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=2435
+ functions-common:apt_get:1219            :   return 0
+ lib/host:configure_ksm:18                :   [[ -f /sys/kernel/mm/ksm/run ]]
+ lib/host:configure_ksm:19                :   sudo tee /sys/kernel/mm/ksm/run
++ lib/host:configure_ksm:19                :   bool_to_int ENABLE_KSM
+ lib/host:configure_ksm:19                :   echo 0
0
+ lib/host:configure_host_mem:72           :   configure_sysctl_mem_parmaters
+ lib/host:configure_sysctl_mem_parmaters:55 :   [[ False == \T\r\u\e ]]
+ lib/host:tune_host:97                    :   configure_host_net
+ lib/host:configure_host_net:92           :   configure_sysctl_net_parmaters
+ lib/host:configure_sysctl_net_parmaters:77 :   [[ False == \T\r\u\e ]]
+ ./stack.sh:main:618                      :   fetch_plugins
+ functions-common:fetch_plugins:1767      :   local plugins=
+ functions-common:fetch_plugins:1768      :   local plugin
+ functions-common:fetch_plugins:1771      :   [[ -z '' ]]
+ functions-common:fetch_plugins:1772      :   return
+ ./stack.sh:main:622                      :   run_phase override_defaults
+ functions-common:run_phase:1849          :   local mode=override_defaults
+ functions-common:run_phase:1850          :   local phase=
+ functions-common:run_phase:1851          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1852          :   local extra_plugin_file_name
+ functions-common:run_phase:1853          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1858          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1859          :   local extra
++ functions-common:run_phase:1860          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1860          :   extra=80-tempest.sh
+ functions-common:run_phase:1861          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1865          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1865          :   source /opt/stack/devstack/extras.d/80-tempest.sh override_defaults
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2077 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ override_defaults == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ override_defaults == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ override_defaults == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ override_defaults == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:16         :   [[ override_defaults == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:19         :   [[ override_defaults == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:27         :   [[ override_defaults == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ override_defaults == \c\l\e\a\n ]]
+ functions-common:run_phase:1870          :   [[ override_defaults == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1873          :   [[ override_defaults == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1874          :   plugin_override_defaults
+ functions-common:plugin_override_defaults:1808 :   local plugins=
+ functions-common:plugin_override_defaults:1809 :   local plugin
+ functions-common:plugin_override_defaults:1812 :   [[ -z '' ]]
+ functions-common:plugin_override_defaults:1813 :   return
+ ./stack.sh:main:625                      :   source /opt/stack/devstack/lib/apache
+ ./stack.sh:main:628                      :   source /opt/stack/devstack/lib/tls
++ lib/tls:source:38                        :   is_service_enabled tls-proxy
++ functions-common:is_service_enabled:2077 :   return 1
+++ lib/tls:source:43                        :   hostname -f
++ lib/tls:source:43                        :   DEVSTACK_HOSTNAME=devstack-u2204-93-57
++ lib/tls:source:44                        :   DEVSTACK_CERT_NAME=devstack-cert
++ lib/tls:source:45                        :   DEVSTACK_CERT=/opt/stack/data/devstack-cert.pem
++ lib/tls:source:48                        :   ROOT_CA_DIR=/opt/stack/data/CA/root-ca
++ lib/tls:source:49                        :   INT_CA_DIR=/opt/stack/data/CA/int-ca
++ lib/tls:source:51                        :   ORG_NAME=OpenStack
++ lib/tls:source:52                        :   ORG_UNIT_NAME=DevStack
++ lib/tls:source:55                        :   STUD_PROTO=--tls
++ lib/tls:source:56                        :   STUD_CIPHERS='TLSv1+HIGH:!DES:!aNULL:!eNULL:@STRENGTH'
++ lib/tls:source:63                        :   OPENSSL=/usr/bin/openssl
+ ./stack.sh:main:631                      :   source /opt/stack/devstack/lib/infra
+ ./stack.sh:main:632                      :   source /opt/stack/devstack/lib/libraries
+ ./stack.sh:main:633                      :   source /opt/stack/devstack/lib/lvm
+ ./stack.sh:main:634                      :   source /opt/stack/devstack/lib/horizon
+ ./stack.sh:main:635                      :   source /opt/stack/devstack/lib/keystone
+ ./stack.sh:main:636                      :   source /opt/stack/devstack/lib/glance
+ ./stack.sh:main:637                      :   source /opt/stack/devstack/lib/nova
+ ./stack.sh:main:638                      :   source /opt/stack/devstack/lib/placement
+ ./stack.sh:main:639                      :   source /opt/stack/devstack/lib/cinder
+ ./stack.sh:main:640                      :   source /opt/stack/devstack/lib/swift
+ ./stack.sh:main:641                      :   source /opt/stack/devstack/lib/neutron
++ lib/neutron:source:61                    :   is_service_enabled tls-proxy
++ functions-common:is_service_enabled:2077 :   return 1
++ lib/neutron:source:67                    :   GITDIR["python-neutronclient"]=/opt/stack/python-neutronclient
++ lib/neutron:source:70                    :   NEUTRON_DIR=/opt/stack/neutron
++ lib/neutron:source:71                    :   NEUTRON_FWAAS_DIR=/opt/stack/neutron-fwaas
++ lib/neutron:source:74                    :   [[ -d /opt/stack/neutron/bin/neutron-server ]]
+++ lib/neutron:source:77                    :   get_python_exec_prefix
+++ inc/python:get_python_exec_prefix:80     :   [[ True == \T\r\u\e ]]
+++ inc/python:get_python_exec_prefix:81     :   echo /opt/stack/data/venv/bin
++ lib/neutron:source:77                    :   NEUTRON_BIN_DIR=/opt/stack/data/venv/bin
++ lib/neutron:source:80                    :   NEUTRON_CONF_DIR=/etc/neutron
++ lib/neutron:source:81                    :   NEUTRON_CONF=/etc/neutron/neutron.conf
++ lib/neutron:source:82                    :   export NEUTRON_TEST_CONFIG_FILE=/etc/neutron/debug.ini
++ lib/neutron:source:82                    :   NEUTRON_TEST_CONFIG_FILE=/etc/neutron/debug.ini
+++ lib/neutron:source:89                    :   trueorfalse False NEUTRON_DEPLOY_MOD_WSGI
++ lib/neutron:source:89                    :   NEUTRON_DEPLOY_MOD_WSGI=False
++ lib/neutron:source:91                    :   NEUTRON_UWSGI=neutron.wsgi.api:application
++ lib/neutron:source:92                    :   NEUTRON_UWSGI_CONF=/etc/neutron/neutron-api-uwsgi.ini
+++ lib/neutron:source:98                    :   trueorfalse True NEUTRON_ENFORCE_SCOPE
++ lib/neutron:source:98                    :   NEUTRON_ENFORCE_SCOPE=True
++ lib/neutron:source:102                   :   AGENT_DHCP_BINARY=/opt/stack/data/venv/bin/neutron-dhcp-agent
++ lib/neutron:source:103                   :   AGENT_L3_BINARY=/opt/stack/data/venv/bin/neutron-l3-agent
++ lib/neutron:source:104                   :   AGENT_META_BINARY=/opt/stack/data/venv/bin/neutron-metadata-agent
++ lib/neutron:source:108                   :   Q_DHCP_CONF_FILE=/etc/neutron/dhcp_agent.ini
++ lib/neutron:source:111                   :   NEUTRON_DHCP_CONF=/etc/neutron/dhcp_agent.ini
++ lib/neutron:source:112                   :   Q_L3_CONF_FILE=/etc/neutron/l3_agent.ini
++ lib/neutron:source:115                   :   NEUTRON_L3_CONF=/etc/neutron/l3_agent.ini
++ lib/neutron:source:116                   :   Q_META_CONF_FILE=/etc/neutron/metadata_agent.ini
++ lib/neutron:source:119                   :   Q_DB_NAME=neutron
++ lib/neutron:source:121                   :   Q_PLUGIN=ml2
++ lib/neutron:source:123                   :   Q_PORT=9696
++ lib/neutron:source:125                   :   Q_PORT_INT=19696
++ lib/neutron:source:127                   :   Q_HOST=172.25.93.57
++ lib/neutron:source:129                   :   Q_PROTOCOL=http
+++ lib/neutron:source:131                   :   ipv6_unquote 0.0.0.0
+++ functions-common:ipv6_unquote:2219       :   echo 0.0.0.0
+++ functions-common:ipv6_unquote:2219       :   tr -d '[]'
++ lib/neutron:source:131                   :   Q_LISTEN_ADDRESS=0.0.0.0
++ lib/neutron:source:133                   :   Q_ADMIN_USERNAME=neutron
++ lib/neutron:source:135                   :   Q_AUTH_STRATEGY=keystone
++ lib/neutron:source:137                   :   Q_OVS_USE_VETH=False
++ lib/neutron:source:138                   :   Q_USE_ROOTWRAP=True
+++ lib/neutron:source:139                   :   trueorfalse True Q_USE_ROOTWRAP_DAEMON
++ lib/neutron:source:139                   :   Q_USE_ROOTWRAP_DAEMON=True
+++ lib/neutron:source:141                   :   ipv6_unquote 172.25.93.57
+++ functions-common:ipv6_unquote:2219       :   echo 172.25.93.57
+++ functions-common:ipv6_unquote:2219       :   tr -d '[]'
++ lib/neutron:source:141                   :   Q_META_DATA_IP=172.25.93.57
++ lib/neutron:source:143                   :   Q_ALLOW_OVERLAPPING_IP=True
++ lib/neutron:source:144                   :   Q_NOTIFY_NOVA_PORT_STATUS_CHANGES=True
++ lib/neutron:source:145                   :   Q_NOTIFY_NOVA_PORT_DATA_CHANGES=True
++ lib/neutron:source:146                   :   VIF_PLUGGING_IS_FATAL=True
++ lib/neutron:source:147                   :   VIF_PLUGGING_TIMEOUT=300
++ lib/neutron:source:150                   :   SKIP_STOP_OVN=False
++ lib/neutron:source:154                   :   _Q_PLUGIN_EXTRA_CONF_PATH=/etc/neutron
++ lib/neutron:source:157                   :   NEUTRON_ENDPOINT_SERVICE_NAME=networking
++ lib/neutron:source:158                   :   [[ False == \T\r\u\e ]]
++ lib/neutron:source:163                   :   ALEMBIC_REPO=https://github.com/sqlalchemy/alembic.git
++ lib/neutron:source:164                   :   ALEMBIC_DIR=/opt/stack/alembic
++ lib/neutron:source:165                   :   ALEMBIC_BRANCH=main
++ lib/neutron:source:166                   :   SQLALCHEMY_REPO=https://github.com/sqlalchemy/sqlalchemy.git
++ lib/neutron:source:167                   :   SQLALCHEMY_DIR=/opt/stack/sqlalchemy
++ lib/neutron:source:168                   :   SQLALCHEMY_BRANCH=main
++ lib/neutron:source:179                   :   declare -a -g Q_PLUGIN_EXTRA_CONF_FILES
++ lib/neutron:source:182                   :   declare -a -g _Q_PLUGIN_EXTRA_CONF_FILES_ABS
++ lib/neutron:source:185                   :   Q_RR_CONF_FILE=/etc/neutron/rootwrap.conf
++ lib/neutron:source:186                   :   [[ True == \F\a\l\s\e ]]
+++ lib/neutron:source:189                   :   get_rootwrap_location neutron
+++ functions:get_rootwrap_location:593      :   local module=neutron
++++ functions:get_rootwrap_location:595      :   get_python_exec_prefix
++++ inc/python:get_python_exec_prefix:80     :   [[ True == \T\r\u\e ]]
++++ inc/python:get_python_exec_prefix:81     :   echo /opt/stack/data/venv/bin
+++ functions:get_rootwrap_location:595      :   echo /opt/stack/data/venv/bin/neutron-rootwrap
++ lib/neutron:source:189                   :   NEUTRON_ROOTWRAP=/opt/stack/data/venv/bin/neutron-rootwrap
++ lib/neutron:source:190                   :   Q_RR_COMMAND='sudo /opt/stack/data/venv/bin/neutron-rootwrap /etc/neutron/rootwrap.conf'
++ lib/neutron:source:191                   :   [[ True == \T\r\u\e ]]
++ lib/neutron:source:192                   :   Q_RR_DAEMON_COMMAND='sudo /opt/stack/data/venv/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf'
++ lib/neutron:source:204                   :   Q_DVR_MODE=legacy
++ lib/neutron:source:205                   :   [[ legacy != \l\e\g\a\c\y ]]
++ lib/neutron:source:221                   :   ENABLE_TENANT_TUNNELS=True
++ lib/neutron:source:226                   :   TENANT_TUNNEL_RANGES=1:1000
++ lib/neutron:source:231                   :   ENABLE_TENANT_VLANS=False
++ lib/neutron:source:239                   :   TENANT_VLAN_RANGE=
++ lib/neutron:source:247                   :   PHYSICAL_NETWORK=public
++ lib/neutron:source:257                   :   OVS_PHYSICAL_BRIDGE=br-ex
++ lib/neutron:source:263                   :   OVS_ENABLE_TUNNELING=True
++ lib/neutron:source:267                   :   ENABLE_ISOLATED_METADATA=False
++ lib/neutron:source:272                   :   ENABLE_METADATA_NETWORK=False
++ lib/neutron:source:277                   :   '[' -f /opt/stack/devstack/lib/neutron_plugins/ml2 ']'
++ lib/neutron:source:278                   :   source /opt/stack/devstack/lib/neutron_plugins/ml2
++ lib/neutron:source:285                   :   source /opt/stack/devstack/lib/neutron_plugins/services/metering
++ lib/neutron:source:288                   :   source /opt/stack/devstack/lib/neutron_plugins/services/l3
+++ lib/neutron_plugins/services/l3:source:3 :   IP_VERSION=4
+++ lib/neutron_plugins/services/l3:source:5 :   [[ 4 != \4 ]]
+++ lib/neutron_plugins/services/l3:source:9 :   NEUTRON_CREATE_INITIAL_NETWORKS=True
+++ lib/neutron_plugins/services/l3:source:12 :   PROVIDER_SUBNET_NAME=provider_net
+++ lib/neutron_plugins/services/l3:source:13 :   IPV6_PROVIDER_SUBNET_NAME=provider_net_v6
+++ lib/neutron_plugins/services/l3:source:14 :   IPV6_PROVIDER_FIXED_RANGE=
+++ lib/neutron_plugins/services/l3:source:15 :   IPV6_PROVIDER_NETWORK_GATEWAY=
+++ lib/neutron_plugins/services/l3:source:17 :   PUBLIC_BRIDGE=br-ex
+++ lib/neutron_plugins/services/l3:source:18 :   PUBLIC_BRIDGE_MTU=1500
+++ lib/neutron_plugins/services/l3:source:23 :   Q_ASSIGN_GATEWAY_TO_PUBLIC_BRIDGE=True
+++ lib/neutron_plugins/services/l3:source:26 :   Q_ROUTER_NAME=router1
+++ lib/neutron_plugins/services/l3:source:31 :   Q_USE_PUBLIC_VETH=False
+++ lib/neutron_plugins/services/l3:source:32 :   Q_PUBLIC_VETH_EX=veth-pub-ex
+++ lib/neutron_plugins/services/l3:source:33 :   Q_PUBLIC_VETH_INT=veth-pub-int
+++ lib/neutron_plugins/services/l3:source:39 :   Q_L3_ROUTER_PER_TENANT=True
+++ lib/neutron_plugins/services/l3:source:72 :   Q_USE_PROVIDERNET_FOR_PUBLIC=True
+++ lib/neutron_plugins/services/l3:source:73 :   PUBLIC_PHYSICAL_NETWORK=public
++++ lib/neutron_plugins/services/l3:source:76 :   uuidgen
++++ lib/neutron_plugins/services/l3:source:76 :   sed s/-//g
++++ lib/neutron_plugins/services/l3:source:76 :   cut -c 23-
++++ lib/neutron_plugins/services/l3:source:76 :   sed -e 's/\(..\)\(....\)\(....\)/\1:\2:\3/'
+++ lib/neutron_plugins/services/l3:source:76 :   IPV6_GLOBAL_ID=4b:e428:7bdb
+++ lib/neutron_plugins/services/l3:source:79 :   IPV6_RA_MODE=slaac
+++ lib/neutron_plugins/services/l3:source:80 :   IPV6_ADDRESS_MODE=slaac
+++ lib/neutron_plugins/services/l3:source:81 :   IPV6_PUBLIC_SUBNET_NAME=ipv6-public-subnet
+++ lib/neutron_plugins/services/l3:source:82 :   IPV6_PRIVATE_SUBNET_NAME=ipv6-private-subnet
+++ lib/neutron_plugins/services/l3:source:83 :   IPV6_ADDRS_SAFE_TO_USE=fd4b:e428:7bdb::/56
++++ lib/neutron_plugins/services/l3:source:86 :   echo fd4b:e428:7bdb::/56
++++ lib/neutron_plugins/services/l3:source:86 :   awk -F / '{ print $1"/"($2>63 ? $2 : 64) }'
+++ lib/neutron_plugins/services/l3:source:86 :   FIXED_RANGE_V6=fd4b:e428:7bdb::/64
+++ lib/neutron_plugins/services/l3:source:87 :   IPV6_PRIVATE_NETWORK_GATEWAY=
+++ lib/neutron_plugins/services/l3:source:88 :   IPV6_PUBLIC_RANGE=2001:db8::/64
+++ lib/neutron_plugins/services/l3:source:89 :   IPV6_PUBLIC_NETWORK_GATEWAY=2001:db8::2
+++ lib/neutron_plugins/services/l3:source:90 :   IPV6_ROUTER_GW_IP=2001:db8::1
+++ lib/neutron_plugins/services/l3:source:93 :   NETWORK_GATEWAY=10.1.0.1
+++ lib/neutron_plugins/services/l3:source:94 :   PUBLIC_NETWORK_GATEWAY=172.24.5.1
+++ lib/neutron_plugins/services/l3:source:95 :   PRIVATE_SUBNET_NAME=private-subnet
+++ lib/neutron_plugins/services/l3:source:96 :   PUBLIC_SUBNET_NAME=public-subnet
+++ lib/neutron_plugins/services/l3:source:99 :   USE_SUBNETPOOL=True
+++ lib/neutron_plugins/services/l3:source:100 :   SUBNETPOOL_NAME_V4=shared-default-subnetpool-v4
+++ lib/neutron_plugins/services/l3:source:101 :   SUBNETPOOL_NAME_V6=shared-default-subnetpool-v6
+++ lib/neutron_plugins/services/l3:source:103 :   SUBNETPOOL_PREFIX_V4=10.1.0.0/20
+++ lib/neutron_plugins/services/l3:source:104 :   SUBNETPOOL_PREFIX_V6=fd4b:e428:7bdb::/56
+++ lib/neutron_plugins/services/l3:source:106 :   SUBNETPOOL_SIZE_V4=26
+++ lib/neutron_plugins/services/l3:source:107 :   SUBNETPOOL_SIZE_V6=64
++++ lib/neutron_plugins/services/l3:source:109 :   ip -4 route
++++ lib/neutron_plugins/services/l3:source:109 :   grep '^default'
++++ lib/neutron_plugins/services/l3:source:109 :   awk '{print $5}'
+++ lib/neutron_plugins/services/l3:source:109 :   default_v4_route_devs=ens33
++++ lib/neutron_plugins/services/l3:source:111 :   awk '{print $5}'
++++ lib/neutron_plugins/services/l3:source:111 :   ip -6 route list match default table all
++++ lib/neutron_plugins/services/l3:source:111 :   grep via
+++ lib/neutron_plugins/services/l3:source:111 :   default_v6_route_devs=
++ lib/neutron:source:291                   :   source /opt/stack/devstack/lib/neutron_plugins/services/placement
++ lib/neutron:source:292                   :   source /opt/stack/devstack/lib/neutron_plugins/services/trunk
++ lib/neutron:source:293                   :   source /opt/stack/devstack/lib/neutron_plugins/services/qos
++ lib/neutron:source:294                   :   source /opt/stack/devstack/lib/neutron_plugins/services/segments
++ lib/neutron:source:297                   :   has_neutron_plugin_security_group
++ lib/neutron_plugins/ml2:has_neutron_plugin_security_group:146 :   return 0
++ lib/neutron:source:298                   :   Q_USE_SECGROUP=True
++ lib/neutron:source:306                   :   OVN_BRIDGE_MAPPINGS=public:br-ex
+ ./stack.sh:main:642                      :   source /opt/stack/devstack/lib/ldap
+ ./stack.sh:main:643                      :   source /opt/stack/devstack/lib/dstat
+ ./stack.sh:main:644                      :   source /opt/stack/devstack/lib/atop
+ ./stack.sh:main:645                      :   source /opt/stack/devstack/lib/tcpdump
+ ./stack.sh:main:646                      :   source /opt/stack/devstack/lib/etcd3
+ ./stack.sh:main:647                      :   source /opt/stack/devstack/lib/os-vif
+++ lib/os-vif:source:12                     :   is_ml2_ovs
+++ lib/os-vif:is_ml2_ovs:4                  :   [[ openvswitch == \o\p\e\n\v\s\w\i\t\c\h ]]
+++ lib/os-vif:is_ml2_ovs:5                  :   echo True
+++ lib/os-vif:is_ml2_ovs:7                  :   echo False
++ lib/os-vif:source:12                     :   OS_VIF_OVS_ISOLATE_VIF='True
False'
+++ lib/os-vif:source:13                     :   trueorfalse False OS_VIF_OVS_ISOLATE_VIF
++ lib/os-vif:source:13                     :   OS_VIF_OVS_ISOLATE_VIF=False
+ ./stack.sh:main:653                      :   run_phase source
+ functions-common:run_phase:1849          :   local mode=source
+ functions-common:run_phase:1850          :   local phase=
+ functions-common:run_phase:1851          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1852          :   local extra_plugin_file_name
+ functions-common:run_phase:1853          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1858          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1859          :   local extra
++ functions-common:run_phase:1860          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1860          :   extra=80-tempest.sh
+ functions-common:run_phase:1861          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1865          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1865          :   source /opt/stack/devstack/extras.d/80-tempest.sh source
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2077 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ source == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:6          :   source /opt/stack/devstack/lib/tempest
++ extras.d/80-tempest.sh:source:27         :   [[ source == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ source == \c\l\e\a\n ]]
+ functions-common:run_phase:1870          :   [[ source == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1871          :   load_plugin_settings
+ functions-common:load_plugin_settings:1785 :   local plugins=
+ functions-common:load_plugin_settings:1786 :   local plugin
+ functions-common:load_plugin_settings:1789 :   [[ -z '' ]]
+ functions-common:load_plugin_settings:1790 :   return
+ functions-common:run_phase:1872          :   verify_disabled_services
+ functions-common:verify_disabled_services:2132 :   local service
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,c-api, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,c-bak, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,c-sch, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,c-vol, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,cinder, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,etcd3, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,g-api, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,g-reg, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,key, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,mysql, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,n-api, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,n-api-meta, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,n-cauth, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,n-cond, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,n-cpu, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,n-novnc, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,n-obj, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,n-sch, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,placement-api, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,q-agt, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,q-dhcp, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,q-l3, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,q-meta, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,q-metering, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,q-svc, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,rabbit, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,s-account, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,s-container, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,s-object, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,s-proxy, ]]
+ functions-common:verify_disabled_services:2133 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2134 :   [[ ,, =~ ,tempest, ]]
+ ./stack.sh:main:724                      :   initialize_database_backends
+ lib/database:initialize_database_backends:65 :   for backend in $DATABASE_BACKENDS
+ lib/database:initialize_database_backends:66 :   is_service_enabled mysql
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/database:initialize_database_backends:66 :   DATABASE_TYPE=mysql
+ lib/database:initialize_database_backends:65 :   for backend in $DATABASE_BACKENDS
+ lib/database:initialize_database_backends:66 :   is_service_enabled postgresql
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/database:initialize_database_backends:69 :   '[' -z mysql ']'
+ lib/database:initialize_database_backends:73 :   MYSQL_HOST=127.0.0.1
+ lib/database:initialize_database_backends:74 :   MYSQL_USER=root
+ lib/database:initialize_database_backends:80 :   [[ 4 == 6 ]]
+ lib/database:initialize_database_backends:83 :   DATABASE_HOST=127.0.0.1
+ lib/database:initialize_database_backends:86 :   DATABASE_USER=root
+ lib/database:initialize_database_backends:88 :   '[' -n Hitachino1 ']'
+ lib/database:initialize_database_backends:89 :   DATABASE_PASSWORD=Hitachino1
+ lib/database:initialize_database_backends:92 :   return 0
+ ./stack.sh:main:725                      :   echo 'Using mysql database backend'
Using mysql database backend
+ ./stack.sh:main:728                      :   read_password DATABASE_PASSWORD 'ENTER A PASSWORD TO USE FOR THE DATABASE.'
+ ./stack.sh:main:730                      :   define_database_baseurl
++ lib/database:define_database_baseurl:106 :   get_database_type_mysql
++ lib/databases/mysql:get_database_type_mysql:32 :   [[ PyMySQL == \P\y\M\y\S\Q\L ]]
++ lib/databases/mysql:get_database_type_mysql:33 :   echo mysql+pymysql
+ lib/database:define_database_baseurl:106 :   BASE_SQL_CONN=mysql+pymysql://root:Hitachino1@127.0.0.1
+ ./stack.sh:main:742                      :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:743                      :   read_password RABBIT_PASSWORD 'ENTER A PASSWORD TO USE FOR RABBIT.'
+ ./stack.sh:main:750                      :   is_service_enabled keystone
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:752                      :   read_password SERVICE_PASSWORD 'ENTER A SERVICE_PASSWORD TO USE FOR THE SERVICE AUTHENTICATION.'
+ ./stack.sh:main:754                      :   read_password ADMIN_PASSWORD 'ENTER A PASSWORD TO USE FOR HORIZON AND KEYSTONE (20 CHARS OR LESS).'
+ ./stack.sh:main:765                      :   is_service_enabled ldap
+ functions-common:is_service_enabled:2077 :   return 1
+ ./stack.sh:main:774                      :   is_service_enabled s-proxy
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:778                      :   read_password SWIFT_HASH 'ENTER A RANDOM SWIFT HASH.'
+ ./stack.sh:main:780                      :   [[ -z '' ]]
+ ./stack.sh:main:780                      :   [[ False == \T\r\u\e ]]
+ ./stack.sh:main:786                      :   save_stackenv 786
+ functions-common:save_stackenv:60        :   local tag=786
++ functions-common:save_stackenv:62        :   date +%F-%H%M%S
+ functions-common:save_stackenv:62        :   time_stamp=2025-10-09-024211
+ functions-common:save_stackenv:63        :   echo '# 2025-10-09-024211 786'
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo BASE_SQL_CONN=mysql+pymysql://root:Hitachino1@127.0.0.1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo DATA_DIR=/opt/stack/data
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo DEST=/opt/stack
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo ENABLED_SERVICES=c-api,c-bak,c-sch,c-vol,cinder,etcd3,g-api,g-reg,key,mysql,n-api,n-api-meta,n-cauth,n-cond,n-cpu,n-novnc,n-obj,n-sch,placement-api,q-agt,q-dhcp,q-l3,q-meta,q-metering,q-svc,rabbit,s-account,s-container,s-object,s-proxy,tempest
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo HOST_IP=172.25.93.57
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo KEYSTONE_SERVICE_URI=http://172.25.93.57/identity
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo LOGFILE=/opt/stack/logs/stack.sh.log.2025-10-09-024151
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo OS_CACERT=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo SERVICE_HOST=172.25.93.57
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo STACK_USER=stack
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TLS_IP=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo HOST_IPV6=::1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo SERVICE_IP_VERSION=4
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TUNNEL_ENDPOINT_IP=172.25.93.57
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TUNNEL_IP_VERSION=4
+ ./stack.sh:main:799                      :   GIT_DEPTH=0
+ ./stack.sh:main:799                      :   git_clone https://opendev.org/openstack/requirements.git /opt/stack/requirements stable/2025.1
+ functions-common:git_clone:593           :   local git_remote=https://opendev.org/openstack/requirements.git
+ functions-common:git_clone:594           :   local git_dest=/opt/stack/requirements
+ functions-common:git_clone:595           :   local git_ref=stable/2025.1
+ functions-common:git_clone:596           :   local orig_dir
++ functions-common:git_clone:597           :   pwd
+ functions-common:git_clone:597           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:598           :   local git_clone_flags=
++ functions-common:git_clone:600           :   trueorfalse False RECLONE
+ functions-common:git_clone:600           :   RECLONE=False
+ functions-common:git_clone:601           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:605           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:614           :   echo stable/2025.1
+ functions-common:git_clone:614           :   egrep -q '^refs'
+ functions-common:git_clone:628           :   [[ ! -d /opt/stack/requirements ]]
+ functions-common:git_clone:638           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:673           :   sudo git config --system --add safe.directory /opt/stack/requirements
+ functions-common:git_clone:676           :   cd /opt/stack/requirements
+ functions-common:git_clone:677           :   git show --oneline
+ functions-common:git_clone:677           :   head -1
a2e1ae29 Merge "update constraint for ceilometer to new release 24.0.1" into stable/2025.1
+ functions-common:git_clone:678           :   cd /opt/stack/devstack
+ ./stack.sh:main:803                      :   echo_summary 'Installing package prerequisites'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Installing package prerequisites
+ ./stack.sh:main:804                      :   source /opt/stack/devstack/tools/install_prereqs.sh
++ tools/install_prereqs.sh:source:11       :   FORCE_PREREQ=0
++ tools/install_prereqs.sh:source:13       :   getopts :f opt
++ tools/install_prereqs.sh:source:23       :   [[ -z /opt/stack/devstack ]]
++ tools/install_prereqs.sh:source:43       :   PREREQ_RERUN_MARKER=/opt/stack/devstack/.prereqs
++ tools/install_prereqs.sh:source:44       :   PREREQ_RERUN_HOURS=2
++ tools/install_prereqs.sh:source:45       :   PREREQ_RERUN_SECONDS=7200
+++ tools/install_prereqs.sh:source:47       :   date +%s
++ tools/install_prereqs.sh:source:47       :   NOW=1760002932
+++ tools/install_prereqs.sh:source:48       :   head -1 /opt/stack/devstack/.prereqs
++ tools/install_prereqs.sh:source:48       :   LAST_RUN=1759991355
++ tools/install_prereqs.sh:source:49       :   DELTA=11577
++ tools/install_prereqs.sh:source:50       :   [[ 11577 -lt 7200 ]]
++ tools/install_prereqs.sh:source:57       :   export_proxy_variables
++ functions-common:export_proxy_variables:2239 :   isset http_proxy
++ functions-common:isset:261               :   [[ -v http_proxy ]]
++ functions-common:export_proxy_variables:2242 :   isset https_proxy
++ functions-common:isset:261               :   [[ -v https_proxy ]]
++ functions-common:export_proxy_variables:2245 :   isset no_proxy
++ functions-common:isset:261               :   [[ -v no_proxy ]]
+++ tools/install_prereqs.sh:source:64       :   get_packages general,c-api,c-bak,c-sch,c-vol,cinder,etcd3,g-api,g-reg,key,mysql,n-api,n-api-meta,n-cauth,n-cond,n-cpu,n-novnc,n-obj,n-sch,placement-api,q-agt,q-dhcp,q-l3,q-meta,q-metering,q-svc,rabbit,s-account,s-container,s-object,s-proxy,tempest
++ tools/install_prereqs.sh:source:64       :   PACKAGES='apache2
apache2-dev
bc
bsdmainutils
curl
g++
gawk
gcc
gettext  
git
graphviz 
iputils-ping
libapache2-mod-proxy-uwsgi
libffi-dev 
libjpeg-dev 
libpcre3-dev 
libpq-dev  
libssl-dev 
libsystemd-dev 
libxml2-dev  
libxslt1-dev  
libyaml-dev
lsof 
openssh-server
openssl
pkg-config
psmisc
python3-dev
python3-pip
python3-systemd
python3-venv
tar
tcpdump
unzip
uuid-runtime
wget
wget
zlib1g-dev
lvm2
qemu-utils
thin-provisioning-tools
lsscsi
open-iscsi
lvm2
qemu-utils
thin-provisioning-tools
libkrb5-dev
libldap2-dev
libsasl2-dev
memcached
python3-mysqldb
sqlite3
conntrack
curl
ebtables
genisoimage 
iptables
iputils-arping
kpartx
libjs-jquery-tablesorter 
parted
pm-utils
python3-mysqldb
socat 
sqlite3
sudo
vlan
cryptsetup
dosfstools
genisoimage
gir1.2-libosinfo-1.0
netcat-openbsd
open-iscsi
qemu-utils
sg3-utils
sysfsutils
ipset
acl
dnsmasq-base
dnsmasq-utils 
ebtables
haproxy 
iptables
iputils-arping
iputils-ping
postgresql-server-dev-all
python3-mysqldb
sqlite3
sudo
vlan
conntrack
conntrackd
keepalived
curl
liberasurecode-dev
make
memcached
rsync
sqlite3
xfsprogs'
+++ tools/install_prereqs.sh:source:65       :   get_plugin_packages
++ tools/install_prereqs.sh:source:65       :   PACKAGES='apache2
apache2-dev
bc
bsdmainutils
curl
g++
gawk
gcc
gettext  
git
graphviz 
iputils-ping
libapache2-mod-proxy-uwsgi
libffi-dev 
libjpeg-dev 
libpcre3-dev 
libpq-dev  
libssl-dev 
libsystemd-dev 
libxml2-dev  
libxslt1-dev  
libyaml-dev
lsof 
openssh-server
openssl
pkg-config
psmisc
python3-dev
python3-pip
python3-systemd
python3-venv
tar
tcpdump
unzip
uuid-runtime
wget
wget
zlib1g-dev
lvm2
qemu-utils
thin-provisioning-tools
lsscsi
open-iscsi
lvm2
qemu-utils
thin-provisioning-tools
libkrb5-dev
libldap2-dev
libsasl2-dev
memcached
python3-mysqldb
sqlite3
conntrack
curl
ebtables
genisoimage 
iptables
iputils-arping
kpartx
libjs-jquery-tablesorter 
parted
pm-utils
python3-mysqldb
socat 
sqlite3
sudo
vlan
cryptsetup
dosfstools
genisoimage
gir1.2-libosinfo-1.0
netcat-openbsd
open-iscsi
qemu-utils
sg3-utils
sysfsutils
ipset
acl
dnsmasq-base
dnsmasq-utils 
ebtables
haproxy 
iptables
iputils-arping
iputils-ping
postgresql-server-dev-all
python3-mysqldb
sqlite3
sudo
vlan
conntrack
conntrackd
keepalived
curl
liberasurecode-dev
make
memcached
rsync
sqlite3
xfsprogs '
++ tools/install_prereqs.sh:source:67       :   is_ubuntu
++ functions-common:is_ubuntu:556           :   [[ -z deb ]]
++ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
++ tools/install_prereqs.sh:source:67       :   echo apache2 apache2-dev bc bsdmainutils curl g++ gawk gcc gettext git graphviz iputils-ping libapache2-mod-proxy-uwsgi libffi-dev libjpeg-dev libpcre3-dev libpq-dev libssl-dev libsystemd-dev libxml2-dev libxslt1-dev libyaml-dev lsof openssh-server openssl pkg-config psmisc python3-dev python3-pip python3-systemd python3-venv tar tcpdump unzip uuid-runtime wget wget zlib1g-dev lvm2 qemu-utils thin-provisioning-tools lsscsi open-iscsi lvm2 qemu-utils thin-provisioning-tools libkrb5-dev libldap2-dev libsasl2-dev memcached python3-mysqldb sqlite3 conntrack curl ebtables genisoimage iptables iputils-arping kpartx libjs-jquery-tablesorter parted pm-utils python3-mysqldb socat sqlite3 sudo vlan cryptsetup dosfstools genisoimage gir1.2-libosinfo-1.0 netcat-openbsd open-iscsi qemu-utils sg3-utils sysfsutils ipset acl dnsmasq-base dnsmasq-utils ebtables haproxy iptables iputils-arping iputils-ping postgresql-server-dev-all python3-mysqldb sqlite3 sudo vlan conntrack conntrackd keepalived curl liberasurecode-dev make memcached rsync sqlite3 xfsprogs
++ tools/install_prereqs.sh:source:67       :   grep -q dkms
++ tools/install_prereqs.sh:source:72       :   install_package apache2 apache2-dev bc bsdmainutils curl g++ gawk gcc gettext git graphviz iputils-ping libapache2-mod-proxy-uwsgi libffi-dev libjpeg-dev libpcre3-dev libpq-dev libssl-dev libsystemd-dev libxml2-dev libxslt1-dev libyaml-dev lsof openssh-server openssl pkg-config psmisc python3-dev python3-pip python3-systemd python3-venv tar tcpdump unzip uuid-runtime wget wget zlib1g-dev lvm2 qemu-utils thin-provisioning-tools lsscsi open-iscsi lvm2 qemu-utils thin-provisioning-tools libkrb5-dev libldap2-dev libsasl2-dev memcached python3-mysqldb sqlite3 conntrack curl ebtables genisoimage iptables iputils-arping kpartx libjs-jquery-tablesorter parted pm-utils python3-mysqldb socat sqlite3 sudo vlan cryptsetup dosfstools genisoimage gir1.2-libosinfo-1.0 netcat-openbsd open-iscsi qemu-utils sg3-utils sysfsutils ipset acl dnsmasq-base dnsmasq-utils ebtables haproxy iptables iputils-arping iputils-ping postgresql-server-dev-all python3-mysqldb sqlite3 sudo vlan conntrack conntrackd keepalived curl liberasurecode-dev make memcached rsync sqlite3 xfsprogs
++ functions-common:install_package:1442    :   update_package_repo
++ functions-common:update_package_repo:1416 :   NO_UPDATE_REPOS=False
++ functions-common:update_package_repo:1417 :   REPOS_UPDATED=True
++ functions-common:update_package_repo:1418 :   RETRY_UPDATE=False
++ functions-common:update_package_repo:1420 :   [[ False = \T\r\u\e ]]
++ functions-common:update_package_repo:1424 :   is_ubuntu
++ functions-common:is_ubuntu:556           :   [[ -z deb ]]
++ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
++ functions-common:update_package_repo:1425 :   apt_get_update
++ functions-common:apt_get_update:1170     :   [[ True == \T\r\u\e ]]
++ functions-common:apt_get_update:1170     :   [[ False != \T\r\u\e ]]
++ functions-common:apt_get_update:1171     :   return
++ functions-common:install_package:1443    :   real_install_package apache2 apache2-dev bc bsdmainutils curl g++ gawk gcc gettext git graphviz iputils-ping libapache2-mod-proxy-uwsgi libffi-dev libjpeg-dev libpcre3-dev libpq-dev libssl-dev libsystemd-dev libxml2-dev libxslt1-dev libyaml-dev lsof openssh-server openssl pkg-config psmisc python3-dev python3-pip python3-systemd python3-venv tar tcpdump unzip uuid-runtime wget wget zlib1g-dev lvm2 qemu-utils thin-provisioning-tools lsscsi open-iscsi lvm2 qemu-utils thin-provisioning-tools libkrb5-dev libldap2-dev libsasl2-dev memcached python3-mysqldb sqlite3 conntrack curl ebtables genisoimage iptables iputils-arping kpartx libjs-jquery-tablesorter parted pm-utils python3-mysqldb socat sqlite3 sudo vlan cryptsetup dosfstools genisoimage gir1.2-libosinfo-1.0 netcat-openbsd open-iscsi qemu-utils sg3-utils sysfsutils ipset acl dnsmasq-base dnsmasq-utils ebtables haproxy iptables iputils-arping iputils-ping postgresql-server-dev-all python3-mysqldb sqlite3 sudo vlan conntrack conntrackd keepalived curl liberasurecode-dev make memcached rsync sqlite3 xfsprogs
++ functions-common:real_install_package:1430 :   is_ubuntu
++ functions-common:is_ubuntu:556           :   [[ -z deb ]]
++ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
++ functions-common:real_install_package:1431 :   apt_get install apache2 apache2-dev bc bsdmainutils curl g++ gawk gcc gettext git graphviz iputils-ping libapache2-mod-proxy-uwsgi libffi-dev libjpeg-dev libpcre3-dev libpq-dev libssl-dev libsystemd-dev libxml2-dev libxslt1-dev libyaml-dev lsof openssh-server openssl pkg-config psmisc python3-dev python3-pip python3-systemd python3-venv tar tcpdump unzip uuid-runtime wget wget zlib1g-dev lvm2 qemu-utils thin-provisioning-tools lsscsi open-iscsi lvm2 qemu-utils thin-provisioning-tools libkrb5-dev libldap2-dev libsasl2-dev memcached python3-mysqldb sqlite3 conntrack curl ebtables genisoimage iptables iputils-arping kpartx libjs-jquery-tablesorter parted pm-utils python3-mysqldb socat sqlite3 sudo vlan cryptsetup dosfstools genisoimage gir1.2-libosinfo-1.0 netcat-openbsd open-iscsi qemu-utils sg3-utils sysfsutils ipset acl dnsmasq-base dnsmasq-utils ebtables haproxy iptables iputils-arping iputils-ping postgresql-server-dev-all python3-mysqldb sqlite3 sudo vlan conntrack conntrackd keepalived curl liberasurecode-dev make memcached rsync sqlite3 xfsprogs
++ functions-common:apt_get:1211            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install apache2 apache2-dev bc bsdmainutils curl g++ gawk gcc gettext git graphviz iputils-ping libapache2-mod-proxy-uwsgi libffi-dev libjpeg-dev libpcre3-dev libpq-dev libssl-dev libsystemd-dev libxml2-dev libxslt1-dev libyaml-dev lsof openssh-server openssl pkg-config psmisc python3-dev python3-pip python3-systemd python3-venv tar tcpdump unzip uuid-runtime wget wget zlib1g-dev lvm2 qemu-utils thin-provisioning-tools lsscsi open-iscsi lvm2 qemu-utils thin-provisioning-tools libkrb5-dev libldap2-dev libsasl2-dev memcached python3-mysqldb sqlite3 conntrack curl ebtables genisoimage iptables iputils-arping kpartx libjs-jquery-tablesorter parted pm-utils python3-mysqldb socat sqlite3 sudo vlan cryptsetup dosfstools genisoimage gir1.2-libosinfo-1.0 netcat-openbsd open-iscsi qemu-utils sg3-utils sysfsutils ipset acl dnsmasq-base dnsmasq-utils ebtables haproxy iptables iputils-arping iputils-ping postgresql-server-dev-all python3-mysqldb sqlite3 sudo vlan conntrack conntrackd keepalived curl liberasurecode-dev make memcached rsync sqlite3 xfsprogs
Reading package lists...
Building dependency tree...
Reading state information...
acl is already the newest version (2.3.1-1).
bc is already the newest version (1.07.1-3build1).
conntrack is already the newest version (1:1.4.6-2build2).
dosfstools is already the newest version (4.2-1build3).
ebtables is already the newest version (2.0.11-4build2).
g++ is already the newest version (4:11.2.0-1ubuntu1).
gcc is already the newest version (4:11.2.0-1ubuntu1).
genisoimage is already the newest version (9:1.1.11-3.2ubuntu1).
gettext is already the newest version (0.21-4ubuntu4).
ipset is already the newest version (7.15-1build1).
keepalived is already the newest version (1:2.2.4-0.2build1).
liberasurecode-dev is already the newest version (1.6.2-1build2).
libffi-dev is already the newest version (3.4.2-4).
libjpeg-dev is already the newest version (8c-2ubuntu10).
libyaml-dev is already the newest version (0.2.2-1build2).
lsof is already the newest version (4.93.2+dfsg-1.1build2).
lsscsi is already the newest version (0.31-1build2).
make is already the newest version (4.3-4.1build1).
netcat-openbsd is already the newest version (1.218-4ubuntu1).
parted is already the newest version (3.4-2build1).
pkg-config is already the newest version (0.29.2-1ubuntu3).
psmisc is already the newest version (23.4-2build3).
python3-mysqldb is already the newest version (1.4.6-1build1).
python3-systemd is already the newest version (234-3ubuntu2).
socat is already the newest version (1.7.4.1-3ubuntu4).
sysfsutils is already the newest version (2.1.1-1build1).
thin-provisioning-tools is already the newest version (0.9.0-2ubuntu1).
bsdmainutils is already the newest version (12.1.7+nmu3ubuntu2).
conntrackd is already the newest version (1:1.4.6-2build2).
gir1.2-libosinfo-1.0 is already the newest version (1.8.0-1).
libjs-jquery-tablesorter is already the newest version (1:2.31.3+dfsg1-3).
pm-utils is already the newest version (1.4.1-19).
postgresql-server-dev-all is already the newest version (238).
vlan is already the newest version (2.0.5ubuntu5).
apache2 is already the newest version (2.4.52-1ubuntu4.16).
apache2-dev is already the newest version (2.4.52-1ubuntu4.16).
cryptsetup is already the newest version (2:2.4.3-1ubuntu1.3).
curl is already the newest version (7.81.0-1ubuntu1.21).
dnsmasq-base is already the newest version (2.90-0ubuntu0.22.04.1).
dnsmasq-utils is already the newest version (2.90-0ubuntu0.22.04.1).
gawk is already the newest version (1:5.1.0-1ubuntu0.1).
git is already the newest version (1:2.34.1-1ubuntu1.15).
haproxy is already the newest version (2.4.24-0ubuntu0.22.04.3).
iptables is already the newest version (1.8.7-1ubuntu5.2).
iputils-arping is already the newest version (3:20211215-1ubuntu0.1).
iputils-ping is already the newest version (3:20211215-1ubuntu0.1).
kpartx is already the newest version (0.8.8-1ubuntu1.22.04.4).
libkrb5-dev is already the newest version (1.19.2-2ubuntu0.7).
libldap2-dev is already the newest version (2.5.19+dfsg-0ubuntu0.22.04.1).
libpcre3-dev is already the newest version (2:8.39-13ubuntu0.22.04.1).
libpq-dev is already the newest version (14.19-0ubuntu0.22.04.1).
libsasl2-dev is already the newest version (2.1.27+dfsg2-3ubuntu1.2).
libssl-dev is already the newest version (3.0.2-0ubuntu1.20).
libsystemd-dev is already the newest version (249.11-0ubuntu3.17).
libxml2-dev is already the newest version (2.9.13+dfsg-1ubuntu0.9).
libxslt1-dev is already the newest version (1.1.34-4ubuntu0.22.04.4).
lvm2 is already the newest version (2.03.11-2.1ubuntu5).
memcached is already the newest version (1.6.14-1ubuntu0.1).
open-iscsi is already the newest version (2.1.5-1ubuntu1.1).
openssh-server is already the newest version (1:8.9p1-3ubuntu0.13).
openssl is already the newest version (3.0.2-0ubuntu1.20).
python3-dev is already the newest version (3.10.6-1~22.04.1).
qemu-utils is already the newest version (1:6.2+dfsg-2ubuntu6.27).
rsync is already the newest version (3.2.7-0ubuntu0.22.04.4).
sg3-utils is already the newest version (1.46-1ubuntu0.22.04.1).
sqlite3 is already the newest version (3.37.2-2ubuntu0.5).
sudo is already the newest version (1.9.9-1ubuntu2.5).
tar is already the newest version (1.34+dfsg-1ubuntu0.1.22.04.2).
tcpdump is already the newest version (4.99.1-3ubuntu0.2).
unzip is already the newest version (6.0-26ubuntu3.2).
uuid-runtime is already the newest version (2.37.2-4ubuntu3.4).
wget is already the newest version (1.21.2-2ubuntu1.1).
xfsprogs is already the newest version (5.13.0-1ubuntu2.1).
zlib1g-dev is already the newest version (1:1.2.11.dfsg-2ubuntu9.2).
graphviz is already the newest version (2.42.2-6ubuntu0.1).
libapache2-mod-proxy-uwsgi is already the newest version (2.4.52-1ubuntu4.16).
python3-pip is already the newest version (22.0.2+dfsg-1ubuntu0.7).
python3-venv is already the newest version (3.10.6-1~22.04.1).
The following package was automatically installed and is no longer required:
  apport-symptoms
Use 'sudo apt autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 35 not upgraded.
++ functions-common:apt_get:1215            :   result=0
++ functions-common:apt_get:1218            :   time_stop apt-get
++ functions-common:time_stop:2421          :   local name
++ functions-common:time_stop:2422          :   local end_time
++ functions-common:time_stop:2423          :   local elapsed_time
++ functions-common:time_stop:2424          :   local total
++ functions-common:time_stop:2425          :   local start_time
++ functions-common:time_stop:2427          :   name=apt-get
++ functions-common:time_stop:2428          :   start_time=1760002932586
++ functions-common:time_stop:2430          :   [[ -z 1760002932586 ]]
+++ functions-common:time_stop:2433          :   date +%s%3N
++ functions-common:time_stop:2433          :   end_time=1760002933939
++ functions-common:time_stop:2434          :   elapsed_time=1353
++ functions-common:time_stop:2435          :   total=2435
++ functions-common:time_stop:2437          :   _TIME_START[$name]=
++ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=3788
++ functions-common:apt_get:1219            :   return 0
++ tools/install_prereqs.sh:source:74       :   [[ -n False ]]
++ tools/install_prereqs.sh:source:74       :   [[ False != \F\a\l\s\e ]]
+++ tools/install_prereqs.sh:source:83       :   which python3.10
++ tools/install_prereqs.sh:source:83       :   export PYTHON=/usr/bin/python3.10
++ tools/install_prereqs.sh:source:83       :   PYTHON=/usr/bin/python3.10
++ tools/install_prereqs.sh:source:88       :   date +%s
++ tools/install_prereqs.sh:source:89       :   date
+ ./stack.sh:main:819                      :   [[ False != \T\r\u\e ]]
+ ./stack.sh:main:820                      :   PYPI_ALTERNATIVE_URL=
+ ./stack.sh:main:820                      :   /opt/stack/devstack/tools/install_pip.sh
+ tools/install_pip.sh:main:25             :   FILES=/opt/stack/devstack/files
+ tools/install_pip.sh:main:40             :   PIP_GET_PIP_URL=https://bootstrap.pypa.io/get-pip.py
+ tools/install_pip.sh:main:41             :   PIP_GET_PIP36_URL=https://bootstrap.pypa.io/pip/3.6/get-pip.py
+ tools/install_pip.sh:main:43             :   GetDistro
+ functions-common:GetDistro:470           :   GetOSVersion
+ functions-common:GetOSVersion:437        :   source /etc/os-release
++ /etc/os-release:source:1                 :   PRETTY_NAME='Ubuntu 22.04.5 LTS'
++ /etc/os-release:source:2                 :   NAME=Ubuntu
++ /etc/os-release:source:3                 :   VERSION_ID=22.04
++ /etc/os-release:source:4                 :   VERSION='22.04.5 LTS (Jammy Jellyfish)'
++ /etc/os-release:source:5                 :   VERSION_CODENAME=jammy
++ /etc/os-release:source:6                 :   ID=ubuntu
++ /etc/os-release:source:7                 :   ID_LIKE=debian
++ /etc/os-release:source:8                 :   HOME_URL=https://www.ubuntu.com/
++ /etc/os-release:source:9                 :   SUPPORT_URL=https://help.ubuntu.com/
++ /etc/os-release:source:10                :   BUG_REPORT_URL=https://bugs.launchpad.net/ubuntu/
++ /etc/os-release:source:11                :   PRIVACY_POLICY_URL=https://www.ubuntu.com/legal/terms-and-policies/privacy-policy
++ /etc/os-release:source:12                :   UBUNTU_CODENAME=jammy
+ functions-common:GetOSVersion:438        :   [[ ubuntu22.04.5 LTS (Jammy Jellyfish) == \c\e\n\t\o\s\9 ]]
+ functions-common:GetOSVersion:438        :   [[ ubuntu22.04.5 LTS (Jammy Jellyfish) =~ rhel9 ]]
+ functions-common:GetOSVersion:442        :   [[ ubuntu22.04.5 LTS (Jammy Jellyfish) =~ rocky9 ]]
+ functions-common:GetOSVersion:446        :   _ensure_lsb_release
++ functions-common:_ensure_lsb_release:414 :   command -v lsb_release
+ functions-common:_ensure_lsb_release:414 :   [[ -x /usr/bin/lsb_release ]]
+ functions-common:_ensure_lsb_release:415 :   return
++ functions-common:GetOSVersion:448        :   lsb_release -r -s
+ functions-common:GetOSVersion:448        :   os_RELEASE=22.04
++ functions-common:GetOSVersion:449        :   lsb_release -c -s
+ functions-common:GetOSVersion:449        :   os_CODENAME=jammy
++ functions-common:GetOSVersion:450        :   lsb_release -i -s
+ functions-common:GetOSVersion:450        :   os_VENDOR=Ubuntu
+ functions-common:GetOSVersion:453        :   [[ Ubuntu =~ (Debian|Ubuntu) ]]
+ functions-common:GetOSVersion:454        :   os_PACKAGE=deb
+ functions-common:GetOSVersion:459        :   typeset -xr os_VENDOR
+ functions-common:GetOSVersion:460        :   typeset -xr os_RELEASE
+ functions-common:GetOSVersion:461        :   typeset -xr os_PACKAGE
+ functions-common:GetOSVersion:462        :   typeset -xr os_CODENAME
+ functions-common:GetDistro:471           :   [[ Ubuntu =~ (Ubuntu) ]]
+ functions-common:GetDistro:474           :   DISTRO=jammy
+ functions-common:GetDistro:512           :   typeset -xr DISTRO
+ tools/install_pip.sh:main:44             :   echo 'Distro: jammy'
Distro: jammy
+ tools/install_pip.sh:main:124            :   get_versions
++ tools/install_pip.sh:get_versions:49     :   which pip
+ tools/install_pip.sh:get_versions:49     :   PIP=/usr/bin/pip
+ tools/install_pip.sh:get_versions:50     :   [[ -n /usr/bin/pip ]]
++ tools/install_pip.sh:get_versions:51     :   /usr/bin/pip --version
++ tools/install_pip.sh:get_versions:51     :   awk '{ print $2}'
+ tools/install_pip.sh:get_versions:51     :   PIP_VERSION=22.0.2
+ tools/install_pip.sh:get_versions:52     :   echo 'pip: 22.0.2'
pip: 22.0.2
+ tools/install_pip.sh:main:126            :   [[ -n '' ]]
+ tools/install_pip.sh:main:130            :   is_fedora
+ functions-common:is_fedora:536           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:540           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:540           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:541           :   '[' Ubuntu = openEuler ']'
+ functions-common:is_fedora:542           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:543           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:544           :   '[' Ubuntu = RedHatEnterpriseLinux ']'
+ functions-common:is_fedora:545           :   '[' Ubuntu = Rocky ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:547           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = Virtuozzo ']'
+ tools/install_pip.sh:main:141            :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ tools/install_pip.sh:main:144            :   sed -i -e /setuptools/d /opt/stack/requirements/upper-constraints.txt
+ tools/install_pip.sh:main:153            :   set -x
+ tools/install_pip.sh:main:156            :   get_versions
++ tools/install_pip.sh:get_versions:49     :   which pip
+ tools/install_pip.sh:get_versions:49     :   PIP=/usr/bin/pip
+ tools/install_pip.sh:get_versions:50     :   [[ -n /usr/bin/pip ]]
++ tools/install_pip.sh:get_versions:51     :   /usr/bin/pip --version
++ tools/install_pip.sh:get_versions:51     :   awk '{ print $2}'
+ tools/install_pip.sh:get_versions:51     :   PIP_VERSION=22.0.2
+ tools/install_pip.sh:get_versions:52     :   echo 'pip: 22.0.2'
pip: 22.0.2
+ ./stack.sh:main:824                      :   source /opt/stack/devstack/tools/fixup_stuff.sh
++ tools/fixup_stuff.sh:source:12           :   [[ -z /opt/stack/devstack ]]
+ ./stack.sh:main:825                      :   fixup_all
+ tools/fixup_stuff.sh:fixup_all:124       :   fixup_ubuntu
+ tools/fixup_stuff.sh:fixup_ubuntu:108    :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ tools/fixup_stuff.sh:fixup_ubuntu:118    :   sudo rm -rf '/usr/lib/python3/dist-packages/PyYAML-*.egg-info'
+ tools/fixup_stuff.sh:fixup_ubuntu:119    :   sudo rm -rf '/usr/lib/python3/dist-packages/pyasn1_modules-*.egg-info'
+ tools/fixup_stuff.sh:fixup_ubuntu:120    :   sudo rm -rf '/usr/lib/python3/dist-packages/simplejson-*.egg-info'
+ tools/fixup_stuff.sh:fixup_all:125       :   fixup_fedora
+ tools/fixup_stuff.sh:fixup_fedora:33     :   is_fedora
+ functions-common:is_fedora:536           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:540           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:540           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:541           :   '[' Ubuntu = openEuler ']'
+ functions-common:is_fedora:542           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:543           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:544           :   '[' Ubuntu = RedHatEnterpriseLinux ']'
+ functions-common:is_fedora:545           :   '[' Ubuntu = Rocky ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:547           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = Virtuozzo ']'
+ tools/fixup_stuff.sh:fixup_fedora:34     :   return
+ ./stack.sh:main:827                      :   [[ True == \T\r\u\e ]]
+ ./stack.sh:main:829                      :   sudo ln -sf /opt/stack/data/venv/bin/cinder-manage /usr/local/bin
+ ./stack.sh:main:830                      :   sudo ln -sf /opt/stack/data/venv/bin/cinder-rtstool /usr/local/bin
+ ./stack.sh:main:831                      :   sudo ln -sf /opt/stack/data/venv/bin/glance /usr/local/bin
+ ./stack.sh:main:832                      :   sudo ln -sf /opt/stack/data/venv/bin/nova-manage /usr/local/bin
+ ./stack.sh:main:833                      :   sudo ln -sf /opt/stack/data/venv/bin/openstack /usr/local/bin
+ ./stack.sh:main:834                      :   sudo ln -sf /opt/stack/data/venv/bin/privsep-helper /usr/local/bin
+ ./stack.sh:main:835                      :   sudo ln -sf /opt/stack/data/venv/bin/rally /usr/local/bin
+ ./stack.sh:main:836                      :   sudo ln -sf /opt/stack/data/venv/bin/tox /usr/local/bin
+ ./stack.sh:main:838                      :   setup_devstack_virtualenv
+ inc/python:setup_devstack_virtualenv:39  :   [[ ! -d /opt/stack/data/venv ]]
+ inc/python:setup_devstack_virtualenv:46  :   [[ :/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin: != *\:\/\o\p\t\/\s\t\a\c\k\/\d\a\t\a\/\v\e\n\v\/\b\i\n\:* ]]
+ inc/python:setup_devstack_virtualenv:47  :   export PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ inc/python:setup_devstack_virtualenv:47  :   PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ inc/python:setup_devstack_virtualenv:48  :   export PYTHON=/opt/stack/data/venv/bin/python3
+ inc/python:setup_devstack_virtualenv:48  :   PYTHON=/opt/stack/data/venv/bin/python3
+ ./stack.sh:main:842                      :   pip_install -U os-testr
Using python 3.10 to install os-testr
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade -U os-testr
Looking in indexes: https://pypi.org/simple/
Requirement already satisfied: os-testr in /opt/stack/data/venv/lib/python3.10/site-packages (3.0.0)
Requirement already satisfied: pbr!=2.1.0,>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-testr) (6.1.1)
Requirement already satisfied: python-subunit>=1.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-testr) (1.4.4)
Requirement already satisfied: testtools>=2.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-testr) (2.7.2)
Requirement already satisfied: setuptools in /opt/stack/data/venv/lib/python3.10/site-packages (from pbr!=2.1.0,>=2.0.0->os-testr) (80.9.0)
Requirement already satisfied: iso8601 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-subunit>=1.0.0->os-testr) (2.1.0)
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760002937185
+ functions-common:time_stop:2430          :   [[ -z 1760002937185 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002939736
+ functions-common:time_stop:2434          :   elapsed_time=2551
+ functions-common:time_stop:2435          :   total=0
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=2551
+ inc/python:pip_install:219               :   return 0
+ ./stack.sh:main:846                      :   iniset -sudo /etc/systemd/journald.conf Journal RateLimitBurst 0
+ ./stack.sh:main:847                      :   sudo systemctl restart systemd-journald
+ ./stack.sh:main:853                      :   install_infra
+ lib/infra:install_infra:31               :   local PIP_VIRTUAL_ENV=/opt/stack/requirements/.venv
+ lib/infra:install_infra:32               :   '[' '!' -d /opt/stack/requirements/.venv ']'
+ lib/infra:install_infra:34               :   PIP_VIRTUAL_ENV=/opt/stack/requirements/.venv
+ lib/infra:install_infra:34               :   pip_install -U pbr 'setuptools[core]'
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/requirements/.venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade -U pbr 'setuptools[core]'
Looking in indexes: https://pypi.org/simple/
Requirement already satisfied: pbr in /opt/stack/requirements/.venv/lib/python3.10/site-packages (6.1.1)
Requirement already satisfied: setuptools[core] in /opt/stack/requirements/.venv/lib/python3.10/site-packages (80.9.0)
Requirement already satisfied: tomli>=2.0.1 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from setuptools[core]) (2.2.1)
Requirement already satisfied: more_itertools in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from setuptools[core]) (10.6.0)
Requirement already satisfied: jaraco.functools>=4 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from setuptools[core]) (4.1.0)
Requirement already satisfied: packaging>=24.2 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from setuptools[core]) (24.2)
Requirement already satisfied: platformdirs>=4.2.2 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from setuptools[core]) (4.3.6)
Requirement already satisfied: wheel>=0.43.0 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from setuptools[core]) (0.45.1)
Requirement already satisfied: jaraco.text>=3.7 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from setuptools[core]) (4.0.0)
Requirement already satisfied: autocommand in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from jaraco.text>=3.7->setuptools[core]) (2.2.2)
Requirement already satisfied: jaraco.context>=4.1 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from jaraco.text>=3.7->setuptools[core]) (6.0.1)
Requirement already satisfied: backports.tarfile in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from jaraco.context>=4.1->jaraco.text>=3.7->setuptools[core]) (1.2.0)
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760002940201
+ functions-common:time_stop:2430          :   [[ -z 1760002940201 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002942814
+ functions-common:time_stop:2434          :   elapsed_time=2613
+ functions-common:time_stop:2435          :   total=2551
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=5164
+ inc/python:pip_install:219               :   return 0
+ lib/infra:install_infra:35               :   PIP_VIRTUAL_ENV=/opt/stack/requirements/.venv
+ lib/infra:install_infra:35               :   pip_install /opt/stack/requirements
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/requirements/.venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade /opt/stack/requirements
Looking in indexes: https://pypi.org/simple/
Processing /opt/stack/requirements
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: fixtures>=3.0.0 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from openstack_requirements==1.2.1.dev7499) (4.2.4.post1)
Requirement already satisfied: Parsley>=1.2 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from openstack_requirements==1.2.1.dev7499) (1.3)
Requirement already satisfied: packaging!=20.5,!=20.6,!=20.7,>=16.5 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from openstack_requirements==1.2.1.dev7499) (24.2)
Requirement already satisfied: requests>=2.14.2 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from openstack_requirements==1.2.1.dev7499) (2.32.3)
Requirement already satisfied: PyYAML>=3.12 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from openstack_requirements==1.2.1.dev7499) (6.0.2)
Requirement already satisfied: beagle>=0.2.1 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from openstack_requirements==1.2.1.dev7499) (0.5.0)
Requirement already satisfied: setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0,>=21.0.0 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from openstack_requirements==1.2.1.dev7499) (80.9.0)
Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from requests>=2.14.2->openstack_requirements==1.2.1.dev7499) (1.26.20)
Requirement already satisfied: certifi>=2017.4.17 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from requests>=2.14.2->openstack_requirements==1.2.1.dev7499) (2025.10.5)
Requirement already satisfied: idna<4,>=2.5 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from requests>=2.14.2->openstack_requirements==1.2.1.dev7499) (3.10)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/stack/requirements/.venv/lib/python3.10/site-packages (from requests>=2.14.2->openstack_requirements==1.2.1.dev7499) (3.4.1)
Building wheels for collected packages: openstack_requirements
  Building wheel for openstack_requirements (setup.py): started
  Building wheel for openstack_requirements (setup.py): finished with status 'done'
  Created wheel for openstack_requirements: filename=openstack_requirements-1.2.1.dev7499-py3-none-any.whl size=70099 sha256=b1f466990470189a93c4501b3a63d0d82c744fdd1413773d083e388ba11349c8
  Stored in directory: /tmp/pip-ephem-wheel-cache-xi8hdkr2/wheels/e1/e8/0d/0f4e660d9aaaf181126542ff9b648c105830cc8a37987debf7
Successfully built openstack_requirements
Installing collected packages: openstack_requirements
  Attempting uninstall: openstack_requirements
    Found existing installation: openstack_requirements 1.2.1.dev7499
    Uninstalling openstack_requirements-1.2.1.dev7499:
      Successfully uninstalled openstack_requirements-1.2.1.dev7499
Successfully installed openstack_requirements-1.2.1.dev7499
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760002942905
+ functions-common:time_stop:2430          :   [[ -z 1760002942905 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002948922
+ functions-common:time_stop:2434          :   elapsed_time=6017
+ functions-common:time_stop:2435          :   total=5164
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=11181
+ inc/python:pip_install:219               :   return 0
+ lib/infra:install_infra:39               :   unset PIP_VIRTUAL_ENV
+ lib/infra:install_infra:42               :   use_library_from_git pbr
+ inc/python:use_library_from_git:266      :   local name=pbr
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,pbr, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/infra:install_infra:48               :   pip_install -U pbr
Using python 3.10 to install pbr
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade -U pbr
Looking in indexes: https://pypi.org/simple/
Requirement already satisfied: pbr in /opt/stack/data/venv/lib/python3.10/site-packages (6.1.1)
Requirement already satisfied: setuptools in /opt/stack/data/venv/lib/python3.10/site-packages (from pbr) (80.9.0)
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760002949071
+ functions-common:time_stop:2430          :   [[ -z 1760002949071 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002951547
+ functions-common:time_stop:2434          :   elapsed_time=2476
+ functions-common:time_stop:2435          :   total=11181
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=13657
+ inc/python:pip_install:219               :   return 0
+ ./stack.sh:main:856                      :   python3 -m venv /opt/stack/bindep-venv
+ ./stack.sh:main:858                      :   /opt/stack/bindep-venv/bin/pip install bindep
Looking in indexes: https://pypi.org/simple/
Requirement already satisfied: bindep in /opt/stack/bindep-venv/lib/python3.10/site-packages (2.13.0)
Requirement already satisfied: pbr>=2 in /opt/stack/bindep-venv/lib/python3.10/site-packages (from bindep) (7.0.1)
Requirement already satisfied: distro>=1.7 in /opt/stack/bindep-venv/lib/python3.10/site-packages (from bindep) (1.9.0)
Requirement already satisfied: packaging in /opt/stack/bindep-venv/lib/python3.10/site-packages (from bindep) (25.0)
Requirement already satisfied: Parsley in /opt/stack/bindep-venv/lib/python3.10/site-packages (from bindep) (1.3)
Requirement already satisfied: setuptools in /opt/stack/bindep-venv/lib/python3.10/site-packages (from pbr>=2->bindep) (59.6.0)
+ ./stack.sh:main:859                      :   export BINDEP_CMD=/opt/stack/bindep-venv/bin/bindep
+ ./stack.sh:main:859                      :   BINDEP_CMD=/opt/stack/bindep-venv/bin/bindep
++ ./stack.sh:main:862                      :   _get_plugin_bindep_packages
+ ./stack.sh:main:862                      :   pkgs=
+ ./stack.sh:main:863                      :   [[ -n '' ]]
+ ./stack.sh:main:870                      :   run_phase stack pre-install
+ functions-common:run_phase:1849          :   local mode=stack
+ functions-common:run_phase:1850          :   local phase=pre-install
+ functions-common:run_phase:1851          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1852          :   local extra_plugin_file_name
+ functions-common:run_phase:1853          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1858          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1859          :   local extra
++ functions-common:run_phase:1860          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1860          :   extra=80-tempest.sh
+ functions-common:run_phase:1861          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1865          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1865          :   source /opt/stack/devstack/extras.d/80-tempest.sh stack pre-install
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2077 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ stack == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:7          :   [[ pre-install == \i\n\s\t\a\l\l ]]
++ extras.d/80-tempest.sh:source:10         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ pre-install == \p\o\s\t\-\c\o\n\f\i\g ]]
++ extras.d/80-tempest.sh:source:13         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ pre-install == \e\x\t\r\a ]]
++ extras.d/80-tempest.sh:source:16         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:16         :   [[ pre-install == \p\o\s\t\-\e\x\t\r\a ]]
++ extras.d/80-tempest.sh:source:19         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:19         :   [[ pre-install == \t\e\s\t\-\c\o\n\f\i\g ]]
++ extras.d/80-tempest.sh:source:27         :   [[ stack == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ stack == \c\l\e\a\n ]]
+ functions-common:run_phase:1870          :   [[ stack == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1873          :   [[ stack == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1876          :   run_plugins stack pre-install
+ functions-common:run_plugins:1835        :   local mode=stack
+ functions-common:run_plugins:1836        :   local phase=pre-install
+ functions-common:run_plugins:1838        :   local plugins=
+ functions-common:run_plugins:1839        :   local plugin
+ ./stack.sh:main:873                      :   set_systemd_override DefaultLimitNOFILE 2048
+ functions:set_systemd_override:836       :   local key=DefaultLimitNOFILE
+ functions:set_systemd_override:837       :   local value=2048
+ functions:set_systemd_override:839       :   local sysconf=/etc/systemd/system.conf
+ functions:set_systemd_override:840       :   iniset -sudo /etc/systemd/system.conf Manager DefaultLimitNOFILE 2048
+ functions:set_systemd_override:841       :   echo 'Set systemd system override for DefaultLimitNOFILE=2048'
Set systemd system override for DefaultLimitNOFILE=2048
+ functions:set_systemd_override:843       :   sudo systemctl daemon-reload
+ ./stack.sh:main:875                      :   install_rpc_backend
+ lib/rpc_backend:install_rpc_backend:52   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/rpc_backend:install_rpc_backend:54   :   install_package rabbitmq-server
+ functions-common:install_package:1442    :   update_package_repo
+ functions-common:update_package_repo:1416 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1417 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1418 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1420 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1424 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1425 :   apt_get_update
+ functions-common:apt_get_update:1170     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1170     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1171     :   return
+ functions-common:install_package:1443    :   real_install_package rabbitmq-server
+ functions-common:real_install_package:1430 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:real_install_package:1431 :   apt_get install rabbitmq-server
+ functions-common:apt_get:1211            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install rabbitmq-server
Reading package lists...
Building dependency tree...
Reading state information...
rabbitmq-server is already the newest version (3.9.27-0ubuntu0.2).
The following package was automatically installed and is no longer required:
  apport-symptoms
Use 'sudo apt autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 35 not upgraded.
+ functions-common:apt_get:1215            :   result=0
+ functions-common:apt_get:1218            :   time_stop apt-get
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=apt-get
+ functions-common:time_stop:2428          :   start_time=1760002957403
+ functions-common:time_stop:2430          :   [[ -z 1760002957403 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002958750
+ functions-common:time_stop:2434          :   elapsed_time=1347
+ functions-common:time_stop:2435          :   total=3788
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=5135
+ functions-common:apt_get:1219            :   return 0
+ lib/rpc_backend:install_rpc_backend:55   :   is_fedora
+ functions-common:is_fedora:536           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:540           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:540           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:541           :   '[' Ubuntu = openEuler ']'
+ functions-common:is_fedora:542           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:543           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:544           :   '[' Ubuntu = RedHatEnterpriseLinux ']'
+ functions-common:is_fedora:545           :   '[' Ubuntu = Rocky ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:547           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = Virtuozzo ']'
+ ./stack.sh:main:876                      :   restart_rpc_backend
+ lib/rpc_backend:restart_rpc_backend:68   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/rpc_backend:restart_rpc_backend:70   :   echo_summary 'Starting RabbitMQ'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Starting RabbitMQ
+ lib/rpc_backend:restart_rpc_backend:81   :   local i
++ lib/rpc_backend:restart_rpc_backend:82   :   seq 20
+ lib/rpc_backend:restart_rpc_backend:82   :   for i in `seq 20`
+ lib/rpc_backend:restart_rpc_backend:83   :   local rc=0
+ lib/rpc_backend:restart_rpc_backend:85   :   [[ 1 -eq 20 ]]
+ lib/rpc_backend:restart_rpc_backend:87   :   [[ 1 == \0 ]]
+ lib/rpc_backend:restart_rpc_backend:91   :   rabbit_setuser stackrabbit Hitachino1
+ lib/rpc_backend:rabbit_setuser:160       :   local user=stackrabbit pass=Hitachino1 found= out=
++ lib/rpc_backend:rabbit_setuser:161       :   sudo rabbitmqctl list_users
+ lib/rpc_backend:rabbit_setuser:161       :   out='Listing users ...
user	tags
stackrabbit	[]'
++ lib/rpc_backend:rabbit_setuser:163       :   echo 'Listing users ...
user	tags
stackrabbit	[]'
++ lib/rpc_backend:rabbit_setuser:163       :   awk '$1 == user { print $1 }' user=stackrabbit
+ lib/rpc_backend:rabbit_setuser:163       :   found=stackrabbit
+ lib/rpc_backend:rabbit_setuser:164       :   '[' stackrabbit = stackrabbit ']'
+ lib/rpc_backend:rabbit_setuser:165       :   sudo rabbitmqctl change_password stackrabbit Hitachino1
Changing password for user "stackrabbit" ...
+ lib/rpc_backend:rabbit_setuser:171       :   sudo rabbitmqctl set_permissions stackrabbit '.*' '.*' '.*'
Setting permissions for user "stackrabbit" in vhost "/" ...
+ lib/rpc_backend:restart_rpc_backend:92   :   '[' 0 -ne 0 ']'
+ lib/rpc_backend:restart_rpc_backend:97   :   sudo rabbitmqctl change_password stackrabbit Hitachino1
Changing password for user "stackrabbit" ...
+ lib/rpc_backend:restart_rpc_backend:99   :   '[' 0 -ne 0 ']'
+ lib/rpc_backend:restart_rpc_backend:103  :   break
+ lib/rpc_backend:restart_rpc_backend:106  :   sudo rabbitmqctl delete_user guest
Deleting user "guest" ...
Error:
User "guest" does not exist
+ lib/rpc_backend:restart_rpc_backend:106  :   true
+ ./stack.sh:main:878                      :   is_service_enabled mysql postgresql
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:879                      :   install_database
+ lib/database:install_database:118        :   install_database_mysql
+ lib/databases/mysql:install_database_mysql:192 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/databases/mysql:install_database_mysql:195 :   sudo debconf-set-selections
+ lib/databases/mysql:install_database_mysql:205 :   [[ ! -e /opt/stack/.my.cnf ]]
+ lib/databases/mysql:install_database_mysql:218 :   [[ True == \T\r\u\e ]]
+ lib/databases/mysql:install_database_mysql:219 :   is_oraclelinux
+ functions-common:is_oraclelinux:524      :   [[ -z Ubuntu ]]
+ functions-common:is_oraclelinux:528      :   '[' Ubuntu = OracleServer ']'
+ lib/databases/mysql:install_database_mysql:221 :   is_fedora
+ functions-common:is_fedora:536           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:540           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:540           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:541           :   '[' Ubuntu = openEuler ']'
+ functions-common:is_fedora:542           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:543           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:544           :   '[' Ubuntu = RedHatEnterpriseLinux ']'
+ functions-common:is_fedora:545           :   '[' Ubuntu = Rocky ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:547           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = Virtuozzo ']'
+ lib/databases/mysql:install_database_mysql:224 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/databases/mysql:install_database_mysql:225 :   install_package mysql-server
+ functions-common:install_package:1442    :   update_package_repo
+ functions-common:update_package_repo:1416 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1417 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1418 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1420 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1424 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1425 :   apt_get_update
+ functions-common:apt_get_update:1170     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1170     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1171     :   return
+ functions-common:install_package:1443    :   real_install_package mysql-server
+ functions-common:real_install_package:1430 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:real_install_package:1431 :   apt_get install mysql-server
+ functions-common:apt_get:1211            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install mysql-server
Reading package lists...
Building dependency tree...
Reading state information...
mysql-server is already the newest version (8.0.43-0ubuntu0.22.04.2).
The following package was automatically installed and is no longer required:
  apport-symptoms
Use 'sudo apt autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 35 not upgraded.
+ functions-common:apt_get:1215            :   result=0
+ functions-common:apt_get:1218            :   time_stop apt-get
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=apt-get
+ functions-common:time_stop:2428          :   start_time=1760002965563
+ functions-common:time_stop:2430          :   [[ -z 1760002965563 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002966990
+ functions-common:time_stop:2434          :   elapsed_time=1427
+ functions-common:time_stop:2435          :   total=5135
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=6562
+ functions-common:apt_get:1219            :   return 0
+ ./stack.sh:main:881                      :   '[' -n mysql ']'
+ ./stack.sh:main:882                      :   install_database_python
+ lib/database:install_database_python:123 :   install_database_python_mysql
+ lib/databases/mysql:install_database_python_mysql:234 :   pip_install_gr PyMySQL
+ inc/python:pip_install_gr:94             :   local name=PyMySQL
+ inc/python:pip_install_gr:95             :   local clean_name
++ inc/python:pip_install_gr:96             :   get_from_global_requirements PyMySQL
++ inc/python:get_from_global_requirements:241 :   local package=PyMySQL
++ inc/python:get_from_global_requirements:242 :   local required_pkg
+++ inc/python:get_from_global_requirements:243 :   grep -i -h '^PyMySQL' /opt/stack/requirements/global-requirements.txt
+++ inc/python:get_from_global_requirements:243 :   cut -d# -f1
++ inc/python:get_from_global_requirements:243 :   required_pkg='PyMySQL  '
++ inc/python:get_from_global_requirements:244 :   [[ PyMySQL   == '' ]]
++ inc/python:get_from_global_requirements:247 :   echo PyMySQL
+ inc/python:pip_install_gr:96             :   clean_name=PyMySQL
+ inc/python:pip_install_gr:97             :   pip_install PyMySQL
Using python 3.10 to install PyMySQL
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade PyMySQL
Looking in indexes: https://pypi.org/simple/
Requirement already satisfied: PyMySQL in /opt/stack/data/venv/lib/python3.10/site-packages (1.1.1)
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760002967201
+ functions-common:time_stop:2430          :   [[ -z 1760002967201 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002969811
+ functions-common:time_stop:2434          :   elapsed_time=2610
+ functions-common:time_stop:2435          :   total=13657
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=16267
+ inc/python:pip_install:219               :   return 0
+ lib/databases/mysql:install_database_python_mysql:235 :   [[ PyMySQL == \M\y\S\Q\L\-\p\y\t\h\o\n ]]
+ lib/databases/mysql:install_database_python_mysql:237 :   [[ PyMySQL == \P\y\M\y\S\Q\L ]]
+ lib/databases/mysql:install_database_python_mysql:238 :   ADDITIONAL_VENV_PACKAGES+=,PyMySQL
+ ./stack.sh:main:885                      :   is_service_enabled neutron
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:886                      :   install_neutron_agent_packages
+ lib/neutron:install_neutron_agent_packages:572 :   is_service_enabled q-l3 neutron-l3
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/neutron:install_neutron_agent_packages:573 :   install_package radvd
+ functions-common:install_package:1442    :   update_package_repo
+ functions-common:update_package_repo:1416 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1417 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1418 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1420 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1424 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1425 :   apt_get_update
+ functions-common:apt_get_update:1170     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1170     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1171     :   return
+ functions-common:install_package:1443    :   real_install_package radvd
+ functions-common:real_install_package:1430 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:real_install_package:1431 :   apt_get install radvd
+ functions-common:apt_get:1211            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install radvd
Reading package lists...
Building dependency tree...
Reading state information...
radvd is already the newest version (1:2.18-3build2).
The following package was automatically installed and is no longer required:
  apport-symptoms
Use 'sudo apt autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 35 not upgraded.
+ functions-common:apt_get:1215            :   result=0
+ functions-common:apt_get:1218            :   time_stop apt-get
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=apt-get
+ functions-common:time_stop:2428          :   start_time=1760002970173
+ functions-common:time_stop:2430          :   [[ -z 1760002970173 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002971521
+ functions-common:time_stop:2434          :   elapsed_time=1348
+ functions-common:time_stop:2435          :   total=6562
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=7910
+ functions-common:apt_get:1219            :   return 0
+ lib/neutron:install_neutron_agent_packages:576 :   is_service_enabled q-agt neutron-agent q-dhcp neutron-dhcp q-l3 neutron-l3
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/neutron:install_neutron_agent_packages:577 :   neutron_plugin_install_agent_packages
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_install_agent_packages:17 :   _neutron_ovs_base_install_agent_packages
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_install_agent_packages:69 :   '[' False == True ']'
++ lib/neutron_plugins/ovs_base:_neutron_ovs_base_install_agent_packages:76 :   get_packages openvswitch
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_install_agent_packages:76 :   install_package fakeroot make openvswitch-switch
+ functions-common:install_package:1442    :   update_package_repo
+ functions-common:update_package_repo:1416 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1417 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1418 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1420 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1424 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1425 :   apt_get_update
+ functions-common:apt_get_update:1170     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1170     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1171     :   return
+ functions-common:install_package:1443    :   real_install_package fakeroot make openvswitch-switch
+ functions-common:real_install_package:1430 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:real_install_package:1431 :   apt_get install fakeroot make openvswitch-switch
+ functions-common:apt_get:1211            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install fakeroot make openvswitch-switch
Reading package lists...
Building dependency tree...
Reading state information...
fakeroot is already the newest version (1.28-1ubuntu1).
make is already the newest version (4.3-4.1build1).
openvswitch-switch is already the newest version (2.17.9-0ubuntu0.22.04.1).
The following package was automatically installed and is no longer required:
  apport-symptoms
Use 'sudo apt autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 35 not upgraded.
+ functions-common:apt_get:1215            :   result=0
+ functions-common:apt_get:1218            :   time_stop apt-get
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=apt-get
+ functions-common:time_stop:2428          :   start_time=1760002971869
+ functions-common:time_stop:2430          :   [[ -z 1760002971869 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002973363
+ functions-common:time_stop:2434          :   elapsed_time=1494
+ functions-common:time_stop:2435          :   total=7910
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=9404
+ functions-common:apt_get:1219            :   return 0
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_install_agent_packages:77 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_install_agent_packages:78 :   _neutron_ovs_base_install_ubuntu_dkms
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_install_ubuntu_dkms:58 :   local kernel_version
++ lib/neutron_plugins/ovs_base:_neutron_ovs_base_install_ubuntu_dkms:59 :   uname -r
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_install_ubuntu_dkms:59 :   kernel_version=6.8.0-85-generic
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_install_ubuntu_dkms:60 :   local kernel_major_minor
++ lib/neutron_plugins/ovs_base:_neutron_ovs_base_install_ubuntu_dkms:61 :   echo 6.8.0-85-generic
++ lib/neutron_plugins/ovs_base:_neutron_ovs_base_install_ubuntu_dkms:61 :   cut -d. -f1-2
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_install_ubuntu_dkms:61 :   kernel_major_minor=6.8
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_install_ubuntu_dkms:63 :   vercmp 6.8 '<' 3.13
+ functions:vercmp:639                     :   local v1=6.8
+ functions:vercmp:640                     :   local 'op=<'
+ functions:vercmp:641                     :   local v2=3.13
+ functions:vercmp:642                     :   local result
++ functions:vercmp:646                     :   echo -e '6.8\n3.13'
++ functions:vercmp:646                     :   sort -V
++ functions:vercmp:646                     :   head -1
+ functions:vercmp:646                     :   result=3.13
+ functions:vercmp:648                     :   case $op in
+ functions:vercmp:658                     :   '[' 6.8 '!=' 3.13 ']'
+ functions:vercmp:658                     :   '[' 3.13 = 6.8 ']'
+ functions:vercmp:659                     :   return
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_install_agent_packages:79 :   restart_service openvswitch-switch
+ functions-common:restart_service:2305    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2306    :   sudo /bin/systemctl restart openvswitch-switch
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_install_agent_packages:18 :   use_library_from_git os-ken
+ inc/python:use_library_from_git:266      :   local name=os-ken
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,os-ken, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ ./stack.sh:main:889                      :   is_service_enabled etcd3
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:890                      :   install_etcd3
+ lib/etcd3:install_etcd3:103              :   echo 'Installing etcd'
Installing etcd
+ lib/etcd3:install_etcd3:106              :   sudo mkdir -p /opt/stack/bin
+ lib/etcd3:install_etcd3:107              :   sudo mkdir -p /opt/stack/data/etcd
+ lib/etcd3:install_etcd3:108              :   [[ True == \T\r\u\e ]]
+ lib/etcd3:install_etcd3:109              :   sudo mount -t tmpfs -o nodev,nosuid,size=512M tmpfs /opt/stack/data/etcd
+ lib/etcd3:install_etcd3:113              :   local etcd_file
++ lib/etcd3:install_etcd3:114              :   get_extra_file https://github.com/etcd-io/etcd/releases/download/v3.4.27/etcd-v3.4.27-linux-amd64.tar.gz
++ functions:get_extra_file:62              :   local file_url=https://github.com/etcd-io/etcd/releases/download/v3.4.27/etcd-v3.4.27-linux-amd64.tar.gz
+++ functions:get_extra_file:64              :   basename https://github.com/etcd-io/etcd/releases/download/v3.4.27/etcd-v3.4.27-linux-amd64.tar.gz
++ functions:get_extra_file:64              :   file_name=etcd-v3.4.27-linux-amd64.tar.gz
++ functions:get_extra_file:65              :   [[ https://github.com/etcd-io/etcd/releases/download/v3.4.27/etcd-v3.4.27-linux-amd64.tar.gz != file* ]]
++ functions:get_extra_file:67              :   [[ ! -f /opt/stack/devstack/files/etcd-v3.4.27-linux-amd64.tar.gz ]]
++ functions:get_extra_file:73              :   echo /opt/stack/devstack/files/etcd-v3.4.27-linux-amd64.tar.gz
++ functions:get_extra_file:74              :   return
+ lib/etcd3:install_etcd3:114              :   etcd_file=/opt/stack/devstack/files/etcd-v3.4.27-linux-amd64.tar.gz
+ lib/etcd3:install_etcd3:115              :   '[' '!' -f /opt/stack/devstack/files/etcd-v3.4.27-linux-amd64/etcd ']'
+ lib/etcd3:install_etcd3:124              :   '[' '!' -f /opt/stack/bin/etcd ']'
+ lib/etcd3:install_etcd3:125              :   sudo cp /opt/stack/devstack/files/etcd-v3.4.27-linux-amd64/etcd /opt/stack/bin/etcd
+ lib/etcd3:install_etcd3:126              :   sudo cp /opt/stack/devstack/files/etcd-v3.4.27-linux-amd64/etcdctl /opt/stack/bin/etcdctl
+ ./stack.sh:main:899                      :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ ./stack.sh:main:909                      :   install_dstat
+ lib/dstat:install_dstat:22               :   is_service_enabled memory_tracker
+ functions-common:is_service_enabled:2077 :   return 1
+ ./stack.sh:main:915                      :   echo_summary 'Installing OpenStack project source'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Installing OpenStack project source
+ ./stack.sh:main:918                      :   install_libs
+ lib/libraries:install_libs:90            :   _install_lib_from_source automaton
+ lib/libraries:_install_lib_from_source:74 :   local name=automaton
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git automaton
+ inc/python:use_library_from_git:266      :   local name=automaton
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,automaton, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:91            :   _install_lib_from_source castellan
+ lib/libraries:_install_lib_from_source:74 :   local name=castellan
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git castellan
+ inc/python:use_library_from_git:266      :   local name=castellan
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,castellan, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:92            :   _install_lib_from_source cliff
+ lib/libraries:_install_lib_from_source:74 :   local name=cliff
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git cliff
+ inc/python:use_library_from_git:266      :   local name=cliff
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,cliff, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:93            :   _install_lib_from_source cursive
+ lib/libraries:_install_lib_from_source:74 :   local name=cursive
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git cursive
+ inc/python:use_library_from_git:266      :   local name=cursive
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,cursive, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:94            :   _install_lib_from_source debtcollector
+ lib/libraries:_install_lib_from_source:74 :   local name=debtcollector
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git debtcollector
+ inc/python:use_library_from_git:266      :   local name=debtcollector
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,debtcollector, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:95            :   _install_lib_from_source futurist
+ lib/libraries:_install_lib_from_source:74 :   local name=futurist
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git futurist
+ inc/python:use_library_from_git:266      :   local name=futurist
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,futurist, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:96            :   _install_lib_from_source openstacksdk
+ lib/libraries:_install_lib_from_source:74 :   local name=openstacksdk
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git openstacksdk
+ inc/python:use_library_from_git:266      :   local name=openstacksdk
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,openstacksdk, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:97            :   _install_lib_from_source osc-lib
+ lib/libraries:_install_lib_from_source:74 :   local name=osc-lib
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git osc-lib
+ inc/python:use_library_from_git:266      :   local name=osc-lib
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,osc-lib, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:98            :   _install_lib_from_source osc-placement
+ lib/libraries:_install_lib_from_source:74 :   local name=osc-placement
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git osc-placement
+ inc/python:use_library_from_git:266      :   local name=osc-placement
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,osc-placement, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:99            :   _install_lib_from_source os-client-config
+ lib/libraries:_install_lib_from_source:74 :   local name=os-client-config
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git os-client-config
+ inc/python:use_library_from_git:266      :   local name=os-client-config
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,os-client-config, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:100           :   _install_lib_from_source oslo.cache
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.cache
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.cache
+ inc/python:use_library_from_git:266      :   local name=oslo.cache
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.cache, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:101           :   _install_lib_from_source oslo.concurrency
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.concurrency
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.concurrency
+ inc/python:use_library_from_git:266      :   local name=oslo.concurrency
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.concurrency, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:102           :   _install_lib_from_source oslo.config
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.config
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.config
+ inc/python:use_library_from_git:266      :   local name=oslo.config
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.config, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:103           :   _install_lib_from_source oslo.context
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.context
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.context
+ inc/python:use_library_from_git:266      :   local name=oslo.context
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.context, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:104           :   _install_lib_from_source oslo.db
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.db
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.db
+ inc/python:use_library_from_git:266      :   local name=oslo.db
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.db, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:105           :   _install_lib_from_source oslo.i18n
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.i18n
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.i18n
+ inc/python:use_library_from_git:266      :   local name=oslo.i18n
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.i18n, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:106           :   _install_lib_from_source oslo.limit
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.limit
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.limit
+ inc/python:use_library_from_git:266      :   local name=oslo.limit
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.limit, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:107           :   _install_lib_from_source oslo.log
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.log
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.log
+ inc/python:use_library_from_git:266      :   local name=oslo.log
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.log, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:108           :   _install_lib_from_source oslo.messaging
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.messaging
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.messaging
+ inc/python:use_library_from_git:266      :   local name=oslo.messaging
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.messaging, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:109           :   _install_lib_from_source oslo.middleware
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.middleware
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.middleware
+ inc/python:use_library_from_git:266      :   local name=oslo.middleware
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.middleware, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:110           :   _install_lib_from_source oslo.policy
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.policy
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.policy
+ inc/python:use_library_from_git:266      :   local name=oslo.policy
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.policy, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:111           :   _install_lib_from_source oslo.privsep
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.privsep
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.privsep
+ inc/python:use_library_from_git:266      :   local name=oslo.privsep
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.privsep, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:112           :   _install_lib_from_source oslo.reports
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.reports
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.reports
+ inc/python:use_library_from_git:266      :   local name=oslo.reports
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.reports, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:113           :   _install_lib_from_source oslo.rootwrap
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.rootwrap
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.rootwrap
+ inc/python:use_library_from_git:266      :   local name=oslo.rootwrap
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.rootwrap, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:114           :   _install_lib_from_source oslo.serialization
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.serialization
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.serialization
+ inc/python:use_library_from_git:266      :   local name=oslo.serialization
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.serialization, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:115           :   _install_lib_from_source oslo.service
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.service
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.service
+ inc/python:use_library_from_git:266      :   local name=oslo.service
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.service, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:116           :   _install_lib_from_source oslo.utils
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.utils
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.utils
+ inc/python:use_library_from_git:266      :   local name=oslo.utils
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.utils, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:117           :   _install_lib_from_source oslo.versionedobjects
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.versionedobjects
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.versionedobjects
+ inc/python:use_library_from_git:266      :   local name=oslo.versionedobjects
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.versionedobjects, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:118           :   _install_lib_from_source oslo.vmware
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.vmware
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.vmware
+ inc/python:use_library_from_git:266      :   local name=oslo.vmware
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,oslo.vmware, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:119           :   _install_lib_from_source osprofiler
+ lib/libraries:_install_lib_from_source:74 :   local name=osprofiler
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git osprofiler
+ inc/python:use_library_from_git:266      :   local name=osprofiler
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,osprofiler, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:120           :   _install_lib_from_source pycadf
+ lib/libraries:_install_lib_from_source:74 :   local name=pycadf
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git pycadf
+ inc/python:use_library_from_git:266      :   local name=pycadf
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,pycadf, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:121           :   _install_lib_from_source stevedore
+ lib/libraries:_install_lib_from_source:74 :   local name=stevedore
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git stevedore
+ inc/python:use_library_from_git:266      :   local name=stevedore
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,stevedore, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:122           :   _install_lib_from_source taskflow
+ lib/libraries:_install_lib_from_source:74 :   local name=taskflow
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git taskflow
+ inc/python:use_library_from_git:266      :   local name=taskflow
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,taskflow, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:123           :   _install_lib_from_source tooz
+ lib/libraries:_install_lib_from_source:74 :   local name=tooz
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git tooz
+ inc/python:use_library_from_git:266      :   local name=tooz
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,tooz, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:127           :   _install_lib_from_source os-brick
+ lib/libraries:_install_lib_from_source:74 :   local name=os-brick
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git os-brick
+ inc/python:use_library_from_git:266      :   local name=os-brick
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,os-brick, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:128           :   _install_lib_from_source os-resource-classes
+ lib/libraries:_install_lib_from_source:74 :   local name=os-resource-classes
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git os-resource-classes
+ inc/python:use_library_from_git:266      :   local name=os-resource-classes
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,os-resource-classes, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:129           :   _install_lib_from_source os-traits
+ lib/libraries:_install_lib_from_source:74 :   local name=os-traits
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git os-traits
+ inc/python:use_library_from_git:266      :   local name=os-traits
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,os-traits, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:132           :   _install_lib_from_source python-barbicanclient
+ lib/libraries:_install_lib_from_source:74 :   local name=python-barbicanclient
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git python-barbicanclient
+ inc/python:use_library_from_git:266      :   local name=python-barbicanclient
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,python-barbicanclient, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/libraries:install_libs:139           :   pip_install etcd3
Using python 3.10 to install etcd3
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade etcd3
Looking in indexes: https://pypi.org/simple/
Requirement already satisfied: etcd3 in /opt/stack/data/venv/lib/python3.10/site-packages (0.12.0)
Requirement already satisfied: grpcio>=1.27.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from etcd3) (1.70.0)
Requirement already satisfied: protobuf>=3.6.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from etcd3) (5.29.3)
Requirement already satisfied: six>=1.12.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from etcd3) (1.17.0)
Requirement already satisfied: tenacity>=6.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from etcd3) (9.0.0)
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760002977823
+ functions-common:time_stop:2430          :   [[ -z 1760002977823 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002980380
+ functions-common:time_stop:2434          :   elapsed_time=2557
+ functions-common:time_stop:2435          :   total=16267
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=18824
+ inc/python:pip_install:219               :   return 0
+ lib/libraries:install_libs:140           :   pip_install etcd3gw
Using python 3.10 to install etcd3gw
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade etcd3gw
Looking in indexes: https://pypi.org/simple/
Requirement already satisfied: etcd3gw in /opt/stack/data/venv/lib/python3.10/site-packages (2.4.2)
Requirement already satisfied: futurist>=0.16.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from etcd3gw) (3.1.0)
Requirement already satisfied: pbr>=2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from etcd3gw) (6.1.1)
Requirement already satisfied: requests>=2.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from etcd3gw) (2.32.3)
Requirement already satisfied: debtcollector>=3.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from futurist>=0.16.0->etcd3gw) (3.0.0)
Requirement already satisfied: wrapt>=1.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from debtcollector>=3.0.0->futurist>=0.16.0->etcd3gw) (1.17.2)
Requirement already satisfied: setuptools in /opt/stack/data/venv/lib/python3.10/site-packages (from pbr>=2.0->etcd3gw) (80.9.0)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.20.0->etcd3gw) (3.4.1)
Requirement already satisfied: idna<4,>=2.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.20.0->etcd3gw) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.20.0->etcd3gw) (1.26.20)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests>=2.20.0->etcd3gw) (2020.6.20)
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760002980471
+ functions-common:time_stop:2430          :   [[ -z 1760002980471 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002982862
+ functions-common:time_stop:2434          :   elapsed_time=2391
+ functions-common:time_stop:2435          :   total=18824
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=21215
+ inc/python:pip_install:219               :   return 0
+ ./stack.sh:main:921                      :   install_apache_uwsgi
+ lib/apache:install_apache_uwsgi:76       :   local apxs=apxs2
+ lib/apache:install_apache_uwsgi:77       :   is_fedora
+ functions-common:is_fedora:536           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:540           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:540           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:541           :   '[' Ubuntu = openEuler ']'
+ functions-common:is_fedora:542           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:543           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:544           :   '[' Ubuntu = RedHatEnterpriseLinux ']'
+ functions-common:is_fedora:545           :   '[' Ubuntu = Rocky ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:547           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = Virtuozzo ']'
+ lib/apache:install_apache_uwsgi:81       :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/apache:install_apache_uwsgi:82       :   local 'pkg_list=uwsgi uwsgi-plugin-python3 libapache2-mod-proxy-uwsgi'
+ lib/apache:install_apache_uwsgi:83       :   install_package uwsgi uwsgi-plugin-python3 libapache2-mod-proxy-uwsgi
+ functions-common:install_package:1442    :   update_package_repo
+ functions-common:update_package_repo:1416 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1417 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1418 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1420 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1424 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1425 :   apt_get_update
+ functions-common:apt_get_update:1170     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1170     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1171     :   return
+ functions-common:install_package:1443    :   real_install_package uwsgi uwsgi-plugin-python3 libapache2-mod-proxy-uwsgi
+ functions-common:real_install_package:1430 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:real_install_package:1431 :   apt_get install uwsgi uwsgi-plugin-python3 libapache2-mod-proxy-uwsgi
+ functions-common:apt_get:1211            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install uwsgi uwsgi-plugin-python3 libapache2-mod-proxy-uwsgi
Reading package lists...
Building dependency tree...
Reading state information...
uwsgi is already the newest version (2.0.20-4).
uwsgi-plugin-python3 is already the newest version (2.0.20-4).
libapache2-mod-proxy-uwsgi is already the newest version (2.4.52-1ubuntu4.16).
The following package was automatically installed and is no longer required:
  apport-symptoms
Use 'sudo apt autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 35 not upgraded.
+ functions-common:apt_get:1215            :   result=0
+ functions-common:apt_get:1218            :   time_stop apt-get
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=apt-get
+ functions-common:time_stop:2428          :   start_time=1760002983252
+ functions-common:time_stop:2430          :   [[ -z 1760002983252 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002984546
+ functions-common:time_stop:2434          :   elapsed_time=1294
+ functions-common:time_stop:2435          :   total=9404
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=10698
+ functions-common:apt_get:1219            :   return 0
+ lib/apache:install_apache_uwsgi:115      :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/apache:install_apache_uwsgi:117      :   sudo a2enmod proxy
Module proxy already enabled
+ lib/apache:install_apache_uwsgi:118      :   sudo a2enmod proxy_uwsgi
Considering dependency proxy for proxy_uwsgi:
Module proxy already enabled
Module proxy_uwsgi already enabled
+ lib/apache:install_apache_uwsgi:124      :   restart_apache_server
+ lib/apache:restart_apache_server:237     :   restart_service apache2
+ functions-common:restart_service:2305    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2306    :   sudo /bin/systemctl restart apache2
+ ./stack.sh:main:924                      :   install_keystoneauth
+ lib/keystone:install_keystoneauth:483    :   use_library_from_git keystoneauth
+ inc/python:use_library_from_git:266      :   local name=keystoneauth
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,keystoneauth, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ ./stack.sh:main:925                      :   install_keystoneclient
+ lib/keystone:install_keystoneclient:491  :   use_library_from_git python-keystoneclient
+ inc/python:use_library_from_git:266      :   local name=python-keystoneclient
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,python-keystoneclient, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ ./stack.sh:main:926                      :   install_glanceclient
+ lib/glance:install_glanceclient:562      :   use_library_from_git python-glanceclient
+ inc/python:use_library_from_git:266      :   local name=python-glanceclient
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,python-glanceclient, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ ./stack.sh:main:927                      :   install_cinderclient
+ lib/cinder:install_cinderclient:571      :   use_library_from_git python-brick-cinderclient-ext
+ inc/python:use_library_from_git:266      :   local name=python-brick-cinderclient-ext
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,python-brick-cinderclient-ext, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/cinder:install_cinderclient:576      :   use_library_from_git python-cinderclient
+ inc/python:use_library_from_git:266      :   local name=python-cinderclient
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,python-cinderclient, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ ./stack.sh:main:928                      :   install_novaclient
+ lib/nova:install_novaclient:924          :   use_library_from_git python-novaclient
+ inc/python:use_library_from_git:266      :   local name=python-novaclient
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,python-novaclient, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ ./stack.sh:main:929                      :   is_service_enabled swift glance horizon
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:930                      :   install_swiftclient
+ lib/swift:install_swiftclient:730        :   use_library_from_git python-swiftclient
+ inc/python:use_library_from_git:266      :   local name=python-swiftclient
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,python-swiftclient, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ ./stack.sh:main:932                      :   is_service_enabled neutron nova horizon
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:933                      :   install_neutronclient
+ lib/neutron:install_neutronclient:563    :   use_library_from_git python-neutronclient
+ inc/python:use_library_from_git:266      :   local name=python-neutronclient
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,python-neutronclient, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ ./stack.sh:main:937                      :   install_keystonemiddleware
+ lib/keystone:install_keystonemiddleware:501 :   use_library_from_git keystonemiddleware
+ inc/python:use_library_from_git:266      :   local name=keystonemiddleware
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,keystonemiddleware, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/keystone:install_keystonemiddleware:506 :   pip_install_gr keystonemiddleware
+ inc/python:pip_install_gr:94             :   local name=keystonemiddleware
+ inc/python:pip_install_gr:95             :   local clean_name
++ inc/python:pip_install_gr:96             :   get_from_global_requirements keystonemiddleware
++ inc/python:get_from_global_requirements:241 :   local package=keystonemiddleware
++ inc/python:get_from_global_requirements:242 :   local required_pkg
+++ inc/python:get_from_global_requirements:243 :   grep -i -h '^keystonemiddleware' /opt/stack/requirements/global-requirements.txt
+++ inc/python:get_from_global_requirements:243 :   cut -d# -f1
++ inc/python:get_from_global_requirements:243 :   required_pkg='keystonemiddleware  '
++ inc/python:get_from_global_requirements:244 :   [[ keystonemiddleware   == '' ]]
++ inc/python:get_from_global_requirements:247 :   echo keystonemiddleware
+ inc/python:pip_install_gr:96             :   clean_name=keystonemiddleware
+ inc/python:pip_install_gr:97             :   pip_install keystonemiddleware
Using python 3.10 to install keystonemiddleware
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade keystonemiddleware
Looking in indexes: https://pypi.org/simple/
Requirement already satisfied: keystonemiddleware in /opt/stack/data/venv/lib/python3.10/site-packages (10.9.0)
Requirement already satisfied: keystoneauth1>=3.12.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware) (5.10.0)
Requirement already satisfied: oslo.cache>=1.26.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware) (3.10.2)
Requirement already satisfied: oslo.config>=5.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware) (9.7.1)
Requirement already satisfied: oslo.context>=2.19.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware) (5.7.1)
Requirement already satisfied: oslo.i18n>=3.15.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware) (6.5.1)
Requirement already satisfied: oslo.log>=3.36.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware) (7.1.0)
Requirement already satisfied: oslo.serialization>=2.18.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware) (5.7.0)
Requirement already satisfied: oslo.utils>=3.33.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware) (8.2.0)
Requirement already satisfied: pbr>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware) (6.1.1)
Requirement already satisfied: pycadf>=1.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware) (4.0.1)
Requirement already satisfied: PyJWT>=2.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware) (2.10.1)
Requirement already satisfied: python-keystoneclient>=3.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware) (5.6.0)
Requirement already satisfied: requests>=2.14.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware) (2.32.3)
Requirement already satisfied: WebOb>=1.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware) (1.8.9)
Requirement already satisfied: iso8601>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.12.0->keystonemiddleware) (2.1.0)
Requirement already satisfied: stevedore>=1.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.12.0->keystonemiddleware) (5.4.1)
Requirement already satisfied: os-service-types>=1.2.0 in /usr/lib/python3/dist-packages (from keystoneauth1>=3.12.0->keystonemiddleware) (1.7.0)
Requirement already satisfied: typing-extensions>=4.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.12.0->keystonemiddleware) (4.12.2)
Requirement already satisfied: dogpile.cache>=1.3.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.cache>=1.26.0->keystonemiddleware) (1.3.4)
Requirement already satisfied: debtcollector>=3.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.cache>=1.26.0->keystonemiddleware) (3.0.0)
Requirement already satisfied: wrapt>=1.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from debtcollector>=3.0.0->oslo.cache>=1.26.0->keystonemiddleware) (1.17.2)
Requirement already satisfied: decorator>=4.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from dogpile.cache>=1.3.3->oslo.cache>=1.26.0->keystonemiddleware) (5.1.1)
Requirement already satisfied: netaddr>=0.7.18 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=5.2.0->keystonemiddleware) (1.3.0)
Requirement already satisfied: rfc3986>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=5.2.0->keystonemiddleware) (2.0.0)
Requirement already satisfied: PyYAML>=5.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=5.2.0->keystonemiddleware) (6.0.2)
Requirement already satisfied: python-dateutil>=2.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.log>=3.36.0->keystonemiddleware) (2.9.0.post0)
Requirement already satisfied: msgpack>=0.5.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.serialization>=2.18.0->keystonemiddleware) (1.1.0)
Requirement already satisfied: tzdata>=2022.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.serialization>=2.18.0->keystonemiddleware) (2025.1)
Requirement already satisfied: pyparsing>=2.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.33.0->keystonemiddleware) (3.2.1)
Requirement already satisfied: packaging>=20.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.33.0->keystonemiddleware) (24.2)
Requirement already satisfied: psutil>=3.2.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.33.0->keystonemiddleware) (7.0.0)
Requirement already satisfied: setuptools in /opt/stack/data/venv/lib/python3.10/site-packages (from pbr>=2.0.0->keystonemiddleware) (80.9.0)
Requirement already satisfied: six>=1.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-dateutil>=2.7.0->oslo.log>=3.36.0->keystonemiddleware) (1.17.0)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.14.2->keystonemiddleware) (3.4.1)
Requirement already satisfied: idna<4,>=2.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.14.2->keystonemiddleware) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.14.2->keystonemiddleware) (1.26.20)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests>=2.14.2->keystonemiddleware) (2020.6.20)
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760002985825
+ functions-common:time_stop:2430          :   [[ -z 1760002985825 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002988355
+ functions-common:time_stop:2434          :   elapsed_time=2530
+ functions-common:time_stop:2435          :   total=21215
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=23745
+ inc/python:pip_install:219               :   return 0
+ lib/keystone:install_keystonemiddleware:510 :   pip_install_gr python-memcached
+ inc/python:pip_install_gr:94             :   local name=python-memcached
+ inc/python:pip_install_gr:95             :   local clean_name
++ inc/python:pip_install_gr:96             :   get_from_global_requirements python-memcached
++ inc/python:get_from_global_requirements:241 :   local package=python-memcached
++ inc/python:get_from_global_requirements:242 :   local required_pkg
+++ inc/python:get_from_global_requirements:243 :   grep -i -h '^python-memcached' /opt/stack/requirements/global-requirements.txt
+++ inc/python:get_from_global_requirements:243 :   cut -d# -f1
++ inc/python:get_from_global_requirements:243 :   required_pkg='python-memcached  '
++ inc/python:get_from_global_requirements:244 :   [[ python-memcached   == '' ]]
++ inc/python:get_from_global_requirements:247 :   echo python-memcached
+ inc/python:pip_install_gr:96             :   clean_name=python-memcached
+ inc/python:pip_install_gr:97             :   pip_install python-memcached
Using python 3.10 to install python-memcached
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade python-memcached
Looking in indexes: https://pypi.org/simple/
Requirement already satisfied: python-memcached in /opt/stack/data/venv/lib/python3.10/site-packages (1.62)
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760002988545
+ functions-common:time_stop:2430          :   [[ -z 1760002988545 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760002990974
+ functions-common:time_stop:2434          :   elapsed_time=2429
+ functions-common:time_stop:2435          :   total=23745
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=26174
+ inc/python:pip_install:219               :   return 0
+ ./stack.sh:main:939                      :   is_service_enabled keystone
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:940                      :   '[' 172.25.93.57 == 172.25.93.57 ']'
+ ./stack.sh:main:941                      :   stack_install_service keystone
+ lib/stack:stack_install_service:20       :   local service=keystone
+ lib/stack:stack_install_service:21       :   type install_keystone
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_keystone
+ lib/keystone:install_keystone:516        :   is_service_enabled ldap
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/keystone:install_keystone:520        :   git_clone https://opendev.org/openstack/keystone.git /opt/stack/keystone stable/2025.1
+ functions-common:git_clone:593           :   local git_remote=https://opendev.org/openstack/keystone.git
+ functions-common:git_clone:594           :   local git_dest=/opt/stack/keystone
+ functions-common:git_clone:595           :   local git_ref=stable/2025.1
+ functions-common:git_clone:596           :   local orig_dir
++ functions-common:git_clone:597           :   pwd
+ functions-common:git_clone:597           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:598           :   local git_clone_flags=
++ functions-common:git_clone:600           :   trueorfalse False RECLONE
+ functions-common:git_clone:600           :   RECLONE=False
+ functions-common:git_clone:601           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:605           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:614           :   echo stable/2025.1
+ functions-common:git_clone:614           :   egrep -q '^refs'
+ functions-common:git_clone:628           :   [[ ! -d /opt/stack/keystone ]]
+ functions-common:git_clone:638           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:673           :   sudo git config --system --add safe.directory /opt/stack/keystone
+ functions-common:git_clone:676           :   cd /opt/stack/keystone
+ functions-common:git_clone:677           :   git show --oneline
+ functions-common:git_clone:677           :   head -1
0bfe3957e Merge "api: Add log when creating unscoped token" into stable/2025.1
+ functions-common:git_clone:678           :   cd /opt/stack/devstack
+ lib/keystone:install_keystone:521        :   setup_develop /opt/stack/keystone
+ inc/python:setup_develop:354             :   local bindep
+ inc/python:setup_develop:355             :   [[ /opt/stack/keystone == -bindep* ]]
+ inc/python:setup_develop:359             :   local project_dir=/opt/stack/keystone
+ inc/python:setup_develop:360             :   local extras=
+ inc/python:setup_develop:361             :   _setup_package_with_constraints_edit /opt/stack/keystone -e
+ inc/python:_setup_package_with_constraints_edit:380 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:381 :   [[ /opt/stack/keystone == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:385 :   local project_dir=/opt/stack/keystone
+ inc/python:_setup_package_with_constraints_edit:386 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:387 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:394 :   cd /opt/stack/keystone
++ inc/python:_setup_package_with_constraints_edit:394 :   pwd
+ inc/python:_setup_package_with_constraints_edit:394 :   project_dir=/opt/stack/keystone
+ inc/python:_setup_package_with_constraints_edit:396 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:400 :   local name
++ inc/python:_setup_package_with_constraints_edit:401 :   awk '/^name.*=/ {print $3}' /opt/stack/keystone/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:401 :   name=keystone
+ inc/python:_setup_package_with_constraints_edit:402 :   '[' -z keystone ']'
+ inc/python:_setup_package_with_constraints_edit:406 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- keystone
/opt/stack/requirements/.venv/lib/python3.10/site-packages/openstack_requirements/requirement.py:20: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
+ inc/python:_setup_package_with_constraints_edit:409 :   setup_package /opt/stack/keystone -e
+ inc/python:setup_package:437             :   local bindep=0
+ inc/python:setup_package:438             :   local bindep_flag=
+ inc/python:setup_package:439             :   local bindep_profiles=
+ inc/python:setup_package:440             :   [[ /opt/stack/keystone == -bindep* ]]
+ inc/python:setup_package:445             :   local project_dir=/opt/stack/keystone
+ inc/python:setup_package:446             :   local flags=-e
+ inc/python:setup_package:447             :   local extras=
+ inc/python:setup_package:451             :   [[ -n -e ]]
+ inc/python:setup_package:451             :   [[ -z '' ]]
+ inc/python:setup_package:451             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:456             :   [[ ! -z '' ]]
+ inc/python:setup_package:461             :   [[ 0 == 1 ]]
+ inc/python:setup_package:465             :   pip_install -e /opt/stack/keystone
Using python 3.10 to install /opt/stack/keystone
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade -e /opt/stack/keystone
Looking in indexes: https://pypi.org/simple/
Obtaining file:///opt/stack/keystone
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: pbr!=2.1.0,>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (6.1.1)
Requirement already satisfied: WebOb>=1.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (1.8.9)
Requirement already satisfied: Flask!=0.11,>=1.0.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (3.1.0)
Requirement already satisfied: Flask-RESTful>=0.3.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (0.3.10)
Requirement already satisfied: cryptography>=2.7 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (43.0.3)
Requirement already satisfied: SQLAlchemy>=1.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (2.0.38)
Requirement already satisfied: stevedore>=1.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (5.4.1)
Requirement already satisfied: python-keystoneclient>=3.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (5.6.0)
Requirement already satisfied: keystonemiddleware>=7.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (10.9.0)
Requirement already satisfied: bcrypt>=3.1.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (4.0.1)
Requirement already satisfied: scrypt>=0.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (0.8.27)
Requirement already satisfied: oslo.cache>=1.26.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (3.10.2)
Requirement already satisfied: oslo.config>=6.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (9.7.1)
Requirement already satisfied: oslo.context>=2.22.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (5.7.1)
Requirement already satisfied: oslo.messaging>=5.29.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (16.1.0)
Requirement already satisfied: oslo.db>=6.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (17.2.1)
Requirement already satisfied: oslo.i18n>=3.15.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (6.5.1)
Requirement already satisfied: oslo.log>=3.44.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (7.1.0)
Requirement already satisfied: oslo.middleware>=3.31.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (6.3.1)
Requirement already satisfied: oslo.policy>=4.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (4.5.1)
Requirement already satisfied: oslo.serialization!=2.19.1,>=2.18.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (5.7.0)
Requirement already satisfied: oslo.upgradecheck>=1.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (2.5.0)
Requirement already satisfied: oslo.utils>=3.33.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (8.2.0)
Requirement already satisfied: oauthlib>=0.6.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (3.2.2)
Requirement already satisfied: pysaml2>=5.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (7.5.2)
Requirement already satisfied: PyJWT>=1.6.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (2.10.1)
Requirement already satisfied: dogpile.cache>=1.0.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (1.3.4)
Requirement already satisfied: jsonschema>=3.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (4.23.0)
Requirement already satisfied: pycadf!=2.0.0,>=1.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (4.0.1)
Requirement already satisfied: msgpack>=0.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (1.1.0)
Requirement already satisfied: osprofiler>=1.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystone==27.0.1.dev11) (4.2.0)
Requirement already satisfied: cffi>=1.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from cryptography>=2.7->keystone==27.0.1.dev11) (1.17.1)
Requirement already satisfied: pycparser in /opt/stack/data/venv/lib/python3.10/site-packages (from cffi>=1.12->cryptography>=2.7->keystone==27.0.1.dev11) (2.22)
Requirement already satisfied: decorator>=4.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from dogpile.cache>=1.0.2->keystone==27.0.1.dev11) (5.1.1)
Requirement already satisfied: typing_extensions>=4.0.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from dogpile.cache>=1.0.2->keystone==27.0.1.dev11) (4.12.2)
Requirement already satisfied: Werkzeug>=3.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from Flask!=0.11,>=1.0.2->keystone==27.0.1.dev11) (3.1.3)
Requirement already satisfied: Jinja2>=3.1.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from Flask!=0.11,>=1.0.2->keystone==27.0.1.dev11) (3.1.5)
Requirement already satisfied: itsdangerous>=2.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from Flask!=0.11,>=1.0.2->keystone==27.0.1.dev11) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from Flask!=0.11,>=1.0.2->keystone==27.0.1.dev11) (8.1.8)
Requirement already satisfied: blinker>=1.9 in /opt/stack/data/venv/lib/python3.10/site-packages (from Flask!=0.11,>=1.0.2->keystone==27.0.1.dev11) (1.9.0)
Requirement already satisfied: aniso8601>=0.82 in /opt/stack/data/venv/lib/python3.10/site-packages (from Flask-RESTful>=0.3.5->keystone==27.0.1.dev11) (10.0.0)
Requirement already satisfied: six>=1.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from Flask-RESTful>=0.3.5->keystone==27.0.1.dev11) (1.17.0)
Requirement already satisfied: pytz in /opt/stack/data/venv/lib/python3.10/site-packages (from Flask-RESTful>=0.3.5->keystone==27.0.1.dev11) (2025.1)
Requirement already satisfied: MarkupSafe>=2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from Jinja2>=3.1.2->Flask!=0.11,>=1.0.2->keystone==27.0.1.dev11) (3.0.2)
Requirement already satisfied: attrs>=22.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->keystone==27.0.1.dev11) (25.1.0)
Requirement already satisfied: jsonschema-specifications>=2023.03.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->keystone==27.0.1.dev11) (2024.10.1)
Requirement already satisfied: referencing>=0.28.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->keystone==27.0.1.dev11) (0.36.2)
Requirement already satisfied: rpds-py>=0.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->keystone==27.0.1.dev11) (0.23.1)
Requirement already satisfied: keystoneauth1>=3.12.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=7.0.0->keystone==27.0.1.dev11) (5.10.0)
Requirement already satisfied: requests>=2.14.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=7.0.0->keystone==27.0.1.dev11) (2.32.3)
Requirement already satisfied: iso8601>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.12.0->keystonemiddleware>=7.0.0->keystone==27.0.1.dev11) (2.1.0)
Requirement already satisfied: os-service-types>=1.2.0 in /usr/lib/python3/dist-packages (from keystoneauth1>=3.12.0->keystonemiddleware>=7.0.0->keystone==27.0.1.dev11) (1.7.0)
Requirement already satisfied: debtcollector>=3.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.cache>=1.26.0->keystone==27.0.1.dev11) (3.0.0)
Requirement already satisfied: wrapt>=1.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from debtcollector>=3.0.0->oslo.cache>=1.26.0->keystone==27.0.1.dev11) (1.17.2)
Requirement already satisfied: netaddr>=0.7.18 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=6.8.0->keystone==27.0.1.dev11) (1.3.0)
Requirement already satisfied: rfc3986>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=6.8.0->keystone==27.0.1.dev11) (2.0.0)
Requirement already satisfied: PyYAML>=5.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=6.8.0->keystone==27.0.1.dev11) (6.0.2)
Requirement already satisfied: alembic>=0.9.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.db>=6.0.0->keystone==27.0.1.dev11) (1.14.1)
Requirement already satisfied: testresources>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.db>=6.0.0->keystone==27.0.1.dev11) (2.0.1)
Requirement already satisfied: testscenarios>=0.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.db>=6.0.0->keystone==27.0.1.dev11) (0.5.0)
Requirement already satisfied: Mako in /opt/stack/data/venv/lib/python3.10/site-packages (from alembic>=0.9.6->oslo.db>=6.0.0->keystone==27.0.1.dev11) (1.3.9)
Requirement already satisfied: python-dateutil>=2.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.log>=3.44.0->keystone==27.0.1.dev11) (2.9.0.post0)
Requirement already satisfied: futurist>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (3.1.0)
Requirement already satisfied: oslo.service>=1.24.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (4.1.1)
Requirement already satisfied: cachetools>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (5.5.2)
Requirement already satisfied: amqp>=2.5.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (5.3.1)
Requirement already satisfied: kombu>=4.6.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (5.4.2)
Requirement already satisfied: oslo.metrics>=0.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (0.11.0)
Requirement already satisfied: vine<6.0.0,>=5.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from amqp>=2.5.2->oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (5.1.0)
Requirement already satisfied: tzdata in /opt/stack/data/venv/lib/python3.10/site-packages (from kombu>=4.6.6->oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (2025.1)
Requirement already satisfied: prometheus-client>=0.6.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.metrics>=0.2.1->oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (0.21.1)
Requirement already satisfied: statsd>=3.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.middleware>=3.31.0->keystone==27.0.1.dev11) (4.0.1)
Requirement already satisfied: eventlet>=0.27.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=1.24.0->oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (0.39.0)
Requirement already satisfied: greenlet>=0.4.15 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=1.24.0->oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (3.1.1)
Requirement already satisfied: oslo.concurrency>=3.25.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=1.24.0->oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (7.1.0)
Requirement already satisfied: PasteDeploy>=1.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=1.24.0->oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (3.1.0)
Requirement already satisfied: Routes>=2.3.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=1.24.0->oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (2.5.1)
Requirement already satisfied: Paste>=2.0.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=1.24.0->oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (3.10.1)
Requirement already satisfied: Yappi>=1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=1.24.0->oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (1.6.10)
Requirement already satisfied: dnspython>=1.15.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from eventlet>=0.27.0->oslo.service>=1.24.0->oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (2.7.0)
Requirement already satisfied: fasteners>=0.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.concurrency>=3.25.0->oslo.service>=1.24.0->oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (0.19)
Requirement already satisfied: PrettyTable>=0.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.upgradecheck>=1.3.0->keystone==27.0.1.dev11) (3.14.0)
Requirement already satisfied: pyparsing>=2.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.33.0->keystone==27.0.1.dev11) (3.2.1)
Requirement already satisfied: packaging>=20.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.33.0->keystone==27.0.1.dev11) (24.2)
Requirement already satisfied: psutil>=3.2.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.33.0->keystone==27.0.1.dev11) (7.0.0)
Requirement already satisfied: setuptools in /opt/stack/data/venv/lib/python3.10/site-packages (from Paste>=2.0.2->oslo.service>=1.24.0->oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (80.9.0)
Requirement already satisfied: wcwidth in /opt/stack/data/venv/lib/python3.10/site-packages (from PrettyTable>=0.7.1->oslo.upgradecheck>=1.3.0->keystone==27.0.1.dev11) (0.2.13)
Requirement already satisfied: defusedxml in /opt/stack/data/venv/lib/python3.10/site-packages (from pysaml2>=5.0.0->keystone==27.0.1.dev11) (0.7.1)
Requirement already satisfied: pyopenssl<24.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from pysaml2>=5.0.0->keystone==27.0.1.dev11) (24.2.1)
Requirement already satisfied: xmlschema<3,>=2 in /opt/stack/data/venv/lib/python3.10/site-packages (from pysaml2>=5.0.0->keystone==27.0.1.dev11) (2.5.1)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.14.2->keystonemiddleware>=7.0.0->keystone==27.0.1.dev11) (3.4.1)
Requirement already satisfied: idna<4,>=2.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.14.2->keystonemiddleware>=7.0.0->keystone==27.0.1.dev11) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.14.2->keystonemiddleware>=7.0.0->keystone==27.0.1.dev11) (1.26.20)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests>=2.14.2->keystonemiddleware>=7.0.0->keystone==27.0.1.dev11) (2020.6.20)
Requirement already satisfied: elementpath<5.0.0,>=4.1.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from xmlschema<3,>=2->pysaml2>=5.0.0->keystone==27.0.1.dev11) (4.7.0)
Requirement already satisfied: repoze.lru>=0.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from Routes>=2.3.1->oslo.service>=1.24.0->oslo.messaging>=5.29.0->keystone==27.0.1.dev11) (0.7)
Requirement already satisfied: testtools in /opt/stack/data/venv/lib/python3.10/site-packages (from testscenarios>=0.4->oslo.db>=6.0.0->keystone==27.0.1.dev11) (2.7.2)
Installing collected packages: keystone
  Attempting uninstall: keystone
    Found existing installation: keystone 27.0.1.dev11
    Uninstalling keystone-27.0.1.dev11:
      Successfully uninstalled keystone-27.0.1.dev11
  DEPRECATION: Legacy editable install of keystone==27.0.1.dev11 from file:///opt/stack/keystone (setup.py develop) is deprecated. pip 25.3 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457
  Running setup.py develop for keystone
Successfully installed keystone-27.0.1.dev11
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760002992099
+ functions-common:time_stop:2430          :   [[ -z 1760002992099 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003008756
+ functions-common:time_stop:2434          :   elapsed_time=16657
+ functions-common:time_stop:2435          :   total=26174
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=42831
+ inc/python:pip_install:219               :   return 0
+ inc/python:setup_package:467             :   [[ -e == \-\e ]]
+ inc/python:setup_package:467             :   [[ True == \F\a\l\s\e ]]
+ inc/python:_setup_package_with_constraints_edit:413 :   use_library_from_git /opt/stack/keystone
+ inc/python:use_library_from_git:266      :   local name=/opt/stack/keystone
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,/opt/stack/keystone, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/keystone:install_keystone:523        :   is_service_enabled ldap
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:942                      :   configure_keystone
+ lib/keystone:configure_keystone:177      :   sudo install -d -o stack /etc/keystone
+ lib/keystone:configure_keystone:179      :   [[ /etc/keystone != \/\o\p\t\/\s\t\a\c\k\/\k\e\y\s\t\o\n\e\/\e\t\c ]]
+ lib/keystone:configure_keystone:180      :   install -m 600 /dev/null /etc/keystone/keystone.conf
+ lib/keystone:configure_keystone:183      :   is_service_enabled ldap
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/keystone:configure_keystone:187      :   iniset /etc/keystone/keystone.conf identity driver sql
+ lib/keystone:configure_keystone:188      :   iniset /etc/keystone/keystone.conf identity password_hash_rounds 4
+ lib/keystone:configure_keystone:189      :   iniset /etc/keystone/keystone.conf assignment driver sql
+ lib/keystone:configure_keystone:190      :   iniset /etc/keystone/keystone.conf role driver sql
+ lib/keystone:configure_keystone:191      :   iniset /etc/keystone/keystone.conf resource driver sql
+ lib/keystone:configure_keystone:194      :   iniset /etc/keystone/keystone.conf cache enabled True
+ lib/keystone:configure_keystone:195      :   iniset /etc/keystone/keystone.conf cache backend dogpile.cache.memcached
+ lib/keystone:configure_keystone:196      :   iniset /etc/keystone/keystone.conf cache memcache_servers localhost:11211
+ lib/keystone:configure_keystone:198      :   iniset_rpc_backend keystone /etc/keystone/keystone.conf oslo_messaging_notifications
+ lib/rpc_backend:iniset_rpc_backend:144   :   local package=keystone
+ lib/rpc_backend:iniset_rpc_backend:145   :   local file=/etc/keystone/keystone.conf
+ lib/rpc_backend:iniset_rpc_backend:146   :   local section=oslo_messaging_notifications
+ lib/rpc_backend:iniset_rpc_backend:147   :   local virtual_host=
+ lib/rpc_backend:iniset_rpc_backend:148   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2077 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:149   :   get_transport_url ''
++ lib/rpc_backend:get_transport_url:126    :   local virtual_host=
++ lib/rpc_backend:get_transport_url:127    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/rpc_backend:get_transport_url:128    :   echo rabbit://stackrabbit:Hitachino1@172.25.93.57:5672/
+ lib/rpc_backend:iniset_rpc_backend:149   :   iniset /etc/keystone/keystone.conf oslo_messaging_notifications transport_url rabbit://stackrabbit:Hitachino1@172.25.93.57:5672/
+ lib/rpc_backend:iniset_rpc_backend:150   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:153   :   '[' -n '' ']'
+ lib/keystone:configure_keystone:200      :   local service_port=5000
+ lib/keystone:configure_keystone:202      :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/keystone:configure_keystone:211      :   iniset /etc/keystone/keystone.conf DEFAULT public_endpoint http://172.25.93.57/identity
+ lib/keystone:configure_keystone:213      :   [[ fernet != '' ]]
+ lib/keystone:configure_keystone:214      :   iniset /etc/keystone/keystone.conf token provider fernet
++ lib/keystone:configure_keystone:217      :   database_connection_url keystone
++ lib/database:database_connection_url:134 :   local db=keystone
++ lib/database:database_connection_url:135 :   database_connection_url_mysql keystone
++ lib/databases/mysql:database_connection_url_mysql:243 :   local db=keystone
++ lib/databases/mysql:database_connection_url_mysql:244 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:248 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:249 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:250 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:254 :   echo 'mysql+pymysql://root:Hitachino1@127.0.0.1/keystone?charset=utf8&plugin=dbcounter'
+ lib/keystone:configure_keystone:217      :   iniset /etc/keystone/keystone.conf database connection 'mysql+pymysql://root:Hitachino1@127.0.0.1/keystone?charset=utf8&plugin=dbcounter'
+ lib/keystone:configure_keystone:220      :   '[' False '!=' False ']'
+ lib/keystone:configure_keystone:225      :   setup_logging /etc/keystone/keystone.conf
+ functions:setup_logging:685              :   setup_systemd_logging /etc/keystone/keystone.conf
+ functions:setup_systemd_logging:702      :   local conf_file=/etc/keystone/keystone.conf
++ functions:setup_systemd_logging:707      :   trueorfalse False USE_JOURNAL
+ functions:setup_systemd_logging:707      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:708      :   local pidstr=
+ functions:setup_systemd_logging:709      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:713      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:715      :   iniset /etc/keystone/keystone.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ functions:setup_systemd_logging:717      :   iniset /etc/keystone/keystone.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ functions:setup_systemd_logging:718      :   iniset /etc/keystone/keystone.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ functions:setup_systemd_logging:719      :   iniset /etc/keystone/keystone.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ functions:setup_systemd_logging:722      :   iniset /etc/keystone/keystone.conf DEFAULT log_color False
+ lib/keystone:configure_keystone:227      :   iniset /etc/keystone/keystone.conf DEFAULT debug True
+ lib/keystone:configure_keystone:229      :   write_uwsgi_config /etc/keystone/keystone-uwsgi-public.ini keystone.wsgi.api:application /identity '' keystone-api
+ lib/apache:write_uwsgi_config:242        :   local conf=/etc/keystone/keystone-uwsgi-public.ini
+ lib/apache:write_uwsgi_config:243        :   local wsgi=keystone.wsgi.api:application
+ lib/apache:write_uwsgi_config:244        :   local url=/identity
+ lib/apache:write_uwsgi_config:245        :   local http=
+ lib/apache:write_uwsgi_config:246        :   local name=keystone-api
+ lib/apache:write_uwsgi_config:248        :   '[' -z keystone-api ']'
+ lib/apache:write_uwsgi_config:254        :   local socket_dir=/var/run/uwsgi
+ lib/apache:write_uwsgi_config:258        :   sudo mkdir -p /etc/tmpfiles.d/
+ lib/apache:write_uwsgi_config:259        :   echo 'd /var/run/uwsgi 0755 stack root'
+ lib/apache:write_uwsgi_config:259        :   sudo tee /etc/tmpfiles.d/uwsgi.conf
d /var/run/uwsgi 0755 stack root
+ lib/apache:write_uwsgi_config:260        :   sudo systemd-tmpfiles --create /etc/tmpfiles.d/uwsgi.conf
/etc/tmpfiles.d/uwsgi.conf:1: Line references path below legacy directory /var/run/, updating /var/run/uwsgi  /run/uwsgi; please update the tmpfiles.d/ drop-in file accordingly.
+ lib/apache:write_uwsgi_config:262        :   local socket=/var/run/uwsgi/keystone-api.socket
+ lib/apache:write_uwsgi_config:265        :   rm -rf /etc/keystone/keystone-uwsgi-public.ini
+ lib/apache:write_uwsgi_config:269        :   [[ keystone.wsgi.api:application =~ ^[a-zA-Z0-9_.]+:[a-zA-Z0-9_]+$ ]]
+ lib/apache:write_uwsgi_config:270        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi module keystone.wsgi.api:application
+ lib/apache:write_uwsgi_config:275        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi processes 2
+ lib/apache:write_uwsgi_config:277        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi master true
+ lib/apache:write_uwsgi_config:279        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi die-on-term true
+ lib/apache:write_uwsgi_config:280        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi exit-on-reload false
+ lib/apache:write_uwsgi_config:283        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi worker-reload-mercy 80
+ lib/apache:write_uwsgi_config:284        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi enable-threads true
+ lib/apache:write_uwsgi_config:285        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi plugins http,python3
+ lib/apache:write_uwsgi_config:287        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi thunder-lock true
+ lib/apache:write_uwsgi_config:289        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi hook-master-start 'unix_signal:15 gracefully_kill_them_all'
+ lib/apache:write_uwsgi_config:291        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi buffer-size 65535
+ lib/apache:write_uwsgi_config:293        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi add-header 'Connection: close'
+ lib/apache:write_uwsgi_config:295        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi lazy-apps true
+ lib/apache:write_uwsgi_config:297        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi start-time %t
+ lib/apache:write_uwsgi_config:300        :   [[ -n '' ]]
+ lib/apache:write_uwsgi_config:303        :   local apache_conf=
++ lib/apache:write_uwsgi_config:304        :   apache_site_config_for keystone-api
++ lib/apache:apache_site_config_for:173    :   local site=keystone-api
++ lib/apache:apache_site_config_for:174    :   is_ubuntu
++ functions-common:is_ubuntu:556           :   [[ -z deb ]]
++ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:176    :   echo /etc/apache2/sites-available/keystone-api.conf
+ lib/apache:write_uwsgi_config:304        :   apache_conf=/etc/apache2/sites-available/keystone-api.conf
+ lib/apache:write_uwsgi_config:305        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi socket /var/run/uwsgi/keystone-api.socket
+ lib/apache:write_uwsgi_config:306        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi chmod-socket 666
+ lib/apache:write_uwsgi_config:307        :   echo 'ProxyPass "/identity" "unix:/var/run/uwsgi/keystone-api.socket|uwsgi://uwsgi-uds-keystone-api" retry=0 acquire=1 '
+ lib/apache:write_uwsgi_config:307        :   sudo tee -a /etc/apache2/sites-available/keystone-api.conf
ProxyPass "/identity" "unix:/var/run/uwsgi/keystone-api.socket|uwsgi://uwsgi-uds-keystone-api" retry=0 acquire=1 
+ lib/apache:write_uwsgi_config:308        :   enable_apache_site keystone-api
+ lib/apache:enable_apache_site:190        :   local site=keystone-api
+ lib/apache:enable_apache_site:192        :   enable_apache_mod version
+ lib/apache:enable_apache_mod:55          :   local mod=version
+ lib/apache:enable_apache_mod:57          :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:60          :   [[ version != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_site:193        :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/apache:enable_apache_site:194        :   sudo a2ensite keystone-api
Site keystone-api already enabled
+ lib/apache:write_uwsgi_config:309        :   restart_apache_server
+ lib/apache:restart_apache_server:237     :   restart_service apache2
+ functions-common:restart_service:2305    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2306    :   sudo /bin/systemctl restart apache2
+ lib/keystone:configure_keystone:231      :   iniset /etc/keystone/keystone.conf DEFAULT max_token_size 16384
+ lib/keystone:configure_keystone:233      :   iniset /etc/keystone/keystone.conf fernet_tokens key_repository /etc/keystone/fernet-keys/
+ lib/keystone:configure_keystone:235      :   iniset /etc/keystone/keystone.conf credential key_repository /etc/keystone/credential-keys/
+ lib/keystone:configure_keystone:243      :   [[ True = True ]]
+ lib/keystone:configure_keystone:244      :   iniset /etc/keystone/keystone.conf security_compliance lockout_failure_attempts 2
+ lib/keystone:configure_keystone:245      :   iniset /etc/keystone/keystone.conf security_compliance lockout_duration 10
+ lib/keystone:configure_keystone:246      :   iniset /etc/keystone/keystone.conf security_compliance unique_last_password_count 2
+ lib/keystone:configure_keystone:249      :   iniset /etc/keystone/keystone.conf oslo_policy policy_file policy.yaml
+ lib/keystone:configure_keystone:251      :   [[ False == True ]]
+ lib/keystone:configure_keystone:251      :   [[ False == True ]]
+ lib/keystone:configure_keystone:255      :   iniset /etc/keystone/keystone.conf oslo_policy enforce_scope false
+ lib/keystone:configure_keystone:256      :   iniset /etc/keystone/keystone.conf oslo_policy enforce_new_defaults false
+ ./stack.sh:main:946                      :   is_service_enabled swift
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:947                      :   is_service_enabled ceilometer
+ functions-common:is_service_enabled:2077 :   return 1
+ ./stack.sh:main:950                      :   stack_install_service swift
+ lib/stack:stack_install_service:20       :   local service=swift
+ lib/stack:stack_install_service:21       :   type install_swift
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_swift
+ lib/swift:install_swift:720              :   git_clone https://opendev.org/openstack/swift.git /opt/stack/swift stable/2025.1
+ functions-common:git_clone:593           :   local git_remote=https://opendev.org/openstack/swift.git
+ functions-common:git_clone:594           :   local git_dest=/opt/stack/swift
+ functions-common:git_clone:595           :   local git_ref=stable/2025.1
+ functions-common:git_clone:596           :   local orig_dir
++ functions-common:git_clone:597           :   pwd
+ functions-common:git_clone:597           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:598           :   local git_clone_flags=
++ functions-common:git_clone:600           :   trueorfalse False RECLONE
+ functions-common:git_clone:600           :   RECLONE=False
+ functions-common:git_clone:601           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:605           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:614           :   echo stable/2025.1
+ functions-common:git_clone:614           :   egrep -q '^refs'
+ functions-common:git_clone:628           :   [[ ! -d /opt/stack/swift ]]
+ functions-common:git_clone:638           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:673           :   sudo git config --system --add safe.directory /opt/stack/swift
+ functions-common:git_clone:676           :   cd /opt/stack/swift
+ functions-common:git_clone:677           :   git show --oneline
+ functions-common:git_clone:677           :   head -1
2ea8b7ab1 tests: Skip some tests if crc32c is not available
+ functions-common:git_clone:678           :   cd /opt/stack/devstack
+ lib/swift:install_swift:723              :   setup_develop /opt/stack/swift keystone
+ inc/python:setup_develop:354             :   local bindep
+ inc/python:setup_develop:355             :   [[ /opt/stack/swift == -bindep* ]]
+ inc/python:setup_develop:359             :   local project_dir=/opt/stack/swift
+ inc/python:setup_develop:360             :   local extras=keystone
+ inc/python:setup_develop:361             :   _setup_package_with_constraints_edit /opt/stack/swift -e keystone
+ inc/python:_setup_package_with_constraints_edit:380 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:381 :   [[ /opt/stack/swift == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:385 :   local project_dir=/opt/stack/swift
+ inc/python:_setup_package_with_constraints_edit:386 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:387 :   local extras=keystone
++ inc/python:_setup_package_with_constraints_edit:394 :   cd /opt/stack/swift
++ inc/python:_setup_package_with_constraints_edit:394 :   pwd
+ inc/python:_setup_package_with_constraints_edit:394 :   project_dir=/opt/stack/swift
+ inc/python:_setup_package_with_constraints_edit:396 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:400 :   local name
++ inc/python:_setup_package_with_constraints_edit:401 :   awk '/^name.*=/ {print $3}' /opt/stack/swift/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:401 :   name=swift
+ inc/python:_setup_package_with_constraints_edit:402 :   '[' -z swift ']'
+ inc/python:_setup_package_with_constraints_edit:406 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- swift
/opt/stack/requirements/.venv/lib/python3.10/site-packages/openstack_requirements/requirement.py:20: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
+ inc/python:_setup_package_with_constraints_edit:409 :   setup_package /opt/stack/swift -e keystone
+ inc/python:setup_package:437             :   local bindep=0
+ inc/python:setup_package:438             :   local bindep_flag=
+ inc/python:setup_package:439             :   local bindep_profiles=
+ inc/python:setup_package:440             :   [[ /opt/stack/swift == -bindep* ]]
+ inc/python:setup_package:445             :   local project_dir=/opt/stack/swift
+ inc/python:setup_package:446             :   local flags=-e
+ inc/python:setup_package:447             :   local extras=keystone
+ inc/python:setup_package:451             :   [[ -n -e ]]
+ inc/python:setup_package:451             :   [[ -z keystone ]]
+ inc/python:setup_package:456             :   [[ ! -z keystone ]]
+ inc/python:setup_package:457             :   extras='[keystone]'
+ inc/python:setup_package:461             :   [[ 0 == 1 ]]
+ inc/python:setup_package:465             :   pip_install -e '/opt/stack/swift[keystone]'
Using python 3.10 to install /opt/stack/swift
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade -e '/opt/stack/swift[keystone]'
Looking in indexes: https://pypi.org/simple/
Obtaining file:///opt/stack/swift
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: eventlet!=0.34.3,>=0.25.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from swift==2.35.2.dev1) (0.39.0)
Requirement already satisfied: greenlet>=0.3.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from swift==2.35.2.dev1) (3.1.1)
Requirement already satisfied: PasteDeploy>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from swift==2.35.2.dev1) (3.1.0)
Requirement already satisfied: lxml>=4.2.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from swift==2.35.2.dev1) (5.3.1)
Requirement already satisfied: requests>=2.14.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from swift==2.35.2.dev1) (2.32.3)
Requirement already satisfied: xattr>=0.7.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from swift==2.35.2.dev1) (1.1.4)
Requirement already satisfied: PyECLib!=1.6.2,!=1.6.3,>=1.3.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from swift==2.35.2.dev1) (1.6.4)
Requirement already satisfied: cryptography>=2.0.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from swift==2.35.2.dev1) (43.0.3)
Requirement already satisfied: dnspython>=1.15.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from swift==2.35.2.dev1) (2.7.0)
Requirement already satisfied: keystonemiddleware>=4.17.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from swift==2.35.2.dev1) (10.9.0)
Requirement already satisfied: cffi>=1.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from cryptography>=2.0.2->swift==2.35.2.dev1) (1.17.1)
Requirement already satisfied: pycparser in /opt/stack/data/venv/lib/python3.10/site-packages (from cffi>=1.12->cryptography>=2.0.2->swift==2.35.2.dev1) (2.22)
Requirement already satisfied: keystoneauth1>=3.12.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (5.10.0)
Requirement already satisfied: oslo.cache>=1.26.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (3.10.2)
Requirement already satisfied: oslo.config>=5.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (9.7.1)
Requirement already satisfied: oslo.context>=2.19.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (5.7.1)
Requirement already satisfied: oslo.i18n>=3.15.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (6.5.1)
Requirement already satisfied: oslo.log>=3.36.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (7.1.0)
Requirement already satisfied: oslo.serialization>=2.18.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (5.7.0)
Requirement already satisfied: oslo.utils>=3.33.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (8.2.0)
Requirement already satisfied: pbr>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (6.1.1)
Requirement already satisfied: pycadf>=1.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (4.0.1)
Requirement already satisfied: PyJWT>=2.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (2.10.1)
Requirement already satisfied: python-keystoneclient>=3.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (5.6.0)
Requirement already satisfied: WebOb>=1.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (1.8.9)
Requirement already satisfied: iso8601>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.12.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (2.1.0)
Requirement already satisfied: stevedore>=1.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.12.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (5.4.1)
Requirement already satisfied: os-service-types>=1.2.0 in /usr/lib/python3/dist-packages (from keystoneauth1>=3.12.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (1.7.0)
Requirement already satisfied: typing-extensions>=4.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.12.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (4.12.2)
Requirement already satisfied: dogpile.cache>=1.3.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.cache>=1.26.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (1.3.4)
Requirement already satisfied: debtcollector>=3.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.cache>=1.26.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (3.0.0)
Requirement already satisfied: wrapt>=1.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from debtcollector>=3.0.0->oslo.cache>=1.26.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (1.17.2)
Requirement already satisfied: decorator>=4.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from dogpile.cache>=1.3.3->oslo.cache>=1.26.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (5.1.1)
Requirement already satisfied: netaddr>=0.7.18 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=5.2.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (1.3.0)
Requirement already satisfied: rfc3986>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=5.2.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (2.0.0)
Requirement already satisfied: PyYAML>=5.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=5.2.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (6.0.2)
Requirement already satisfied: python-dateutil>=2.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.log>=3.36.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (2.9.0.post0)
Requirement already satisfied: msgpack>=0.5.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.serialization>=2.18.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (1.1.0)
Requirement already satisfied: tzdata>=2022.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.serialization>=2.18.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (2025.1)
Requirement already satisfied: pyparsing>=2.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.33.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (3.2.1)
Requirement already satisfied: packaging>=20.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.33.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (24.2)
Requirement already satisfied: psutil>=3.2.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.33.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (7.0.0)
Requirement already satisfied: setuptools in /opt/stack/data/venv/lib/python3.10/site-packages (from pbr>=2.0.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (80.9.0)
Requirement already satisfied: six>=1.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-dateutil>=2.7.0->oslo.log>=3.36.0->keystonemiddleware>=4.17.0->swift==2.35.2.dev1) (1.17.0)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.14.2->swift==2.35.2.dev1) (3.4.1)
Requirement already satisfied: idna<4,>=2.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.14.2->swift==2.35.2.dev1) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.14.2->swift==2.35.2.dev1) (1.26.20)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests>=2.14.2->swift==2.35.2.dev1) (2020.6.20)
Installing collected packages: swift
  Attempting uninstall: swift
    Found existing installation: swift 2.35.2.dev1
    Uninstalling swift-2.35.2.dev1:
      Successfully uninstalled swift-2.35.2.dev1
  DEPRECATION: Legacy editable install of swift[keystone]==2.35.2.dev1 from file:///opt/stack/swift (setup.py develop) is deprecated. pip 25.3 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457
  Running setup.py develop for swift
Successfully installed swift-2.35.2.dev1
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760003015419
+ functions-common:time_stop:2430          :   [[ -z 1760003015419 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003029637
+ functions-common:time_stop:2434          :   elapsed_time=14218
+ functions-common:time_stop:2435          :   total=42831
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=57049
+ inc/python:pip_install:219               :   return 0
+ inc/python:setup_package:467             :   [[ -e == \-\e ]]
+ inc/python:setup_package:467             :   [[ True == \F\a\l\s\e ]]
+ inc/python:_setup_package_with_constraints_edit:413 :   use_library_from_git /opt/stack/swift
+ inc/python:use_library_from_git:266      :   local name=/opt/stack/swift
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,/opt/stack/swift, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/swift:install_swift:724              :   '[' False == True ']'
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:951                      :   configure_swift
+ lib/swift:configure_swift:331            :   local swift_pipeline=crossdomain
+ lib/swift:configure_swift:332            :   local node_number
+ lib/swift:configure_swift:333            :   local swift_node_config
+ lib/swift:configure_swift:334            :   local swift_log_dir
+ lib/swift:configure_swift:337            :   /opt/stack/data/venv/bin/swift-init --run-dir=/opt/stack/data/swift/run all stop
No container-sharder running
No container-sync running
No object-replicator running
No object-expirer running
No object-reconstructor running
No container-auditor running
No container-replicator running
No account-server running
No container-server running
No object-auditor running
No object-server running
No proxy-server running
No container-updater running
No account-reaper running
No object-updater running
No container-reconciler running
No account-auditor running
No account-replicator running
+ lib/swift:configure_swift:337            :   true
+ lib/swift:configure_swift:339            :   sudo install -d -o stack /etc/swift
+ lib/swift:configure_swift:340            :   sudo install -d -o stack /etc/swift/object-server /etc/swift/container-server /etc/swift/account-server
+ lib/swift:configure_swift:342            :   [[ /etc/swift != \/\e\t\c\/\s\w\i\f\t ]]
+ lib/swift:configure_swift:355            :   sudo tee /etc/rsyncd.conf
++ lib/swift:configure_swift:351            :   id -g -n stack
+ lib/swift:configure_swift:351            :   sed -e '
        s/%GROUP%/stack/;
        s/%USER%/stack/;
        s,%SWIFT_DATA_DIR%,/opt/stack/data/swift,;
    ' /opt/stack/devstack/files/swift/rsyncd.conf
uid = stack
gid = stack
log file = /opt/stack/data/swift/logs/rsyncd.log
pid file = /opt/stack/data/swift/run/rsyncd.pid
address = 127.0.0.1

[account6612]
max connections = 25
path = /opt/stack/data/swift/1/node/
read only = false
lock file = /opt/stack/data/swift/run/account6612.lock

[account6622]
max connections = 25
path = /opt/stack/data/swift/2/node/
read only = false
lock file = /opt/stack/data/swift/run/account6622.lock

[account6632]
max connections = 25
path = /opt/stack/data/swift/3/node/
read only = false
lock file = /opt/stack/data/swift/run/account6632.lock

[account6642]
max connections = 25
path = /opt/stack/data/swift/4/node/
read only = false
lock file = /opt/stack/data/swift/run/account6642.lock


[container6611]
max connections = 25
path = /opt/stack/data/swift/1/node/
read only = false
lock file = /opt/stack/data/swift/run/container6611.lock

[container6621]
max connections = 25
path = /opt/stack/data/swift/2/node/
read only = false
lock file = /opt/stack/data/swift/run/container6621.lock

[container6631]
max connections = 25
path = /opt/stack/data/swift/3/node/
read only = false
lock file = /opt/stack/data/swift/run/container6631.lock

[container6641]
max connections = 25
path = /opt/stack/data/swift/4/node/
read only = false
lock file = /opt/stack/data/swift/run/container6641.lock


[object6613]
max connections = 25
path = /opt/stack/data/swift/1/node/
read only = false
lock file = /opt/stack/data/swift/run/object6613.lock

[object6623]
max connections = 25
path = /opt/stack/data/swift/2/node/
read only = false
lock file = /opt/stack/data/swift/run/object6623.lock

[object6633]
max connections = 25
path = /opt/stack/data/swift/3/node/
read only = false
lock file = /opt/stack/data/swift/run/object6633.lock

[object6643]
max connections = 25
path = /opt/stack/data/swift/4/node/
read only = false
lock file = /opt/stack/data/swift/run/object6643.lock
+ lib/swift:configure_swift:357            :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/swift:configure_swift:358            :   sudo sed -i '/^RSYNC_ENABLE=false/ { s/false/true/ }' /etc/default/rsync
+ lib/swift:configure_swift:363            :   SWIFT_CONFIG_PROXY_SERVER=/etc/swift/proxy-server.conf
+ lib/swift:configure_swift:364            :   cp /opt/stack/swift/etc/proxy-server.conf-sample /etc/swift/proxy-server.conf
+ lib/swift:configure_swift:365            :   cp /opt/stack/swift/etc/internal-client.conf-sample /etc/swift/internal-client.conf
+ lib/swift:configure_swift:369            :   local csyncfile=/etc/swift/container-sync-realms.conf
+ lib/swift:configure_swift:370            :   cp /opt/stack/swift/etc/container-sync-realms.conf-sample /etc/swift/container-sync-realms.conf
+ lib/swift:configure_swift:371            :   iniset /etc/swift/container-sync-realms.conf realm1 key realm1key
+ lib/swift:configure_swift:372            :   iniset /etc/swift/container-sync-realms.conf realm1 cluster_name1 http://172.25.93.57:8080/v1/
+ lib/swift:configure_swift:374            :   iniuncomment /etc/swift/proxy-server.conf DEFAULT user
+ lib/swift:configure_swift:375            :   iniset /etc/swift/proxy-server.conf DEFAULT user stack
+ lib/swift:configure_swift:377            :   iniuncomment /etc/swift/proxy-server.conf DEFAULT swift_dir
+ lib/swift:configure_swift:378            :   iniset /etc/swift/proxy-server.conf DEFAULT swift_dir /etc/swift
+ lib/swift:configure_swift:380            :   iniuncomment /etc/swift/proxy-server.conf DEFAULT workers
+ lib/swift:configure_swift:381            :   iniset /etc/swift/proxy-server.conf DEFAULT workers 1
+ lib/swift:configure_swift:383            :   iniuncomment /etc/swift/proxy-server.conf DEFAULT log_level
+ lib/swift:configure_swift:384            :   iniset /etc/swift/proxy-server.conf DEFAULT log_level DEBUG
+ lib/swift:configure_swift:386            :   iniuncomment /etc/swift/proxy-server.conf DEFAULT bind_ip
+ lib/swift:configure_swift:387            :   iniset /etc/swift/proxy-server.conf DEFAULT bind_ip 0.0.0.0
+ lib/swift:configure_swift:389            :   iniuncomment /etc/swift/proxy-server.conf DEFAULT bind_port
+ lib/swift:configure_swift:390            :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/swift:configure_swift:393            :   iniset /etc/swift/proxy-server.conf DEFAULT bind_port 8080
+ lib/swift:configure_swift:399            :   iniset /etc/swift/proxy-server.conf app:proxy-server node_timeout 120
+ lib/swift:configure_swift:400            :   iniset /etc/swift/proxy-server.conf app:proxy-server conn_timeout 20
+ lib/swift:configure_swift:403            :   iniset /etc/swift/proxy-server.conf filter:versioned_writes allow_versioned_writes true
+ lib/swift:configure_swift:406            :   [[ False == \T\r\u\e ]]
+ lib/swift:configure_swift:411            :   is_service_enabled ceilometer
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/swift:configure_swift:422            :   iniset /etc/swift/proxy-server.conf filter:proxy-logging reveal_sensitive_prefix 12
+ lib/swift:configure_swift:428            :   is_service_enabled s3api
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/swift:configure_swift:431            :   is_service_enabled keystone
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/swift:configure_swift:432            :   swift_pipeline+=' authtoken'
+ lib/swift:configure_swift:433            :   is_service_enabled s3api
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/swift:configure_swift:438            :   swift_pipeline+=' keystoneauth'
+ lib/swift:configure_swift:441            :   swift_pipeline+=' tempauth '
+ lib/swift:configure_swift:443            :   sed -i '/^pipeline/ { s/tempauth/crossdomain authtoken keystoneauth tempauth  formpost staticweb/ ;}' /etc/swift/proxy-server.conf
+ lib/swift:configure_swift:444            :   sed -i '/^pipeline/ { s/proxy-server/ proxy-server/ ; }' /etc/swift/proxy-server.conf
+ lib/swift:configure_swift:446            :   iniset /etc/swift/proxy-server.conf app:proxy-server account_autocreate true
+ lib/swift:configure_swift:447            :   iniset /etc/swift/proxy-server.conf app:proxy-server allow_account_management true
+ lib/swift:configure_swift:450            :   iniset /etc/swift/proxy-server.conf filter:crossdomain use egg:swift#crossdomain
+ lib/swift:configure_swift:455            :   iniset /etc/swift/proxy-server.conf filter:authtoken log_name swift
+ lib/swift:configure_swift:457            :   iniset /etc/swift/proxy-server.conf filter:authtoken paste.filter_factory keystonemiddleware.auth_token:filter_factory
+ lib/swift:configure_swift:458            :   configure_keystone_authtoken_middleware /etc/swift/proxy-server.conf swift filter:authtoken
+ lib/keystone:configure_keystone_authtoken_middleware:432 :   local conf_file=/etc/swift/proxy-server.conf
+ lib/keystone:configure_keystone_authtoken_middleware:433 :   local admin_user=swift
+ lib/keystone:configure_keystone_authtoken_middleware:434 :   local section=filter:authtoken
+ lib/keystone:configure_keystone_authtoken_middleware:436 :   iniset /etc/swift/proxy-server.conf filter:authtoken auth_type password
+ lib/keystone:configure_keystone_authtoken_middleware:437 :   iniset /etc/swift/proxy-server.conf filter:authtoken interface public
+ lib/keystone:configure_keystone_authtoken_middleware:438 :   iniset /etc/swift/proxy-server.conf filter:authtoken auth_url http://172.25.93.57/identity
+ lib/keystone:configure_keystone_authtoken_middleware:439 :   iniset /etc/swift/proxy-server.conf filter:authtoken username swift
+ lib/keystone:configure_keystone_authtoken_middleware:440 :   iniset /etc/swift/proxy-server.conf filter:authtoken password Hitachino1
+ lib/keystone:configure_keystone_authtoken_middleware:441 :   iniset /etc/swift/proxy-server.conf filter:authtoken user_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:442 :   iniset /etc/swift/proxy-server.conf filter:authtoken project_name service
+ lib/keystone:configure_keystone_authtoken_middleware:443 :   iniset /etc/swift/proxy-server.conf filter:authtoken project_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:445 :   iniset /etc/swift/proxy-server.conf filter:authtoken cafile /opt/stack/data/ca-bundle.pem
+ lib/keystone:configure_keystone_authtoken_middleware:446 :   iniset /etc/swift/proxy-server.conf filter:authtoken memcached_servers localhost:11211
+ lib/swift:configure_swift:459            :   iniset /etc/swift/proxy-server.conf filter:authtoken delay_auth_decision 1
+ lib/swift:configure_swift:460            :   iniset /etc/swift/proxy-server.conf filter:authtoken cache swift.cache
+ lib/swift:configure_swift:461            :   iniset /etc/swift/proxy-server.conf filter:authtoken include_service_catalog False
+ lib/swift:configure_swift:463            :   iniset /etc/swift/proxy-server.conf filter:keystoneauth use egg:swift#keystoneauth
+ lib/swift:configure_swift:464            :   iniset /etc/swift/proxy-server.conf filter:keystoneauth operator_roles 'Member, admin'
+ lib/swift:configure_swift:469            :   iniuncomment /etc/swift/proxy-server.conf filter:tempauth account_autocreate
+ lib/swift:configure_swift:470            :   iniset /etc/swift/proxy-server.conf filter:tempauth reseller_prefix TEMPAUTH
+ lib/swift:configure_swift:473            :   iniset /etc/swift/proxy-server.conf filter:domain_remap reseller_prefixes 'AUTH, TEMPAUTH'
+ lib/swift:configure_swift:475            :   cp /opt/stack/swift/etc/swift.conf-sample /etc/swift/swift.conf
+ lib/swift:configure_swift:476            :   iniset /etc/swift/swift.conf swift-hash swift_hash_path_suffix 1234123412341234
+ lib/swift:configure_swift:477            :   iniset /etc/swift/swift.conf swift-constraints max_header_size 16384
+ lib/swift:configure_swift:478            :   iniset /etc/swift/swift.conf swift-constraints max_file_size 5368709122
+ lib/swift:configure_swift:480            :   local node_number
+ lib/swift:configure_swift:481            :   for node_number in ${SWIFT_REPLICAS_SEQ}
+ lib/swift:configure_swift:482            :   local swift_node_config=/etc/swift/object-server/1.conf
+ lib/swift:configure_swift:483            :   cp /opt/stack/swift/etc/object-server.conf-sample /etc/swift/object-server/1.conf
+ lib/swift:configure_swift:484            :   generate_swift_config_services /etc/swift/object-server/1.conf 1 6613 object
+ lib/swift:generate_swift_config_services:289 :   local swift_node_config=/etc/swift/object-server/1.conf
+ lib/swift:generate_swift_config_services:290 :   local node_id=1
+ lib/swift:generate_swift_config_services:291 :   local bind_port=6613
+ lib/swift:generate_swift_config_services:292 :   local server_type=object
+ lib/swift:generate_swift_config_services:294 :   log_facility=0
+ lib/swift:generate_swift_config_services:295 :   local node_path=/opt/stack/data/swift/1
+ lib/swift:generate_swift_config_services:297 :   iniuncomment /etc/swift/object-server/1.conf DEFAULT user
+ lib/swift:generate_swift_config_services:298 :   iniset /etc/swift/object-server/1.conf DEFAULT user stack
+ lib/swift:generate_swift_config_services:300 :   iniuncomment /etc/swift/object-server/1.conf DEFAULT bind_port
+ lib/swift:generate_swift_config_services:301 :   iniset /etc/swift/object-server/1.conf DEFAULT bind_port 6613
+ lib/swift:generate_swift_config_services:303 :   iniuncomment /etc/swift/object-server/1.conf DEFAULT swift_dir
+ lib/swift:generate_swift_config_services:304 :   iniset /etc/swift/object-server/1.conf DEFAULT swift_dir /etc/swift
+ lib/swift:generate_swift_config_services:306 :   iniuncomment /etc/swift/object-server/1.conf DEFAULT devices
+ lib/swift:generate_swift_config_services:307 :   iniset /etc/swift/object-server/1.conf DEFAULT devices /opt/stack/data/swift/1
+ lib/swift:generate_swift_config_services:309 :   iniuncomment /etc/swift/object-server/1.conf DEFAULT log_facility
+ lib/swift:generate_swift_config_services:310 :   iniset /etc/swift/object-server/1.conf DEFAULT log_facility LOG_LOCAL0
+ lib/swift:generate_swift_config_services:312 :   iniuncomment /etc/swift/object-server/1.conf DEFAULT workers
+ lib/swift:generate_swift_config_services:313 :   iniset /etc/swift/object-server/1.conf DEFAULT workers 2
+ lib/swift:generate_swift_config_services:315 :   iniuncomment /etc/swift/object-server/1.conf DEFAULT disable_fallocate
+ lib/swift:generate_swift_config_services:316 :   iniset /etc/swift/object-server/1.conf DEFAULT disable_fallocate true
+ lib/swift:generate_swift_config_services:318 :   iniuncomment /etc/swift/object-server/1.conf DEFAULT mount_check
+ lib/swift:generate_swift_config_services:319 :   iniset /etc/swift/object-server/1.conf DEFAULT mount_check false
+ lib/swift:generate_swift_config_services:321 :   iniuncomment /etc/swift/object-server/1.conf object-replicator vm_test_mode
+ lib/swift:generate_swift_config_services:322 :   iniset /etc/swift/object-server/1.conf object-replicator vm_test_mode yes
+ lib/swift:generate_swift_config_services:326 :   sed -i -e 's,#[ ]*recon_cache_path .*,recon_cache_path = /opt/stack/data/swift/cache,' /etc/swift/object-server/1.conf
+ lib/swift:configure_swift:485            :   iniuncomment /etc/swift/object-server/1.conf DEFAULT bind_ip
+ lib/swift:configure_swift:486            :   iniset /etc/swift/object-server/1.conf DEFAULT bind_ip 0.0.0.0
+ lib/swift:configure_swift:487            :   iniset /etc/swift/object-server/1.conf filter:recon recon_cache_path /opt/stack/data/swift/cache
+ lib/swift:configure_swift:489            :   swift_node_config=/etc/swift/container-server/1.conf
+ lib/swift:configure_swift:490            :   cp /opt/stack/swift/etc/container-server.conf-sample /etc/swift/container-server/1.conf
+ lib/swift:configure_swift:491            :   generate_swift_config_services /etc/swift/container-server/1.conf 1 6611 container
+ lib/swift:generate_swift_config_services:289 :   local swift_node_config=/etc/swift/container-server/1.conf
+ lib/swift:generate_swift_config_services:290 :   local node_id=1
+ lib/swift:generate_swift_config_services:291 :   local bind_port=6611
+ lib/swift:generate_swift_config_services:292 :   local server_type=container
+ lib/swift:generate_swift_config_services:294 :   log_facility=0
+ lib/swift:generate_swift_config_services:295 :   local node_path=/opt/stack/data/swift/1
+ lib/swift:generate_swift_config_services:297 :   iniuncomment /etc/swift/container-server/1.conf DEFAULT user
+ lib/swift:generate_swift_config_services:298 :   iniset /etc/swift/container-server/1.conf DEFAULT user stack
+ lib/swift:generate_swift_config_services:300 :   iniuncomment /etc/swift/container-server/1.conf DEFAULT bind_port
+ lib/swift:generate_swift_config_services:301 :   iniset /etc/swift/container-server/1.conf DEFAULT bind_port 6611
+ lib/swift:generate_swift_config_services:303 :   iniuncomment /etc/swift/container-server/1.conf DEFAULT swift_dir
+ lib/swift:generate_swift_config_services:304 :   iniset /etc/swift/container-server/1.conf DEFAULT swift_dir /etc/swift
+ lib/swift:generate_swift_config_services:306 :   iniuncomment /etc/swift/container-server/1.conf DEFAULT devices
+ lib/swift:generate_swift_config_services:307 :   iniset /etc/swift/container-server/1.conf DEFAULT devices /opt/stack/data/swift/1
+ lib/swift:generate_swift_config_services:309 :   iniuncomment /etc/swift/container-server/1.conf DEFAULT log_facility
+ lib/swift:generate_swift_config_services:310 :   iniset /etc/swift/container-server/1.conf DEFAULT log_facility LOG_LOCAL0
+ lib/swift:generate_swift_config_services:312 :   iniuncomment /etc/swift/container-server/1.conf DEFAULT workers
+ lib/swift:generate_swift_config_services:313 :   iniset /etc/swift/container-server/1.conf DEFAULT workers 2
+ lib/swift:generate_swift_config_services:315 :   iniuncomment /etc/swift/container-server/1.conf DEFAULT disable_fallocate
+ lib/swift:generate_swift_config_services:316 :   iniset /etc/swift/container-server/1.conf DEFAULT disable_fallocate true
+ lib/swift:generate_swift_config_services:318 :   iniuncomment /etc/swift/container-server/1.conf DEFAULT mount_check
+ lib/swift:generate_swift_config_services:319 :   iniset /etc/swift/container-server/1.conf DEFAULT mount_check false
+ lib/swift:generate_swift_config_services:321 :   iniuncomment /etc/swift/container-server/1.conf container-replicator vm_test_mode
+ lib/swift:generate_swift_config_services:322 :   iniset /etc/swift/container-server/1.conf container-replicator vm_test_mode yes
+ lib/swift:generate_swift_config_services:326 :   sed -i -e 's,#[ ]*recon_cache_path .*,recon_cache_path = /opt/stack/data/swift/cache,' /etc/swift/container-server/1.conf
+ lib/swift:configure_swift:492            :   iniuncomment /etc/swift/container-server/1.conf DEFAULT bind_ip
+ lib/swift:configure_swift:493            :   iniset /etc/swift/container-server/1.conf DEFAULT bind_ip 0.0.0.0
+ lib/swift:configure_swift:495            :   swift_node_config=/etc/swift/account-server/1.conf
+ lib/swift:configure_swift:496            :   cp /opt/stack/swift/etc/account-server.conf-sample /etc/swift/account-server/1.conf
+ lib/swift:configure_swift:497            :   generate_swift_config_services /etc/swift/account-server/1.conf 1 6612 account
+ lib/swift:generate_swift_config_services:289 :   local swift_node_config=/etc/swift/account-server/1.conf
+ lib/swift:generate_swift_config_services:290 :   local node_id=1
+ lib/swift:generate_swift_config_services:291 :   local bind_port=6612
+ lib/swift:generate_swift_config_services:292 :   local server_type=account
+ lib/swift:generate_swift_config_services:294 :   log_facility=0
+ lib/swift:generate_swift_config_services:295 :   local node_path=/opt/stack/data/swift/1
+ lib/swift:generate_swift_config_services:297 :   iniuncomment /etc/swift/account-server/1.conf DEFAULT user
+ lib/swift:generate_swift_config_services:298 :   iniset /etc/swift/account-server/1.conf DEFAULT user stack
+ lib/swift:generate_swift_config_services:300 :   iniuncomment /etc/swift/account-server/1.conf DEFAULT bind_port
+ lib/swift:generate_swift_config_services:301 :   iniset /etc/swift/account-server/1.conf DEFAULT bind_port 6612
+ lib/swift:generate_swift_config_services:303 :   iniuncomment /etc/swift/account-server/1.conf DEFAULT swift_dir
+ lib/swift:generate_swift_config_services:304 :   iniset /etc/swift/account-server/1.conf DEFAULT swift_dir /etc/swift
+ lib/swift:generate_swift_config_services:306 :   iniuncomment /etc/swift/account-server/1.conf DEFAULT devices
+ lib/swift:generate_swift_config_services:307 :   iniset /etc/swift/account-server/1.conf DEFAULT devices /opt/stack/data/swift/1
+ lib/swift:generate_swift_config_services:309 :   iniuncomment /etc/swift/account-server/1.conf DEFAULT log_facility
+ lib/swift:generate_swift_config_services:310 :   iniset /etc/swift/account-server/1.conf DEFAULT log_facility LOG_LOCAL0
+ lib/swift:generate_swift_config_services:312 :   iniuncomment /etc/swift/account-server/1.conf DEFAULT workers
+ lib/swift:generate_swift_config_services:313 :   iniset /etc/swift/account-server/1.conf DEFAULT workers 2
+ lib/swift:generate_swift_config_services:315 :   iniuncomment /etc/swift/account-server/1.conf DEFAULT disable_fallocate
+ lib/swift:generate_swift_config_services:316 :   iniset /etc/swift/account-server/1.conf DEFAULT disable_fallocate true
+ lib/swift:generate_swift_config_services:318 :   iniuncomment /etc/swift/account-server/1.conf DEFAULT mount_check
+ lib/swift:generate_swift_config_services:319 :   iniset /etc/swift/account-server/1.conf DEFAULT mount_check false
+ lib/swift:generate_swift_config_services:321 :   iniuncomment /etc/swift/account-server/1.conf account-replicator vm_test_mode
+ lib/swift:generate_swift_config_services:322 :   iniset /etc/swift/account-server/1.conf account-replicator vm_test_mode yes
+ lib/swift:generate_swift_config_services:326 :   sed -i -e 's,#[ ]*recon_cache_path .*,recon_cache_path = /opt/stack/data/swift/cache,' /etc/swift/account-server/1.conf
+ lib/swift:configure_swift:498            :   iniuncomment /etc/swift/account-server/1.conf DEFAULT bind_ip
+ lib/swift:configure_swift:499            :   iniset /etc/swift/account-server/1.conf DEFAULT bind_ip 0.0.0.0
+ lib/swift:configure_swift:503            :   iniset /etc/swift/proxy-server.conf filter:tempauth user_swiftprojecttest1_swiftusertest1 'testing .admin'
+ lib/swift:configure_swift:504            :   iniset /etc/swift/proxy-server.conf filter:tempauth user_swiftprojecttest2_swiftusertest2 'testing2 .admin'
+ lib/swift:configure_swift:505            :   iniset /etc/swift/proxy-server.conf filter:tempauth user_swiftprojecttest1_swiftusertest3 'testing3 .admin'
+ lib/swift:configure_swift:507            :   testfile=/etc/swift/test.conf
+ lib/swift:configure_swift:508            :   cp /opt/stack/swift/test/sample.conf /etc/swift/test.conf
+ lib/swift:configure_swift:511            :   iniset /etc/swift/test.conf func_test account swiftprojecttest1
+ lib/swift:configure_swift:512            :   iniset /etc/swift/test.conf func_test username swiftusertest1
+ lib/swift:configure_swift:513            :   iniset /etc/swift/test.conf func_test username3 swiftusertest3
+ lib/swift:configure_swift:514            :   iniset /etc/swift/test.conf func_test account2 swiftprojecttest2
+ lib/swift:configure_swift:515            :   iniset /etc/swift/test.conf func_test username2 swiftusertest2
+ lib/swift:configure_swift:516            :   iniset /etc/swift/test.conf func_test account4 swiftprojecttest4
+ lib/swift:configure_swift:517            :   iniset /etc/swift/test.conf func_test username4 swiftusertest4
+ lib/swift:configure_swift:518            :   iniset /etc/swift/test.conf func_test password4 testing4
+ lib/swift:configure_swift:519            :   iniset /etc/swift/test.conf func_test domain4 swift_test
+ lib/swift:configure_swift:521            :   is_service_enabled keystone
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/swift:configure_swift:522            :   iniuncomment /etc/swift/test.conf func_test auth_version
+ lib/swift:configure_swift:523            :   local auth_vers
++ lib/swift:configure_swift:524            :   iniget /etc/swift/test.conf func_test auth_version
+ lib/swift:configure_swift:524            :   auth_vers=3
+ lib/swift:configure_swift:525            :   iniset /etc/swift/test.conf func_test auth_host 172.25.93.57
+ lib/swift:configure_swift:526            :   [[ http == \h\t\t\p\s ]]
+ lib/swift:configure_swift:529            :   iniset /etc/swift/test.conf func_test auth_port 80
+ lib/swift:configure_swift:531            :   iniset /etc/swift/test.conf func_test auth_uri http://172.25.93.57/identity
+ lib/swift:configure_swift:532            :   [[ 3 == \3 ]]
+ lib/swift:configure_swift:533            :   iniset /etc/swift/test.conf func_test auth_prefix /identity/v3/
+ lib/swift:configure_swift:537            :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/swift:configure_swift:543            :   local user_group
++ lib/swift:configure_swift:544            :   id -g stack
+ lib/swift:configure_swift:544            :   user_group=1001
+ lib/swift:configure_swift:545            :   sudo install -d -o stack -g 1001 /opt/stack/data/swift
+ lib/swift:configure_swift:547            :   local swift_log_dir=/opt/stack/data/swift/logs
+ lib/swift:configure_swift:548            :   sudo rm -rf /opt/stack/data/swift/logs
+ lib/swift:configure_swift:549            :   local swift_log_group=adm
+ lib/swift:configure_swift:550            :   sudo install -d -o stack -g adm /opt/stack/data/swift/logs/hourly
+ lib/swift:configure_swift:552            :   [[ False != \F\a\l\s\e ]]
+ lib/swift:configure_swift:560            :   '[' False == True ']'
+ ./stack.sh:main:954                      :   is_service_enabled s3api
+ functions-common:is_service_enabled:2077 :   return 1
+ ./stack.sh:main:960                      :   is_service_enabled g-api n-api
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:962                      :   stack_install_service glance
+ lib/stack:stack_install_service:20       :   local service=glance
+ lib/stack:stack_install_service:21       :   type install_glance
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_glance
+ lib/glance:install_glance:571            :   glance_store_extras=()
+ lib/glance:install_glance:571            :   local glance_store_extras
+ lib/glance:install_glance:573            :   is_service_enabled cinder
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/glance:install_glance:574            :   glance_store_extras=("cinder" "${glance_store_extras[@]}")
+ lib/glance:install_glance:577            :   is_service_enabled swift
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/glance:install_glance:578            :   glance_store_extras=("swift" "${glance_store_extras[@]}")
+ lib/glance:install_glance:583            :   use_library_from_git glance_store
+ inc/python:use_library_from_git:266      :   local name=glance_store
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,glance_store, ]]
+ inc/python:use_library_from_git:269      :   return 1
++ lib/glance:install_glance:589            :   join_extras swift cinder
++ inc/python:join_extras:28                :   local IFS=,
++ inc/python:join_extras:29                :   echo swift,cinder
+ lib/glance:install_glance:589            :   pip_install_gr_extras glance-store swift,cinder
+ inc/python:pip_install_gr_extras:107     :   local name=glance-store
+ inc/python:pip_install_gr_extras:108     :   local extras=swift,cinder
+ inc/python:pip_install_gr_extras:109     :   local version_constraints
++ inc/python:pip_install_gr_extras:110     :   get_version_constraints_from_global_requirements glance-store
++ inc/python:get_version_constraints_from_global_requirements:253 :   local package=glance-store
++ inc/python:get_version_constraints_from_global_requirements:254 :   local required_pkg_version_constraint
+++ inc/python:get_version_constraints_from_global_requirements:256 :   grep -i -h -o -P '^glance-store\K.*' /opt/stack/requirements/global-requirements.txt
+++ inc/python:get_version_constraints_from_global_requirements:256 :   cut -d# -f1
++ inc/python:get_version_constraints_from_global_requirements:256 :   required_pkg_version_constraint='!=0.29.0  '
++ inc/python:get_version_constraints_from_global_requirements:257 :   [[ !=0.29.0   == '' ]]
++ inc/python:get_version_constraints_from_global_requirements:260 :   echo '!=0.29.0'
+ inc/python:pip_install_gr_extras:110     :   version_constraints='!=0.29.0'
+ inc/python:pip_install_gr_extras:111     :   pip_install 'glance-store[swift,cinder]!=0.29.0'
Using python 3.10 to install glance-store[swift,cinder]!=0.29.0
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade 'glance-store[swift,cinder]!=0.29.0'
Looking in indexes: https://pypi.org/simple/
Requirement already satisfied: glance-store!=0.29.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store[cinder,swift]!=0.29.0) (4.9.1)
Requirement already satisfied: oslo.config>=5.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (9.7.1)
Requirement already satisfied: oslo.i18n>=3.15.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (6.5.1)
Requirement already satisfied: oslo.serialization!=2.19.1,>=2.18.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (5.7.0)
Requirement already satisfied: oslo.utils>=4.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (8.2.0)
Requirement already satisfied: oslo.concurrency>=3.26.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (7.1.0)
Requirement already satisfied: stevedore>=1.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (5.4.1)
Requirement already satisfied: eventlet!=0.18.3,!=0.20.1,>=0.18.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (0.39.0)
Requirement already satisfied: jsonschema>=3.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (4.23.0)
Requirement already satisfied: keystoneauth1>=3.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (5.10.0)
Requirement already satisfied: python-keystoneclient>=3.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (5.6.0)
Requirement already satisfied: requests>=2.14.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (2.32.3)
Requirement already satisfied: dnspython>=1.15.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from eventlet!=0.18.3,!=0.20.1,>=0.18.2->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (2.7.0)
Requirement already satisfied: greenlet>=1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from eventlet!=0.18.3,!=0.20.1,>=0.18.2->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (3.1.1)
Requirement already satisfied: python-cinderclient>=4.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store[cinder,swift]!=0.29.0) (9.7.0)
Requirement already satisfied: os-brick>=6.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store[cinder,swift]!=0.29.0) (6.11.0)
Requirement already satisfied: oslo.rootwrap>=5.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store[cinder,swift]!=0.29.0) (7.5.1)
Requirement already satisfied: oslo.privsep>=1.23.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store[cinder,swift]!=0.29.0) (3.6.0)
Requirement already satisfied: python-swiftclient>=3.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance-store[cinder,swift]!=0.29.0) (4.7.0)
Requirement already satisfied: attrs>=22.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (25.1.0)
Requirement already satisfied: jsonschema-specifications>=2023.03.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (2024.10.1)
Requirement already satisfied: referencing>=0.28.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (0.36.2)
Requirement already satisfied: rpds-py>=0.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (0.23.1)
Requirement already satisfied: pbr>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.4.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (6.1.1)
Requirement already satisfied: iso8601>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.4.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (2.1.0)
Requirement already satisfied: os-service-types>=1.2.0 in /usr/lib/python3/dist-packages (from keystoneauth1>=3.4.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (1.7.0)
Requirement already satisfied: typing-extensions>=4.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.4.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (4.12.2)
Requirement already satisfied: oslo.context>=4.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-brick>=6.3.0->glance-store[cinder,swift]!=0.29.0) (5.7.1)
Requirement already satisfied: oslo.log>=4.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-brick>=6.3.0->glance-store[cinder,swift]!=0.29.0) (7.1.0)
Requirement already satisfied: oslo.service>=2.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-brick>=6.3.0->glance-store[cinder,swift]!=0.29.0) (4.1.1)
Requirement already satisfied: tenacity>=6.3.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-brick>=6.3.0->glance-store[cinder,swift]!=0.29.0) (9.0.0)
Requirement already satisfied: os-win>=5.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-brick>=6.3.0->glance-store[cinder,swift]!=0.29.0) (5.9.0)
Requirement already satisfied: psutil>=5.7.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-brick>=6.3.0->glance-store[cinder,swift]!=0.29.0) (7.0.0)
Requirement already satisfied: fasteners>=0.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.concurrency>=3.26.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (0.19)
Requirement already satisfied: debtcollector>=3.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.concurrency>=3.26.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (3.0.0)
Requirement already satisfied: wrapt>=1.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from debtcollector>=3.0.0->oslo.concurrency>=3.26.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (1.17.2)
Requirement already satisfied: netaddr>=0.7.18 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=5.2.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (1.3.0)
Requirement already satisfied: rfc3986>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=5.2.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (2.0.0)
Requirement already satisfied: PyYAML>=5.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=5.2.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (6.0.2)
Requirement already satisfied: python-dateutil>=2.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.log>=4.8.0->os-brick>=6.3.0->glance-store[cinder,swift]!=0.29.0) (2.9.0.post0)
Requirement already satisfied: cffi>=1.14.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.privsep>=1.23.0->glance-store[cinder,swift]!=0.29.0) (1.17.1)
Requirement already satisfied: msgpack>=0.6.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.privsep>=1.23.0->glance-store[cinder,swift]!=0.29.0) (1.1.0)
Requirement already satisfied: pycparser in /opt/stack/data/venv/lib/python3.10/site-packages (from cffi>=1.14.0->oslo.privsep>=1.23.0->glance-store[cinder,swift]!=0.29.0) (2.22)
Requirement already satisfied: tzdata>=2022.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.serialization!=2.19.1,>=2.18.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (2025.1)
Requirement already satisfied: WebOb>=1.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=2.8.0->os-brick>=6.3.0->glance-store[cinder,swift]!=0.29.0) (1.8.9)
Requirement already satisfied: PasteDeploy>=1.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=2.8.0->os-brick>=6.3.0->glance-store[cinder,swift]!=0.29.0) (3.1.0)
Requirement already satisfied: Routes>=2.3.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=2.8.0->os-brick>=6.3.0->glance-store[cinder,swift]!=0.29.0) (2.5.1)
Requirement already satisfied: Paste>=2.0.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=2.8.0->os-brick>=6.3.0->glance-store[cinder,swift]!=0.29.0) (3.10.1)
Requirement already satisfied: Yappi>=1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=2.8.0->os-brick>=6.3.0->glance-store[cinder,swift]!=0.29.0) (1.6.10)
Requirement already satisfied: pyparsing>=2.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=4.7.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (3.2.1)
Requirement already satisfied: packaging>=20.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=4.7.0->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (24.2)
Requirement already satisfied: setuptools in /opt/stack/data/venv/lib/python3.10/site-packages (from Paste>=2.0.2->oslo.service>=2.8.0->os-brick>=6.3.0->glance-store[cinder,swift]!=0.29.0) (80.9.0)
Requirement already satisfied: PrettyTable>=0.7.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-cinderclient>=4.1.0->glance-store[cinder,swift]!=0.29.0) (3.14.0)
Requirement already satisfied: wcwidth in /opt/stack/data/venv/lib/python3.10/site-packages (from PrettyTable>=0.7.2->python-cinderclient>=4.1.0->glance-store[cinder,swift]!=0.29.0) (0.2.13)
Requirement already satisfied: six>=1.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-dateutil>=2.7.0->oslo.log>=4.8.0->os-brick>=6.3.0->glance-store[cinder,swift]!=0.29.0) (1.17.0)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.14.2->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (3.4.1)
Requirement already satisfied: idna<4,>=2.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.14.2->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.14.2->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (1.26.20)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests>=2.14.2->glance-store!=0.29.0->glance-store[cinder,swift]!=0.29.0) (2020.6.20)
Requirement already satisfied: repoze.lru>=0.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from Routes>=2.3.1->oslo.service>=2.8.0->os-brick>=6.3.0->glance-store[cinder,swift]!=0.29.0) (0.7)
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760003041558
+ functions-common:time_stop:2430          :   [[ -z 1760003041558 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003044143
+ functions-common:time_stop:2434          :   elapsed_time=2585
+ functions-common:time_stop:2435          :   total=57049
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=59634
+ inc/python:pip_install:219               :   return 0
+ lib/glance:install_glance:590            :   copy_rootwrap /opt/stack/data/venv/etc/glance
+ lib/glance:copy_rootwrap:277             :   local source_path=/opt/stack/data/venv/etc/glance
+ lib/glance:copy_rootwrap:279             :   sudo install -d -o stack /etc/glance
+ lib/glance:copy_rootwrap:280             :   cp -r /root/hitachi-ci/conf/glance/rootwrap.conf /root/hitachi-ci/conf/glance/rootwrap.d /etc/glance/
+ lib/glance:install_glance:593            :   git_clone https://opendev.org/openstack/glance.git /opt/stack/glance stable/2025.1
+ functions-common:git_clone:593           :   local git_remote=https://opendev.org/openstack/glance.git
+ functions-common:git_clone:594           :   local git_dest=/opt/stack/glance
+ functions-common:git_clone:595           :   local git_ref=stable/2025.1
+ functions-common:git_clone:596           :   local orig_dir
++ functions-common:git_clone:597           :   pwd
+ functions-common:git_clone:597           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:598           :   local git_clone_flags=
++ functions-common:git_clone:600           :   trueorfalse False RECLONE
+ functions-common:git_clone:600           :   RECLONE=False
+ functions-common:git_clone:601           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:605           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:614           :   echo stable/2025.1
+ functions-common:git_clone:614           :   egrep -q '^refs'
+ functions-common:git_clone:628           :   [[ ! -d /opt/stack/glance ]]
+ functions-common:git_clone:638           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:673           :   sudo git config --system --add safe.directory /opt/stack/glance
+ functions-common:git_clone:676           :   cd /opt/stack/glance
+ functions-common:git_clone:677           :   git show --oneline
+ functions-common:git_clone:677           :   head -1
d70e40e4c Fix inaccurate usage reporting when delayed_delete is enabled
+ functions-common:git_clone:678           :   cd /opt/stack/devstack
+ lib/glance:install_glance:595            :   setup_develop /opt/stack/glance
+ inc/python:setup_develop:354             :   local bindep
+ inc/python:setup_develop:355             :   [[ /opt/stack/glance == -bindep* ]]
+ inc/python:setup_develop:359             :   local project_dir=/opt/stack/glance
+ inc/python:setup_develop:360             :   local extras=
+ inc/python:setup_develop:361             :   _setup_package_with_constraints_edit /opt/stack/glance -e
+ inc/python:_setup_package_with_constraints_edit:380 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:381 :   [[ /opt/stack/glance == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:385 :   local project_dir=/opt/stack/glance
+ inc/python:_setup_package_with_constraints_edit:386 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:387 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:394 :   cd /opt/stack/glance
++ inc/python:_setup_package_with_constraints_edit:394 :   pwd
+ inc/python:_setup_package_with_constraints_edit:394 :   project_dir=/opt/stack/glance
+ inc/python:_setup_package_with_constraints_edit:396 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:400 :   local name
++ inc/python:_setup_package_with_constraints_edit:401 :   awk '/^name.*=/ {print $3}' /opt/stack/glance/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:401 :   name=glance
+ inc/python:_setup_package_with_constraints_edit:402 :   '[' -z glance ']'
+ inc/python:_setup_package_with_constraints_edit:406 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- glance
/opt/stack/requirements/.venv/lib/python3.10/site-packages/openstack_requirements/requirement.py:20: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
+ inc/python:_setup_package_with_constraints_edit:409 :   setup_package /opt/stack/glance -e
+ inc/python:setup_package:437             :   local bindep=0
+ inc/python:setup_package:438             :   local bindep_flag=
+ inc/python:setup_package:439             :   local bindep_profiles=
+ inc/python:setup_package:440             :   [[ /opt/stack/glance == -bindep* ]]
+ inc/python:setup_package:445             :   local project_dir=/opt/stack/glance
+ inc/python:setup_package:446             :   local flags=-e
+ inc/python:setup_package:447             :   local extras=
+ inc/python:setup_package:451             :   [[ -n -e ]]
+ inc/python:setup_package:451             :   [[ -z '' ]]
+ inc/python:setup_package:451             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:456             :   [[ ! -z '' ]]
+ inc/python:setup_package:461             :   [[ 0 == 1 ]]
+ inc/python:setup_package:465             :   pip_install -e /opt/stack/glance
Using python 3.10 to install /opt/stack/glance
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade -e /opt/stack/glance
Looking in indexes: https://pypi.org/simple/
Obtaining file:///opt/stack/glance
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: pbr>=3.1.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (6.1.1)
Requirement already satisfied: defusedxml>=0.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (0.7.1)
Requirement already satisfied: SQLAlchemy>=1.3.14 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (2.0.38)
Requirement already satisfied: eventlet>=0.33.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (0.39.0)
Requirement already satisfied: PasteDeploy>=1.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (3.1.0)
Requirement already satisfied: Routes>=2.3.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (2.5.1)
Requirement already satisfied: WebOb>=1.8.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (1.8.9)
Requirement already satisfied: alembic>=0.9.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (1.14.1)
Requirement already satisfied: httplib2>=0.9.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (0.22.0)
Requirement already satisfied: oslo.config>=8.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (9.7.1)
Requirement already satisfied: oslo.concurrency>=4.5.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (7.1.0)
Requirement already satisfied: oslo.context>=2.22.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (5.7.1)
Requirement already satisfied: oslo.upgradecheck>=1.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (2.5.0)
Requirement already satisfied: oslo.utils>=7.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (8.2.0)
Requirement already satisfied: stevedore!=3.0.0,>=1.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (5.4.1)
Requirement already satisfied: futurist>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (3.1.0)
Requirement already satisfied: taskflow>=4.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (5.12.0)
Requirement already satisfied: keystoneauth1>=3.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (5.10.0)
Requirement already satisfied: keystonemiddleware>=5.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (10.9.0)
Requirement already satisfied: WSME>=0.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (0.12.1)
Requirement already satisfied: PrettyTable>=0.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (3.14.0)
Requirement already satisfied: Paste>=2.0.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (3.10.1)
Requirement already satisfied: jsonschema>=3.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (4.23.0)
Requirement already satisfied: python-keystoneclient>=3.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (5.6.0)
Requirement already satisfied: oslo.db>=5.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (17.2.1)
Requirement already satisfied: oslo.i18n>=5.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (6.5.1)
Requirement already satisfied: oslo.limit>=1.6.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (2.6.1)
Requirement already satisfied: oslo.log>=4.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (7.1.0)
Requirement already satisfied: oslo.messaging!=9.0.0,>=5.29.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (16.1.0)
Requirement already satisfied: oslo.middleware>=3.31.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (6.3.1)
Requirement already satisfied: oslo.reports>=1.18.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (3.5.1)
Requirement already satisfied: oslo.policy>=4.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (4.5.1)
Requirement already satisfied: retrying!=1.3.0,>=1.2.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (1.3.4)
Requirement already satisfied: osprofiler>=1.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (4.2.0)
Requirement already satisfied: glance-store>=4.9.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (4.9.1)
Requirement already satisfied: debtcollector>=1.19.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (3.0.0)
Requirement already satisfied: cryptography>=2.6.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (43.0.3)
Requirement already satisfied: cursive>=0.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (0.2.3)
Requirement already satisfied: castellan>=0.17.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from glance==30.0.1.dev11) (5.2.1)
Requirement already satisfied: Mako in /opt/stack/data/venv/lib/python3.10/site-packages (from alembic>=0.9.6->glance==30.0.1.dev11) (1.3.9)
Requirement already satisfied: typing-extensions>=4 in /opt/stack/data/venv/lib/python3.10/site-packages (from alembic>=0.9.6->glance==30.0.1.dev11) (4.12.2)
Requirement already satisfied: python-barbicanclient>=5.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from castellan>=0.17.0->glance==30.0.1.dev11) (7.1.0)
Requirement already satisfied: requests>=2.18.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from castellan>=0.17.0->glance==30.0.1.dev11) (2.32.3)
Requirement already satisfied: cffi>=1.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from cryptography>=2.6.1->glance==30.0.1.dev11) (1.17.1)
Requirement already satisfied: pycparser in /opt/stack/data/venv/lib/python3.10/site-packages (from cffi>=1.12->cryptography>=2.6.1->glance==30.0.1.dev11) (2.22)
Requirement already satisfied: oslo.serialization>=1.10.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cursive>=0.2.1->glance==30.0.1.dev11) (5.7.0)
Requirement already satisfied: wrapt>=1.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from debtcollector>=1.19.0->glance==30.0.1.dev11) (1.17.2)
Requirement already satisfied: dnspython>=1.15.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from eventlet>=0.33.3->glance==30.0.1.dev11) (2.7.0)
Requirement already satisfied: greenlet>=1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from eventlet>=0.33.3->glance==30.0.1.dev11) (3.1.1)
Requirement already satisfied: pyparsing!=3.0.0,!=3.0.1,!=3.0.2,!=3.0.3,<4,>=2.4.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from httplib2>=0.9.1->glance==30.0.1.dev11) (3.2.1)
Requirement already satisfied: attrs>=22.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->glance==30.0.1.dev11) (25.1.0)
Requirement already satisfied: jsonschema-specifications>=2023.03.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->glance==30.0.1.dev11) (2024.10.1)
Requirement already satisfied: referencing>=0.28.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->glance==30.0.1.dev11) (0.36.2)
Requirement already satisfied: rpds-py>=0.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->glance==30.0.1.dev11) (0.23.1)
Requirement already satisfied: iso8601>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.4.0->glance==30.0.1.dev11) (2.1.0)
Requirement already satisfied: os-service-types>=1.2.0 in /usr/lib/python3/dist-packages (from keystoneauth1>=3.4.0->glance==30.0.1.dev11) (1.7.0)
Requirement already satisfied: oslo.cache>=1.26.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=5.1.0->glance==30.0.1.dev11) (3.10.2)
Requirement already satisfied: pycadf>=1.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=5.1.0->glance==30.0.1.dev11) (4.0.1)
Requirement already satisfied: PyJWT>=2.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=5.1.0->glance==30.0.1.dev11) (2.10.1)
Requirement already satisfied: dogpile.cache>=1.3.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.cache>=1.26.0->keystonemiddleware>=5.1.0->glance==30.0.1.dev11) (1.3.4)
Requirement already satisfied: decorator>=4.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from dogpile.cache>=1.3.3->oslo.cache>=1.26.0->keystonemiddleware>=5.1.0->glance==30.0.1.dev11) (5.1.1)
Requirement already satisfied: fasteners>=0.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.concurrency>=4.5.1->glance==30.0.1.dev11) (0.19)
Requirement already satisfied: netaddr>=0.7.18 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=8.1.0->glance==30.0.1.dev11) (1.3.0)
Requirement already satisfied: rfc3986>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=8.1.0->glance==30.0.1.dev11) (2.0.0)
Requirement already satisfied: PyYAML>=5.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=8.1.0->glance==30.0.1.dev11) (6.0.2)
Requirement already satisfied: testresources>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.db>=5.0.0->glance==30.0.1.dev11) (2.0.1)
Requirement already satisfied: testscenarios>=0.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.db>=5.0.0->glance==30.0.1.dev11) (0.5.0)
Requirement already satisfied: openstacksdk>=0.47.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.limit>=1.6.0->glance==30.0.1.dev11) (4.4.0)
Requirement already satisfied: jmespath>=0.9.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.47.0->oslo.limit>=1.6.0->glance==30.0.1.dev11) (1.0.1)
Requirement already satisfied: jsonpatch!=1.20,>=1.16 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.47.0->oslo.limit>=1.6.0->glance==30.0.1.dev11) (1.33)
Requirement already satisfied: platformdirs>=3 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.47.0->oslo.limit>=1.6.0->glance==30.0.1.dev11) (4.3.6)
Requirement already satisfied: psutil>=3.2.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.47.0->oslo.limit>=1.6.0->glance==30.0.1.dev11) (7.0.0)
Requirement already satisfied: requestsexceptions>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.47.0->oslo.limit>=1.6.0->glance==30.0.1.dev11) (1.4.0)
Requirement already satisfied: jsonpointer>=1.9 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonpatch!=1.20,>=1.16->openstacksdk>=0.47.0->oslo.limit>=1.6.0->glance==30.0.1.dev11) (3.0.0)
Requirement already satisfied: python-dateutil>=2.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.log>=4.5.0->glance==30.0.1.dev11) (2.9.0.post0)
Requirement already satisfied: oslo.service>=1.24.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging!=9.0.0,>=5.29.0->glance==30.0.1.dev11) (4.1.1)
Requirement already satisfied: cachetools>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging!=9.0.0,>=5.29.0->glance==30.0.1.dev11) (5.5.2)
Requirement already satisfied: amqp>=2.5.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging!=9.0.0,>=5.29.0->glance==30.0.1.dev11) (5.3.1)
Requirement already satisfied: kombu>=4.6.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging!=9.0.0,>=5.29.0->glance==30.0.1.dev11) (5.4.2)
Requirement already satisfied: oslo.metrics>=0.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging!=9.0.0,>=5.29.0->glance==30.0.1.dev11) (0.11.0)
Requirement already satisfied: vine<6.0.0,>=5.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from amqp>=2.5.2->oslo.messaging!=9.0.0,>=5.29.0->glance==30.0.1.dev11) (5.1.0)
Requirement already satisfied: tzdata in /opt/stack/data/venv/lib/python3.10/site-packages (from kombu>=4.6.6->oslo.messaging!=9.0.0,>=5.29.0->glance==30.0.1.dev11) (2025.1)
Requirement already satisfied: prometheus-client>=0.6.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.metrics>=0.2.1->oslo.messaging!=9.0.0,>=5.29.0->glance==30.0.1.dev11) (0.21.1)
Requirement already satisfied: Jinja2>=2.10 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.middleware>=3.31.0->glance==30.0.1.dev11) (3.1.5)
Requirement already satisfied: statsd>=3.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.middleware>=3.31.0->glance==30.0.1.dev11) (4.0.1)
Requirement already satisfied: bcrypt>=3.1.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.middleware>=3.31.0->glance==30.0.1.dev11) (4.0.1)
Requirement already satisfied: MarkupSafe>=2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from Jinja2>=2.10->oslo.middleware>=3.31.0->glance==30.0.1.dev11) (3.0.2)
Requirement already satisfied: msgpack>=0.5.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.serialization>=1.10.0->cursive>=0.2.1->glance==30.0.1.dev11) (1.1.0)
Requirement already satisfied: Yappi>=1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=1.24.0->oslo.messaging!=9.0.0,>=5.29.0->glance==30.0.1.dev11) (1.6.10)
Requirement already satisfied: packaging>=20.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=7.3.0->glance==30.0.1.dev11) (24.2)
Requirement already satisfied: setuptools in /opt/stack/data/venv/lib/python3.10/site-packages (from Paste>=2.0.2->glance==30.0.1.dev11) (80.9.0)
Requirement already satisfied: wcwidth in /opt/stack/data/venv/lib/python3.10/site-packages (from PrettyTable>=0.7.1->glance==30.0.1.dev11) (0.2.13)
Requirement already satisfied: cliff>=2.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-barbicanclient>=5.5.0->castellan>=0.17.0->glance==30.0.1.dev11) (4.9.1)
Requirement already satisfied: autopage>=0.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff>=2.8.0->python-barbicanclient>=5.5.0->castellan>=0.17.0->glance==30.0.1.dev11) (0.5.2)
Requirement already satisfied: cmd2>=1.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff>=2.8.0->python-barbicanclient>=5.5.0->castellan>=0.17.0->glance==30.0.1.dev11) (2.5.11)
Requirement already satisfied: pyperclip>=1.8 in /opt/stack/data/venv/lib/python3.10/site-packages (from cmd2>=1.0.0->cliff>=2.8.0->python-barbicanclient>=5.5.0->castellan>=0.17.0->glance==30.0.1.dev11) (1.9.0)
Requirement already satisfied: six>=1.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-dateutil>=2.7.0->oslo.log>=4.5.0->glance==30.0.1.dev11) (1.17.0)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.18.0->castellan>=0.17.0->glance==30.0.1.dev11) (3.4.1)
Requirement already satisfied: idna<4,>=2.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.18.0->castellan>=0.17.0->glance==30.0.1.dev11) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.18.0->castellan>=0.17.0->glance==30.0.1.dev11) (1.26.20)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests>=2.18.0->castellan>=0.17.0->glance==30.0.1.dev11) (2020.6.20)
Requirement already satisfied: repoze.lru>=0.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from Routes>=2.3.1->glance==30.0.1.dev11) (0.7)
Requirement already satisfied: networkx>=2.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from taskflow>=4.0.0->glance==30.0.1.dev11) (3.4.2)
Requirement already satisfied: automaton>=1.9.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from taskflow>=4.0.0->glance==30.0.1.dev11) (3.2.0)
Requirement already satisfied: tenacity>=6.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from taskflow>=4.0.0->glance==30.0.1.dev11) (9.0.0)
Requirement already satisfied: pydot>=1.2.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from taskflow>=4.0.0->glance==30.0.1.dev11) (3.0.4)
Requirement already satisfied: testtools in /opt/stack/data/venv/lib/python3.10/site-packages (from testscenarios>=0.4->oslo.db>=5.0.0->glance==30.0.1.dev11) (2.7.2)
Requirement already satisfied: simplegeneric in /opt/stack/data/venv/lib/python3.10/site-packages (from WSME>=0.8.0->glance==30.0.1.dev11) (0.8.1)
Requirement already satisfied: pytz in /opt/stack/data/venv/lib/python3.10/site-packages (from WSME>=0.8.0->glance==30.0.1.dev11) (2025.1)
Requirement already satisfied: importlib-metadata>=4.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from WSME>=0.8.0->glance==30.0.1.dev11) (8.5.0)
Requirement already satisfied: zipp>=3.20 in /opt/stack/data/venv/lib/python3.10/site-packages (from importlib-metadata>=4.4->WSME>=0.8.0->glance==30.0.1.dev11) (3.21.0)
Installing collected packages: glance
  Attempting uninstall: glance
    Found existing installation: glance 30.0.1.dev11
    Uninstalling glance-30.0.1.dev11:
      Successfully uninstalled glance-30.0.1.dev11
  DEPRECATION: Legacy editable install of glance==30.0.1.dev11 from file:///opt/stack/glance (setup.py develop) is deprecated. pip 25.3 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457
  Running setup.py develop for glance
Successfully installed glance-30.0.1.dev11
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760003045231
+ functions-common:time_stop:2430          :   [[ -z 1760003045231 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003060177
+ functions-common:time_stop:2434          :   elapsed_time=14946
+ functions-common:time_stop:2435          :   total=59634
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=74580
+ inc/python:pip_install:219               :   return 0
+ inc/python:setup_package:467             :   [[ -e == \-\e ]]
+ inc/python:setup_package:467             :   [[ True == \F\a\l\s\e ]]
+ inc/python:_setup_package_with_constraints_edit:413 :   use_library_from_git /opt/stack/glance
+ inc/python:use_library_from_git:266      :   local name=/opt/stack/glance
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,/opt/stack/glance, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:963                      :   configure_glance
+ lib/glance:configure_glance:360          :   sudo install -d -o stack /etc/glance /etc/glance/metadefs
+ lib/glance:configure_glance:363          :   local dburl
++ lib/glance:configure_glance:364          :   database_connection_url glance
++ lib/database:database_connection_url:134 :   local db=glance
++ lib/database:database_connection_url:135 :   database_connection_url_mysql glance
++ lib/databases/mysql:database_connection_url_mysql:243 :   local db=glance
++ lib/databases/mysql:database_connection_url_mysql:244 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:248 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:249 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:250 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:254 :   echo 'mysql+pymysql://root:Hitachino1@127.0.0.1/glance?charset=utf8&plugin=dbcounter'
+ lib/glance:configure_glance:364          :   dburl='mysql+pymysql://root:Hitachino1@127.0.0.1/glance?charset=utf8&plugin=dbcounter'
+ lib/glance:configure_glance:366          :   iniset /etc/glance/glance-api.conf DEFAULT debug True
+ lib/glance:configure_glance:367          :   iniset /etc/glance/glance-api.conf database connection 'mysql+pymysql://root:Hitachino1@127.0.0.1/glance?charset=utf8&plugin=dbcounter'
+ lib/glance:configure_glance:368          :   iniset /etc/glance/glance-api.conf DEFAULT use_syslog False
+ lib/glance:configure_glance:369          :   iniset /etc/glance/glance-api.conf DEFAULT image_cache_dir /opt/stack/data/glance/cache/
+ lib/glance:configure_glance:370          :   iniset /etc/glance/glance-api.conf DEFAULT image_cache_driver centralized_db
+ lib/glance:configure_glance:371          :   iniset /etc/glance/glance-api.conf oslo_concurrency lock_path /opt/stack/data/glance/locks
+ lib/glance:configure_glance:372          :   iniset /etc/glance/glance-api.conf paste_deploy flavor keystone+cachemanagement
+ lib/glance:configure_glance:373          :   configure_keystone_authtoken_middleware /etc/glance/glance-api.conf glance
+ lib/keystone:configure_keystone_authtoken_middleware:432 :   local conf_file=/etc/glance/glance-api.conf
+ lib/keystone:configure_keystone_authtoken_middleware:433 :   local admin_user=glance
+ lib/keystone:configure_keystone_authtoken_middleware:434 :   local section=keystone_authtoken
+ lib/keystone:configure_keystone_authtoken_middleware:436 :   iniset /etc/glance/glance-api.conf keystone_authtoken auth_type password
+ lib/keystone:configure_keystone_authtoken_middleware:437 :   iniset /etc/glance/glance-api.conf keystone_authtoken interface public
+ lib/keystone:configure_keystone_authtoken_middleware:438 :   iniset /etc/glance/glance-api.conf keystone_authtoken auth_url http://172.25.93.57/identity
+ lib/keystone:configure_keystone_authtoken_middleware:439 :   iniset /etc/glance/glance-api.conf keystone_authtoken username glance
+ lib/keystone:configure_keystone_authtoken_middleware:440 :   iniset /etc/glance/glance-api.conf keystone_authtoken password Hitachino1
+ lib/keystone:configure_keystone_authtoken_middleware:441 :   iniset /etc/glance/glance-api.conf keystone_authtoken user_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:442 :   iniset /etc/glance/glance-api.conf keystone_authtoken project_name service
+ lib/keystone:configure_keystone_authtoken_middleware:443 :   iniset /etc/glance/glance-api.conf keystone_authtoken project_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:445 :   iniset /etc/glance/glance-api.conf keystone_authtoken cafile /opt/stack/data/ca-bundle.pem
+ lib/keystone:configure_keystone_authtoken_middleware:446 :   iniset /etc/glance/glance-api.conf keystone_authtoken memcached_servers localhost:11211
+ lib/glance:configure_glance:374          :   iniset /etc/glance/glance-api.conf oslo_messaging_notifications driver messagingv2
+ lib/glance:configure_glance:375          :   iniset_rpc_backend glance /etc/glance/glance-api.conf
+ lib/rpc_backend:iniset_rpc_backend:144   :   local package=glance
+ lib/rpc_backend:iniset_rpc_backend:145   :   local file=/etc/glance/glance-api.conf
+ lib/rpc_backend:iniset_rpc_backend:146   :   local section=DEFAULT
+ lib/rpc_backend:iniset_rpc_backend:147   :   local virtual_host=
+ lib/rpc_backend:iniset_rpc_backend:148   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2077 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:149   :   get_transport_url ''
++ lib/rpc_backend:get_transport_url:126    :   local virtual_host=
++ lib/rpc_backend:get_transport_url:127    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/rpc_backend:get_transport_url:128    :   echo rabbit://stackrabbit:Hitachino1@172.25.93.57:5672/
+ lib/rpc_backend:iniset_rpc_backend:149   :   iniset /etc/glance/glance-api.conf DEFAULT transport_url rabbit://stackrabbit:Hitachino1@172.25.93.57:5672/
+ lib/rpc_backend:iniset_rpc_backend:150   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:153   :   '[' -n '' ']'
+ lib/glance:configure_glance:376          :   '[' libvirt = libvirt ']'
+ lib/glance:configure_glance:376          :   '[' qemu = parallels ']'
+ lib/glance:configure_glance:380          :   iniset /etc/glance/glance-api.conf DEFAULT show_image_direct_url False
+ lib/glance:configure_glance:381          :   iniset /etc/glance/glance-api.conf DEFAULT show_multiple_locations False
+ lib/glance:configure_glance:382          :   iniset /etc/glance/glance-api.conf image_format require_image_format_match True
+ lib/glance:configure_glance:385          :   configure_glance_store False False
+ lib/glance:configure_glance_store:290    :   local use_cinder_for_glance=False
+ lib/glance:configure_glance_store:291    :   local glance_enable_multiple_stores=False
+ lib/glance:configure_glance_store:292    :   local be
+ lib/glance:configure_glance_store:294    :   [[ False == \F\a\l\s\e ]]
+ lib/glance:configure_glance_store:295    :   [[ False == \T\r\u\e ]]
+ lib/glance:configure_glance_store:312    :   iniset /etc/glance/glance-api.conf glance_store filesystem_store_datadir /opt/stack/data/glance/images/
+ lib/glance:configure_glance:388          :   '[' -n '' ']'
+ lib/glance:configure_glance:391          :   iniset /etc/glance/glance-api.conf cors allowed_origin http://172.25.93.57
+ lib/glance:configure_glance:395          :   [[ False == \F\a\l\s\e ]]
+ lib/glance:configure_glance:397          :   [[ False == \T\r\u\e ]]
+ lib/glance:configure_glance:403          :   is_service_enabled s-proxy
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/glance:configure_glance:405          :   iniset /etc/glance/glance-api.conf glance_store default_store swift
+ lib/glance:configure_glance:406          :   iniset /etc/glance/glance-api.conf glance_store swift_store_create_container_on_put True
+ lib/glance:configure_glance:408          :   iniset /etc/glance/glance-api.conf glance_store swift_store_config_file /etc/glance/glance-swift-store.conf
+ lib/glance:configure_glance:409          :   iniset /etc/glance/glance-api.conf glance_store default_swift_reference ref1
+ lib/glance:configure_glance:410          :   iniset /etc/glance/glance-api.conf glance_store stores 'file, http, swift'
+ lib/glance:configure_glance:411          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/glance:configure_glance:414          :   iniset /etc/glance/glance-api.conf DEFAULT graceful_shutdown_timeout 5
+ lib/glance:configure_glance:416          :   iniset /etc/glance/glance-swift-store.conf ref1 user service:glance-swift
+ lib/glance:configure_glance:418          :   iniset /etc/glance/glance-swift-store.conf ref1 key Hitachino1
+ lib/glance:configure_glance:419          :   iniset /etc/glance/glance-swift-store.conf ref1 auth_address http://172.25.93.57/identity/v3
+ lib/glance:configure_glance:420          :   iniset /etc/glance/glance-swift-store.conf ref1 auth_version 3
+ lib/glance:configure_glance:432          :   iniset /etc/glance/glance-api.conf DEFAULT public_endpoint http://172.25.93.57/image
+ lib/glance:configure_glance:434          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/glance:configure_glance:440          :   setup_logging /etc/glance/glance-api.conf
+ functions:setup_logging:685              :   setup_systemd_logging /etc/glance/glance-api.conf
+ functions:setup_systemd_logging:702      :   local conf_file=/etc/glance/glance-api.conf
++ functions:setup_systemd_logging:707      :   trueorfalse False USE_JOURNAL
+ functions:setup_systemd_logging:707      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:708      :   local pidstr=
+ functions:setup_systemd_logging:709      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:713      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:715      :   iniset /etc/glance/glance-api.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ functions:setup_systemd_logging:717      :   iniset /etc/glance/glance-api.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ functions:setup_systemd_logging:718      :   iniset /etc/glance/glance-api.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ functions:setup_systemd_logging:719      :   iniset /etc/glance/glance-api.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ functions:setup_systemd_logging:722      :   iniset /etc/glance/glance-api.conf DEFAULT log_color False
+ lib/glance:configure_glance:442          :   cp -p /opt/stack/glance/etc/glance-api-paste.ini /etc/glance/glance-api-paste.ini
+ lib/glance:configure_glance:445          :   iniset /etc/glance/glance-cache.conf DEFAULT debug True
+ lib/glance:configure_glance:446          :   iniset /etc/glance/glance-cache.conf DEFAULT use_syslog False
+ lib/glance:configure_glance:447          :   iniset /etc/glance/glance-cache.conf DEFAULT image_cache_dir /opt/stack/data/glance/cache/
+ lib/glance:configure_glance:448          :   iniset /etc/glance/glance-cache.conf DEFAULT image_cache_driver centralized_db
+ lib/glance:configure_glance:449          :   iniset /etc/glance/glance-cache.conf DEFAULT auth_url http://172.25.93.57/identity
+ lib/glance:configure_glance:450          :   iniset /etc/glance/glance-cache.conf DEFAULT admin_tenant_name service
+ lib/glance:configure_glance:451          :   iniset /etc/glance/glance-cache.conf DEFAULT admin_user glance
+ lib/glance:configure_glance:452          :   iniset /etc/glance/glance-cache.conf DEFAULT admin_password Hitachino1
+ lib/glance:configure_glance:455          :   iniset /etc/glance/glance-cache.conf glance_store filesystem_store_datadir /opt/stack/data/glance/images/
+ lib/glance:configure_glance:458          :   iniset /etc/glance/glance-image-import.conf image_import_opts image_import_plugins '[]'
+ lib/glance:configure_glance:459          :   iniset /etc/glance/glance-image-import.conf inject_metadata_properties ignore_user_roles admin
+ lib/glance:configure_glance:460          :   iniset /etc/glance/glance-image-import.conf inject_metadata_properties inject
+ lib/glance:configure_glance:462          :   cp -p /opt/stack/glance/etc/schema-image.json /etc/glance/schema-image.json
+ lib/glance:configure_glance:464          :   cp -p /opt/stack/glance/etc/metadefs/cim-processor-allocation-setting-data.json /opt/stack/glance/etc/metadefs/cim-resource-allocation-setting-data.json /opt/stack/glance/etc/metadefs/cim-storage-allocation-setting-data.json /opt/stack/glance/etc/metadefs/cim-virtual-system-setting-data.json /opt/stack/glance/etc/metadefs/compute-aggr-disk-filter.json /opt/stack/glance/etc/metadefs/compute-aggr-iops-filter.json /opt/stack/glance/etc/metadefs/compute-aggr-num-instances.json /opt/stack/glance/etc/metadefs/compute-cpu-mode.json /opt/stack/glance/etc/metadefs/compute-cpu-pinning.json /opt/stack/glance/etc/metadefs/compute-guest-memory-backing.json /opt/stack/glance/etc/metadefs/compute-guest-shutdown.json /opt/stack/glance/etc/metadefs/compute-host-capabilities.json /opt/stack/glance/etc/metadefs/compute-hypervisor.json /opt/stack/glance/etc/metadefs/compute-instance-data.json /opt/stack/glance/etc/metadefs/compute-libvirt-image.json /opt/stack/glance/etc/metadefs/compute-libvirt.json /opt/stack/glance/etc/metadefs/compute-quota.json /opt/stack/glance/etc/metadefs/compute-randomgen.json /opt/stack/glance/etc/metadefs/compute-vcputopology.json /opt/stack/glance/etc/metadefs/compute-vmware-flavor.json /opt/stack/glance/etc/metadefs/compute-vmware.json /opt/stack/glance/etc/metadefs/compute-vmware-quota-flavor.json /opt/stack/glance/etc/metadefs/compute-vtpm-hw.json /opt/stack/glance/etc/metadefs/compute-vtpm.json /opt/stack/glance/etc/metadefs/compute-watchdog.json /opt/stack/glance/etc/metadefs/compute-xenapi.json /opt/stack/glance/etc/metadefs/glance-common-image-props.json /opt/stack/glance/etc/metadefs/image-signature-verification.json /opt/stack/glance/etc/metadefs/operating-system.json /opt/stack/glance/etc/metadefs/software-databases.json /opt/stack/glance/etc/metadefs/software-runtimes.json /opt/stack/glance/etc/metadefs/software-webservers.json /opt/stack/glance/etc/metadefs/storage-volume-type.json /etc/glance/metadefs
+ lib/glance:configure_glance:466          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/glance:configure_glance:474          :   [[ False == False ]]
+ lib/glance:configure_glance:475          :   write_local_uwsgi_http_config /etc/glance/glance-uwsgi.ini glance.wsgi.api:application /image glance-api
+ lib/apache:write_local_uwsgi_http_config:318 :   local conf=/etc/glance/glance-uwsgi.ini
+ lib/apache:write_local_uwsgi_http_config:319 :   local wsgi=glance.wsgi.api:application
+ lib/apache:write_local_uwsgi_http_config:320 :   local url=/image
+ lib/apache:write_local_uwsgi_http_config:321 :   local name=glance-api
+ lib/apache:write_local_uwsgi_http_config:323 :   '[' -z glance-api ']'
+ lib/apache:write_local_uwsgi_http_config:331 :   rm -rf /etc/glance/glance-uwsgi.ini
+ lib/apache:write_local_uwsgi_http_config:334 :   [[ glance.wsgi.api:application =~ ^[a-zA-Z0-9_.]+:[a-zA-Z0-9_]+$ ]]
+ lib/apache:write_local_uwsgi_http_config:335 :   iniset /etc/glance/glance-uwsgi.ini uwsgi module glance.wsgi.api:application
++ lib/apache:write_local_uwsgi_http_config:340 :   get_random_port
++ functions:get_random_port:852            :   read lower_port upper_port
++ functions:get_random_port:853            :   true
++ functions:get_random_port:854            :   (( port = upper_port  ))
++ functions:get_random_port:854            :   (( port >= lower_port  ))
++ functions:get_random_port:855            :   sudo lsof -i :60999
++ functions:get_random_port:856            :   [[ 0 > 0 ]]
++ functions:get_random_port:854            :   (( port--  ))
++ functions:get_random_port:854            :   (( port >= lower_port  ))
++ functions:get_random_port:855            :   sudo lsof -i :60998
++ functions:get_random_port:856            :   [[ 1 > 0 ]]
++ functions:get_random_port:857            :   break 2
++ functions:get_random_port:861            :   echo 60998
+ lib/apache:write_local_uwsgi_http_config:340 :   port=60998
+ lib/apache:write_local_uwsgi_http_config:341 :   iniset /etc/glance/glance-uwsgi.ini uwsgi http-socket 127.0.0.1:60998
+ lib/apache:write_local_uwsgi_http_config:342 :   iniset /etc/glance/glance-uwsgi.ini uwsgi processes 2
+ lib/apache:write_local_uwsgi_http_config:344 :   iniset /etc/glance/glance-uwsgi.ini uwsgi master true
+ lib/apache:write_local_uwsgi_http_config:346 :   iniset /etc/glance/glance-uwsgi.ini uwsgi die-on-term true
+ lib/apache:write_local_uwsgi_http_config:347 :   iniset /etc/glance/glance-uwsgi.ini uwsgi exit-on-reload false
+ lib/apache:write_local_uwsgi_http_config:350 :   iniset /etc/glance/glance-uwsgi.ini uwsgi worker-reload-mercy 80
+ lib/apache:write_local_uwsgi_http_config:351 :   iniset /etc/glance/glance-uwsgi.ini uwsgi enable-threads true
+ lib/apache:write_local_uwsgi_http_config:352 :   iniset /etc/glance/glance-uwsgi.ini uwsgi plugins http,python3
+ lib/apache:write_local_uwsgi_http_config:354 :   iniset /etc/glance/glance-uwsgi.ini uwsgi thunder-lock true
+ lib/apache:write_local_uwsgi_http_config:356 :   iniset /etc/glance/glance-uwsgi.ini uwsgi hook-master-start 'unix_signal:15 gracefully_kill_them_all'
+ lib/apache:write_local_uwsgi_http_config:358 :   iniset /etc/glance/glance-uwsgi.ini uwsgi buffer-size 65535
+ lib/apache:write_local_uwsgi_http_config:360 :   iniset /etc/glance/glance-uwsgi.ini uwsgi add-header 'Connection: close'
+ lib/apache:write_local_uwsgi_http_config:362 :   iniset /etc/glance/glance-uwsgi.ini uwsgi lazy-apps true
+ lib/apache:write_local_uwsgi_http_config:363 :   iniset /etc/glance/glance-uwsgi.ini uwsgi chmod-socket 666
+ lib/apache:write_local_uwsgi_http_config:364 :   iniset /etc/glance/glance-uwsgi.ini uwsgi http-raw-body true
+ lib/apache:write_local_uwsgi_http_config:365 :   iniset /etc/glance/glance-uwsgi.ini uwsgi http-chunked-input true
+ lib/apache:write_local_uwsgi_http_config:366 :   iniset /etc/glance/glance-uwsgi.ini uwsgi http-auto-chunked true
+ lib/apache:write_local_uwsgi_http_config:367 :   iniset /etc/glance/glance-uwsgi.ini uwsgi http-keepalive false
+ lib/apache:write_local_uwsgi_http_config:369 :   iniset /etc/glance/glance-uwsgi.ini uwsgi socket-timeout 30
+ lib/apache:write_local_uwsgi_http_config:371 :   iniset /etc/glance/glance-uwsgi.ini uwsgi start-time %t
+ lib/apache:write_local_uwsgi_http_config:373 :   enable_apache_mod proxy
+ lib/apache:enable_apache_mod:55          :   local mod=proxy
+ lib/apache:enable_apache_mod:57          :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:60          :   [[ proxy != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_mod:60          :   a2query -m proxy
proxy (enabled by site administrator)
+ lib/apache:write_local_uwsgi_http_config:374 :   enable_apache_mod proxy_http
+ lib/apache:enable_apache_mod:55          :   local mod=proxy_http
+ lib/apache:enable_apache_mod:57          :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:60          :   [[ proxy_http != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_mod:60          :   a2query -m proxy_http
proxy_http (enabled by site administrator)
+ lib/apache:write_local_uwsgi_http_config:375 :   local apache_conf=
++ lib/apache:write_local_uwsgi_http_config:376 :   apache_site_config_for glance-api
++ lib/apache:apache_site_config_for:173    :   local site=glance-api
++ lib/apache:apache_site_config_for:174    :   is_ubuntu
++ functions-common:is_ubuntu:556           :   [[ -z deb ]]
++ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:176    :   echo /etc/apache2/sites-available/glance-api.conf
+ lib/apache:write_local_uwsgi_http_config:376 :   apache_conf=/etc/apache2/sites-available/glance-api.conf
+ lib/apache:write_local_uwsgi_http_config:377 :   echo 'KeepAlive Off'
+ lib/apache:write_local_uwsgi_http_config:377 :   sudo tee /etc/apache2/sites-available/glance-api.conf
KeepAlive Off
+ lib/apache:write_local_uwsgi_http_config:378 :   echo 'SetEnv proxy-sendchunked 1'
+ lib/apache:write_local_uwsgi_http_config:378 :   sudo tee -a /etc/apache2/sites-available/glance-api.conf
SetEnv proxy-sendchunked 1
+ lib/apache:write_local_uwsgi_http_config:379 :   echo 'ProxyPass "/image" "http://127.0.0.1:60998" retry=0 acquire=1 '
+ lib/apache:write_local_uwsgi_http_config:379 :   sudo tee -a /etc/apache2/sites-available/glance-api.conf
ProxyPass "/image" "http://127.0.0.1:60998" retry=0 acquire=1 
+ lib/apache:write_local_uwsgi_http_config:380 :   enable_apache_site glance-api
+ lib/apache:enable_apache_site:190        :   local site=glance-api
+ lib/apache:enable_apache_site:192        :   enable_apache_mod version
+ lib/apache:enable_apache_mod:55          :   local mod=version
+ lib/apache:enable_apache_mod:57          :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:60          :   [[ version != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_site:193        :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/apache:enable_apache_site:194        :   sudo a2ensite glance-api
Site glance-api already enabled
+ lib/apache:write_local_uwsgi_http_config:381 :   restart_apache_server
+ lib/apache:restart_apache_server:237     :   restart_service apache2
+ functions-common:restart_service:2305    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2306    :   sudo /bin/systemctl restart apache2
++ lib/glance:configure_glance:478          :   awk '-F= ' '/^http-socket/ { print "http://"$2}' /etc/glance/glance-uwsgi.ini
+ lib/glance:configure_glance:478          :   iniset /etc/glance/glance-api.conf DEFAULT worker_self_reference_url http://127.0.0.1:60998
+ lib/glance:configure_glance:488          :   [[ True == True ]]
+ lib/glance:configure_glance:489          :   iniset /etc/glance/glance-api.conf oslo_policy enforce_scope true
+ lib/glance:configure_glance:490          :   iniset /etc/glance/glance-api.conf oslo_policy enforce_new_defaults true
+ lib/glance:configure_glance:491          :   iniset /etc/glance/glance-api.conf DEFAULT enforce_secure_rbac true
+ ./stack.sh:main:966                      :   is_service_enabled cinder
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:968                      :   stack_install_service cinder
+ lib/stack:stack_install_service:20       :   local service=cinder
+ lib/stack:stack_install_service:21       :   type install_cinder
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_cinder
+ lib/cinder:install_cinder:516            :   git_clone https://review.opendev.org/openstack/cinder /opt/stack/cinder refs/changes/44/963344/2
+ functions-common:git_clone:593           :   local git_remote=https://review.opendev.org/openstack/cinder
+ functions-common:git_clone:594           :   local git_dest=/opt/stack/cinder
+ functions-common:git_clone:595           :   local git_ref=refs/changes/44/963344/2
+ functions-common:git_clone:596           :   local orig_dir
++ functions-common:git_clone:597           :   pwd
+ functions-common:git_clone:597           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:598           :   local git_clone_flags=
++ functions-common:git_clone:600           :   trueorfalse False RECLONE
+ functions-common:git_clone:600           :   RECLONE=False
+ functions-common:git_clone:601           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:605           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:614           :   echo refs/changes/44/963344/2
+ functions-common:git_clone:614           :   egrep -q '^refs'
+ functions-common:git_clone:616           :   [[ ! -d /opt/stack/cinder ]]
+ functions-common:git_clone:624           :   cd /opt/stack/cinder
+ functions-common:git_clone:625           :   git_timed fetch https://review.opendev.org/openstack/cinder refs/changes/44/963344/2
+ functions-common:git_timed:701           :   local count=0
+ functions-common:git_timed:702           :   local timeout=0
+ functions-common:git_timed:704           :   [[ -n 0 ]]
+ functions-common:git_timed:705           :   timeout=0
+ functions-common:git_timed:708           :   time_start git_timed
+ functions-common:time_start:2407         :   local name=git_timed
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003070236
+ functions-common:git_timed:709           :   timeout -s SIGINT 0 git fetch https://review.opendev.org/openstack/cinder refs/changes/44/963344/2
From https://review.opendev.org/openstack/cinder
 * branch                refs/changes/44/963344/2 -> FETCH_HEAD
+ functions-common:git_timed:723           :   time_stop git_timed
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=git_timed
+ functions-common:time_stop:2428          :   start_time=1760003070236
+ functions-common:time_stop:2430          :   [[ -z 1760003070236 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003070953
+ functions-common:time_stop:2434          :   elapsed_time=717
+ functions-common:time_stop:2435          :   total=0
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=717
+ functions-common:git_clone:625           :   git checkout FETCH_HEAD
HEAD is now at d0d5ccef4 Hitachi: add support for Hitachi VSP One B20
+ functions-common:git_clone:673           :   sudo git config --system --add safe.directory /opt/stack/cinder
+ functions-common:git_clone:676           :   cd /opt/stack/cinder
+ functions-common:git_clone:677           :   head -1
+ functions-common:git_clone:677           :   git show --oneline
d0d5ccef4 Hitachi: add support for Hitachi VSP One B20
+ functions-common:git_clone:678           :   cd /opt/stack/devstack
+ lib/cinder:install_cinder:517            :   setup_develop /opt/stack/cinder
+ inc/python:setup_develop:354             :   local bindep
+ inc/python:setup_develop:355             :   [[ /opt/stack/cinder == -bindep* ]]
+ inc/python:setup_develop:359             :   local project_dir=/opt/stack/cinder
+ inc/python:setup_develop:360             :   local extras=
+ inc/python:setup_develop:361             :   _setup_package_with_constraints_edit /opt/stack/cinder -e
+ inc/python:_setup_package_with_constraints_edit:380 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:381 :   [[ /opt/stack/cinder == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:385 :   local project_dir=/opt/stack/cinder
+ inc/python:_setup_package_with_constraints_edit:386 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:387 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:394 :   cd /opt/stack/cinder
++ inc/python:_setup_package_with_constraints_edit:394 :   pwd
+ inc/python:_setup_package_with_constraints_edit:394 :   project_dir=/opt/stack/cinder
+ inc/python:_setup_package_with_constraints_edit:396 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:400 :   local name
++ inc/python:_setup_package_with_constraints_edit:401 :   awk '/^name.*=/ {print $3}' /opt/stack/cinder/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:401 :   name=cinder
+ inc/python:_setup_package_with_constraints_edit:402 :   '[' -z cinder ']'
+ inc/python:_setup_package_with_constraints_edit:406 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- cinder
/opt/stack/requirements/.venv/lib/python3.10/site-packages/openstack_requirements/requirement.py:20: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
+ inc/python:_setup_package_with_constraints_edit:409 :   setup_package /opt/stack/cinder -e
+ inc/python:setup_package:437             :   local bindep=0
+ inc/python:setup_package:438             :   local bindep_flag=
+ inc/python:setup_package:439             :   local bindep_profiles=
+ inc/python:setup_package:440             :   [[ /opt/stack/cinder == -bindep* ]]
+ inc/python:setup_package:445             :   local project_dir=/opt/stack/cinder
+ inc/python:setup_package:446             :   local flags=-e
+ inc/python:setup_package:447             :   local extras=
+ inc/python:setup_package:451             :   [[ -n -e ]]
+ inc/python:setup_package:451             :   [[ -z '' ]]
+ inc/python:setup_package:451             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:456             :   [[ ! -z '' ]]
+ inc/python:setup_package:461             :   [[ 0 == 1 ]]
+ inc/python:setup_package:465             :   pip_install -e /opt/stack/cinder
Using python 3.10 to install /opt/stack/cinder
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade -e /opt/stack/cinder
Looking in indexes: https://pypi.org/simple/
Obtaining file:///opt/stack/cinder
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Checking if build backend supports build_editable: started
  Checking if build backend supports build_editable: finished with status 'done'
  Getting requirements to build editable: started
  Getting requirements to build editable: finished with status 'done'
  Preparing editable metadata (pyproject.toml): started
  Preparing editable metadata (pyproject.toml): finished with status 'done'
Requirement already satisfied: pbr>=5.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (6.1.1)
Requirement already satisfied: decorator>=4.4.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (5.1.1)
Requirement already satisfied: eventlet!=0.32.0,>=0.30.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (0.39.0)
Requirement already satisfied: greenlet>=0.4.16 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (3.1.1)
Requirement already satisfied: iso8601>=0.1.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (2.1.0)
Requirement already satisfied: jsonschema>=3.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (4.23.0)
Requirement already satisfied: keystoneauth1>=4.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (5.10.0)
Requirement already satisfied: keystonemiddleware>=9.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (10.9.0)
Requirement already satisfied: lxml>=4.5.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (5.3.1)
Requirement already satisfied: oslo.config>=8.3.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (9.7.1)
Requirement already satisfied: oslo.concurrency>=4.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (7.1.0)
Requirement already satisfied: oslo.context>=3.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (5.7.1)
Requirement already satisfied: oslo.db>=11.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (17.2.1)
Requirement already satisfied: oslo.log>=4.6.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (7.1.0)
Requirement already satisfied: oslo.messaging>=14.6.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (16.1.0)
Requirement already satisfied: oslo.middleware>=4.1.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (6.3.1)
Requirement already satisfied: oslo.policy>=4.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (4.5.1)
Requirement already satisfied: oslo.privsep>=2.6.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (3.6.0)
Requirement already satisfied: oslo.reports>=3.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (3.5.1)
Requirement already satisfied: oslo.rootwrap>=6.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (7.5.1)
Requirement already satisfied: oslo.serialization>=4.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (5.7.0)
Requirement already satisfied: oslo.service>=2.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (4.1.1)
Requirement already satisfied: oslo.upgradecheck>=1.1.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (2.5.0)
Requirement already satisfied: oslo.utils>=6.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (8.2.0)
Requirement already satisfied: oslo.versionedobjects>=2.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (3.6.0)
Requirement already satisfied: osprofiler>=3.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (4.2.0)
Requirement already satisfied: packaging>=20.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (24.2)
Requirement already satisfied: paramiko>=2.7.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (3.5.1)
Requirement already satisfied: Paste>=3.4.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (3.10.1)
Requirement already satisfied: PasteDeploy>=2.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (3.1.0)
Requirement already satisfied: pyparsing>=2.4.7 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (3.2.1)
Requirement already satisfied: python-barbicanclient>=5.0.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (7.1.0)
Requirement already satisfied: python-glanceclient>=3.2.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (4.8.0)
Requirement already satisfied: python-keystoneclient>=4.1.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (5.6.0)
Requirement already satisfied: python-novaclient>=18.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (18.9.0)
Requirement already satisfied: python-swiftclient>=3.10.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (4.7.0)
Requirement already satisfied: requests>=2.25.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (2.32.3)
Requirement already satisfied: Routes>=2.4.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (2.5.1)
Requirement already satisfied: taskflow>=4.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (5.12.0)
Requirement already satisfied: rtslib-fb>=2.1.74 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (2.1.76)
Requirement already satisfied: SQLAlchemy>=1.4.23 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (2.0.38)
Requirement already satisfied: stevedore>=3.2.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (5.4.1)
Requirement already satisfied: tabulate>=0.8.7 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (0.9.0)
Requirement already satisfied: tenacity>=6.3.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (9.0.0)
Requirement already satisfied: WebOb>=1.8.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (1.8.9)
Requirement already satisfied: oslo.i18n>=5.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (6.5.1)
Requirement already satisfied: oslo.vmware>=3.10.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (4.6.0)
Requirement already satisfied: os-brick>=6.10.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (6.11.0)
Requirement already satisfied: os-win>=5.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (5.9.0)
Requirement already satisfied: tooz>=2.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (6.3.0)
Requirement already satisfied: google-api-python-client>=1.11.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (2.161.0)
Requirement already satisfied: castellan>=3.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (5.2.1)
Requirement already satisfied: cryptography>=3.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (43.0.3)
Requirement already satisfied: cursive>=0.2.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (0.2.3)
Requirement already satisfied: zstd>=1.4.5.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (1.5.6.4)
Requirement already satisfied: boto3>=1.18.49 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (1.36.26)
Requirement already satisfied: distro>=1.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (1.9.0)
Requirement already satisfied: tzdata>=2022.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from cinder==27.1.0.dev11) (2025.1)
Requirement already satisfied: botocore<1.37.0,>=1.36.26 in /opt/stack/data/venv/lib/python3.10/site-packages (from boto3>=1.18.49->cinder==27.1.0.dev11) (1.36.26)
Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from boto3>=1.18.49->cinder==27.1.0.dev11) (1.0.1)
Requirement already satisfied: s3transfer<0.12.0,>=0.11.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from boto3>=1.18.49->cinder==27.1.0.dev11) (0.11.2)
Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from botocore<1.37.0,>=1.36.26->boto3>=1.18.49->cinder==27.1.0.dev11) (2.9.0.post0)
Requirement already satisfied: urllib3!=2.2.0,<3,>=1.25.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from botocore<1.37.0,>=1.36.26->boto3>=1.18.49->cinder==27.1.0.dev11) (1.26.20)
Requirement already satisfied: six>=1.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.37.0,>=1.36.26->boto3>=1.18.49->cinder==27.1.0.dev11) (1.17.0)
Requirement already satisfied: cffi>=1.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from cryptography>=3.1->cinder==27.1.0.dev11) (1.17.1)
Requirement already satisfied: pycparser in /opt/stack/data/venv/lib/python3.10/site-packages (from cffi>=1.12->cryptography>=3.1->cinder==27.1.0.dev11) (2.22)
Requirement already satisfied: dnspython>=1.15.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from eventlet!=0.32.0,>=0.30.1->cinder==27.1.0.dev11) (2.7.0)
Requirement already satisfied: httplib2<1.dev0,>=0.19.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from google-api-python-client>=1.11.0->cinder==27.1.0.dev11) (0.22.0)
Requirement already satisfied: google-auth!=2.24.0,!=2.25.0,<3.0.0.dev0,>=1.32.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from google-api-python-client>=1.11.0->cinder==27.1.0.dev11) (2.38.0)
Requirement already satisfied: google-auth-httplib2<1.0.0,>=0.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from google-api-python-client>=1.11.0->cinder==27.1.0.dev11) (0.2.0)
Requirement already satisfied: google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.0,<3.0.0.dev0,>=1.31.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from google-api-python-client>=1.11.0->cinder==27.1.0.dev11) (2.24.1)
Requirement already satisfied: uritemplate<5,>=3.0.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from google-api-python-client>=1.11.0->cinder==27.1.0.dev11) (4.1.1)
Requirement already satisfied: googleapis-common-protos<2.0.dev0,>=1.56.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.0,<3.0.0.dev0,>=1.31.5->google-api-python-client>=1.11.0->cinder==27.1.0.dev11) (1.68.0)
Requirement already satisfied: protobuf!=3.20.0,!=3.20.1,!=4.21.0,!=4.21.1,!=4.21.2,!=4.21.3,!=4.21.4,!=4.21.5,<6.0.0.dev0,>=3.19.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.0,<3.0.0.dev0,>=1.31.5->google-api-python-client>=1.11.0->cinder==27.1.0.dev11) (5.29.3)
Requirement already satisfied: proto-plus<2.0.0dev,>=1.22.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.0,<3.0.0.dev0,>=1.31.5->google-api-python-client>=1.11.0->cinder==27.1.0.dev11) (1.26.0)
Requirement already satisfied: cachetools<6.0,>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from google-auth!=2.24.0,!=2.25.0,<3.0.0.dev0,>=1.32.0->google-api-python-client>=1.11.0->cinder==27.1.0.dev11) (5.5.2)
Requirement already satisfied: pyasn1-modules>=0.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from google-auth!=2.24.0,!=2.25.0,<3.0.0.dev0,>=1.32.0->google-api-python-client>=1.11.0->cinder==27.1.0.dev11) (0.4.1)
Requirement already satisfied: rsa<5,>=3.1.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from google-auth!=2.24.0,!=2.25.0,<3.0.0.dev0,>=1.32.0->google-api-python-client>=1.11.0->cinder==27.1.0.dev11) (4.9)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.25.1->cinder==27.1.0.dev11) (3.4.1)
Requirement already satisfied: idna<4,>=2.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.25.1->cinder==27.1.0.dev11) (3.10)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests>=2.25.1->cinder==27.1.0.dev11) (2020.6.20)
Requirement already satisfied: pyasn1>=0.1.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from rsa<5,>=3.1.4->google-auth!=2.24.0,!=2.25.0,<3.0.0.dev0,>=1.32.0->google-api-python-client>=1.11.0->cinder==27.1.0.dev11) (0.6.0)
Requirement already satisfied: attrs>=22.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->cinder==27.1.0.dev11) (25.1.0)
Requirement already satisfied: jsonschema-specifications>=2023.03.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->cinder==27.1.0.dev11) (2024.10.1)
Requirement already satisfied: referencing>=0.28.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->cinder==27.1.0.dev11) (0.36.2)
Requirement already satisfied: rpds-py>=0.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->cinder==27.1.0.dev11) (0.23.1)
Requirement already satisfied: os-service-types>=1.2.0 in /usr/lib/python3/dist-packages (from keystoneauth1>=4.2.1->cinder==27.1.0.dev11) (1.7.0)
Requirement already satisfied: typing-extensions>=4.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=4.2.1->cinder==27.1.0.dev11) (4.12.2)
Requirement already satisfied: oslo.cache>=1.26.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=9.1.0->cinder==27.1.0.dev11) (3.10.2)
Requirement already satisfied: pycadf>=1.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=9.1.0->cinder==27.1.0.dev11) (4.0.1)
Requirement already satisfied: PyJWT>=2.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=9.1.0->cinder==27.1.0.dev11) (2.10.1)
Requirement already satisfied: psutil>=5.7.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-brick>=6.10.0->cinder==27.1.0.dev11) (7.0.0)
Requirement already satisfied: dogpile.cache>=1.3.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.cache>=1.26.0->keystonemiddleware>=9.1.0->cinder==27.1.0.dev11) (1.3.4)
Requirement already satisfied: debtcollector>=3.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.cache>=1.26.0->keystonemiddleware>=9.1.0->cinder==27.1.0.dev11) (3.0.0)
Requirement already satisfied: wrapt>=1.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from debtcollector>=3.0.0->oslo.cache>=1.26.0->keystonemiddleware>=9.1.0->cinder==27.1.0.dev11) (1.17.2)
Requirement already satisfied: fasteners>=0.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.concurrency>=4.5.0->cinder==27.1.0.dev11) (0.19)
Requirement already satisfied: netaddr>=0.7.18 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=8.3.2->cinder==27.1.0.dev11) (1.3.0)
Requirement already satisfied: rfc3986>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=8.3.2->cinder==27.1.0.dev11) (2.0.0)
Requirement already satisfied: PyYAML>=5.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=8.3.2->cinder==27.1.0.dev11) (6.0.2)
Requirement already satisfied: alembic>=0.9.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.db>=11.0.0->cinder==27.1.0.dev11) (1.14.1)
Requirement already satisfied: testresources>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.db>=11.0.0->cinder==27.1.0.dev11) (2.0.1)
Requirement already satisfied: testscenarios>=0.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.db>=11.0.0->cinder==27.1.0.dev11) (0.5.0)
Requirement already satisfied: Mako in /opt/stack/data/venv/lib/python3.10/site-packages (from alembic>=0.9.6->oslo.db>=11.0.0->cinder==27.1.0.dev11) (1.3.9)
Requirement already satisfied: futurist>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=14.6.0->cinder==27.1.0.dev11) (3.1.0)
Requirement already satisfied: amqp>=2.5.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=14.6.0->cinder==27.1.0.dev11) (5.3.1)
Requirement already satisfied: kombu>=4.6.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=14.6.0->cinder==27.1.0.dev11) (5.4.2)
Requirement already satisfied: oslo.metrics>=0.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=14.6.0->cinder==27.1.0.dev11) (0.11.0)
Requirement already satisfied: vine<6.0.0,>=5.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from amqp>=2.5.2->oslo.messaging>=14.6.0->cinder==27.1.0.dev11) (5.1.0)
Requirement already satisfied: prometheus-client>=0.6.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.metrics>=0.2.1->oslo.messaging>=14.6.0->cinder==27.1.0.dev11) (0.21.1)
Requirement already satisfied: Jinja2>=2.10 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.middleware>=4.1.1->cinder==27.1.0.dev11) (3.1.5)
Requirement already satisfied: statsd>=3.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.middleware>=4.1.1->cinder==27.1.0.dev11) (4.0.1)
Requirement already satisfied: bcrypt>=3.1.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.middleware>=4.1.1->cinder==27.1.0.dev11) (4.0.1)
Requirement already satisfied: MarkupSafe>=2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from Jinja2>=2.10->oslo.middleware>=4.1.1->cinder==27.1.0.dev11) (3.0.2)
Requirement already satisfied: msgpack>=0.6.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.privsep>=2.6.2->cinder==27.1.0.dev11) (1.1.0)
Requirement already satisfied: Yappi>=1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=2.8.0->cinder==27.1.0.dev11) (1.6.10)
Requirement already satisfied: PrettyTable>=0.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.upgradecheck>=1.1.1->cinder==27.1.0.dev11) (3.14.0)
Requirement already satisfied: suds-community>=0.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.vmware>=3.10.0->cinder==27.1.0.dev11) (1.2.0)
Requirement already satisfied: pynacl>=1.5 in /usr/lib/python3/dist-packages (from paramiko>=2.7.2->cinder==27.1.0.dev11) (1.5.0)
Requirement already satisfied: setuptools in /opt/stack/data/venv/lib/python3.10/site-packages (from Paste>=3.4.3->cinder==27.1.0.dev11) (80.9.0)
Requirement already satisfied: wcwidth in /opt/stack/data/venv/lib/python3.10/site-packages (from PrettyTable>=0.7.1->oslo.upgradecheck>=1.1.1->cinder==27.1.0.dev11) (0.2.13)
Requirement already satisfied: cliff>=2.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-barbicanclient>=5.0.1->cinder==27.1.0.dev11) (4.9.1)
Requirement already satisfied: autopage>=0.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff>=2.8.0->python-barbicanclient>=5.0.1->cinder==27.1.0.dev11) (0.5.2)
Requirement already satisfied: cmd2>=1.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff>=2.8.0->python-barbicanclient>=5.0.1->cinder==27.1.0.dev11) (2.5.11)
Requirement already satisfied: pyperclip>=1.8 in /opt/stack/data/venv/lib/python3.10/site-packages (from cmd2>=1.0.0->cliff>=2.8.0->python-barbicanclient>=5.0.1->cinder==27.1.0.dev11) (1.9.0)
Requirement already satisfied: warlock>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-glanceclient>=3.2.2->cinder==27.1.0.dev11) (2.0.1)
Requirement already satisfied: pyOpenSSL>=17.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-glanceclient>=3.2.2->cinder==27.1.0.dev11) (24.2.1)
Requirement already satisfied: repoze.lru>=0.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from Routes>=2.4.1->cinder==27.1.0.dev11) (0.7)
Requirement already satisfied: pyudev>=0.16.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from rtslib-fb>=2.1.74->cinder==27.1.0.dev11) (0.24.3)
Requirement already satisfied: networkx>=2.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from taskflow>=4.5.0->cinder==27.1.0.dev11) (3.4.2)
Requirement already satisfied: automaton>=1.9.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from taskflow>=4.5.0->cinder==27.1.0.dev11) (3.2.0)
Requirement already satisfied: pydot>=1.2.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from taskflow>=4.5.0->cinder==27.1.0.dev11) (3.0.4)
Requirement already satisfied: testtools in /opt/stack/data/venv/lib/python3.10/site-packages (from testscenarios>=0.4->oslo.db>=11.0.0->cinder==27.1.0.dev11) (2.7.2)
Requirement already satisfied: voluptuous>=0.8.9 in /opt/stack/data/venv/lib/python3.10/site-packages (from tooz>=2.8.0->cinder==27.1.0.dev11) (0.15.2)
Requirement already satisfied: jsonpatch<2,>=1 in /opt/stack/data/venv/lib/python3.10/site-packages (from warlock>=1.2.0->python-glanceclient>=3.2.2->cinder==27.1.0.dev11) (1.33)
Requirement already satisfied: jsonpointer>=1.9 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonpatch<2,>=1->warlock>=1.2.0->python-glanceclient>=3.2.2->cinder==27.1.0.dev11) (3.0.0)
Building wheels for collected packages: cinder
  Building editable for cinder (pyproject.toml): started
  Building editable for cinder (pyproject.toml): finished with status 'done'
  Created wheel for cinder: filename=cinder-27.1.0.dev11-0.editable-py3-none-any.whl size=9145 sha256=58385c8d730caacafc5b51437f81d95cc931587c101473cbb737a44768b62d34
  Stored in directory: /tmp/pip-ephem-wheel-cache-z6c2ilnq/wheels/ac/4a/e0/47fe94886ac4519966963921ceaea180d9043fe656deb6d9d4
Successfully built cinder
Installing collected packages: cinder
  Attempting uninstall: cinder
    Found existing installation: cinder 27.1.0.dev11
    Uninstalling cinder-27.1.0.dev11:
      Successfully uninstalled cinder-27.1.0.dev11
Successfully installed cinder-27.1.0.dev11
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760003071847
+ functions-common:time_stop:2430          :   [[ -z 1760003071847 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003082473
+ functions-common:time_stop:2434          :   elapsed_time=10626
+ functions-common:time_stop:2435          :   total=74580
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=85206
+ inc/python:pip_install:219               :   return 0
+ inc/python:setup_package:467             :   [[ -e == \-\e ]]
+ inc/python:setup_package:467             :   [[ True == \F\a\l\s\e ]]
+ inc/python:_setup_package_with_constraints_edit:413 :   use_library_from_git /opt/stack/cinder
+ inc/python:use_library_from_git:266      :   local name=/opt/stack/cinder
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,/opt/stack/cinder, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/cinder:install_cinder:518            :   [[ lioadm == \t\g\t\a\d\m ]]
+ lib/cinder:install_cinder:520            :   [[ lioadm == \l\i\o\a\d\m ]]
+ lib/cinder:install_cinder:521            :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/cinder:install_cinder:523            :   sudo mkdir -p /etc/target
+ lib/cinder:install_cinder:525            :   install_package targetcli-fb
+ functions-common:install_package:1442    :   update_package_repo
+ functions-common:update_package_repo:1416 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1417 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1418 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1420 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1424 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1425 :   apt_get_update
+ functions-common:apt_get_update:1170     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1170     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1171     :   return
+ functions-common:install_package:1443    :   real_install_package targetcli-fb
+ functions-common:real_install_package:1430 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:real_install_package:1431 :   apt_get install targetcli-fb
+ functions-common:apt_get:1211            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install targetcli-fb
Reading package lists...
Building dependency tree...
Reading state information...
targetcli-fb is already the newest version (1:2.1.53-1ubuntu3).
The following package was automatically installed and is no longer required:
  apport-symptoms
Use 'sudo apt autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 35 not upgraded.
+ functions-common:apt_get:1215            :   result=0
+ functions-common:apt_get:1218            :   time_stop apt-get
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=apt-get
+ functions-common:time_stop:2428          :   start_time=1760003082852
+ functions-common:time_stop:2430          :   [[ -z 1760003082852 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003084322
+ functions-common:time_stop:2434          :   elapsed_time=1470
+ functions-common:time_stop:2435          :   total=10698
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=12168
+ functions-common:apt_get:1219            :   return 0
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:969                      :   configure_cinder
+ lib/cinder:configure_cinder:294          :   sudo install -d -o stack -m 755 /etc/cinder
+ lib/cinder:configure_cinder:296          :   rm -f /etc/cinder/cinder.conf
+ lib/cinder:configure_cinder:298          :   configure_rootwrap cinder
+ inc/rootwrap:configure_rootwrap:43       :   local project=cinder
+ inc/rootwrap:configure_rootwrap:44       :   local project_uc
++ inc/rootwrap:configure_rootwrap:45       :   echo cinder
++ inc/rootwrap:configure_rootwrap:45       :   tr a-z A-Z
+ inc/rootwrap:configure_rootwrap:45       :   project_uc=CINDER
+ inc/rootwrap:configure_rootwrap:46       :   local bin_dir=CINDER_BIN_DIR
+ inc/rootwrap:configure_rootwrap:47       :   bin_dir=/opt/stack/data/venv/bin
+ inc/rootwrap:configure_rootwrap:48       :   local project_dir=CINDER_DIR
+ inc/rootwrap:configure_rootwrap:49       :   project_dir=/opt/stack/cinder
+ inc/rootwrap:configure_rootwrap:51       :   local rootwrap_conf_src_dir=/opt/stack/cinder/etc/cinder
+ inc/rootwrap:configure_rootwrap:52       :   local rootwrap_bin=/opt/stack/data/venv/bin/cinder-rootwrap
+ inc/rootwrap:configure_rootwrap:55       :   sudo rm -rf /etc/cinder/rootwrap.d
+ inc/rootwrap:configure_rootwrap:56       :   sudo install -d -o root -g root -m 755 /etc/cinder/rootwrap.d
+ inc/rootwrap:configure_rootwrap:57       :   sudo install -o root -g root -m 644 /opt/stack/cinder/etc/cinder/rootwrap.d/volume.filters /etc/cinder/rootwrap.d
+ inc/rootwrap:configure_rootwrap:60       :   sudo install -o root -g root -m 644 /opt/stack/cinder/etc/cinder/rootwrap.conf /etc/cinder/rootwrap.conf
+ inc/rootwrap:configure_rootwrap:61       :   sudo sed -e 's:^filters_path=.*$:filters_path=/etc/cinder/rootwrap.d:' -i /etc/cinder/rootwrap.conf
+ inc/rootwrap:configure_rootwrap:66       :   sudo sed -e 's/^exec_dirs=.*/#&/' -i /etc/cinder/rootwrap.conf
+ inc/rootwrap:configure_rootwrap:69       :   local tempfile
++ inc/rootwrap:configure_rootwrap:70       :   mktemp
+ inc/rootwrap:configure_rootwrap:70       :   tempfile=/tmp/tmp.NsXtc3lqSB
+ inc/rootwrap:configure_rootwrap:72       :   rootwrap_sudo_cmd='/opt/stack/data/venv/bin/cinder-rootwrap /etc/cinder/rootwrap.conf *'
+ inc/rootwrap:configure_rootwrap:73       :   echo 'stack ALL=(root) NOPASSWD: /opt/stack/data/venv/bin/cinder-rootwrap /etc/cinder/rootwrap.conf *'
+ inc/rootwrap:configure_rootwrap:74       :   '[' -f /opt/stack/data/venv/bin/cinder-rootwrap-daemon ']'
+ inc/rootwrap:configure_rootwrap:79       :   chmod 0440 /tmp/tmp.NsXtc3lqSB
+ inc/rootwrap:configure_rootwrap:80       :   sudo chown root:root /tmp/tmp.NsXtc3lqSB
+ inc/rootwrap:configure_rootwrap:81       :   sudo mv /tmp/tmp.NsXtc3lqSB /etc/sudoers.d/cinder-rootwrap
++ inc/rootwrap:configure_rootwrap:85       :   dirname /opt/stack/data/venv/bin/cinder-rootwrap
+ inc/rootwrap:configure_rootwrap:85       :   add_sudo_secure_path /opt/stack/data/venv/bin
+ inc/rootwrap:add_sudo_secure_path:21     :   local dir=/opt/stack/data/venv/bin
+ inc/rootwrap:add_sudo_secure_path:22     :   local line
+ inc/rootwrap:add_sudo_secure_path:25     :   [[ -r /etc/sudoers.d/zz-secure-path ]]
+ inc/rootwrap:add_sudo_secure_path:28     :   line='Defaults:stack secure_path=/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/usr/bin:/bin'
+ inc/rootwrap:add_sudo_secure_path:32     :   [[ ! Defaults:stack secure_path=/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/usr/bin:/bin =~ /opt/stack/data/venv/bin ]]
+ inc/rootwrap:add_sudo_secure_path:33     :   echo 'Defaults:stack secure_path=/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/usr/bin:/bin:/opt/stack/data/venv/bin'
+ inc/rootwrap:add_sudo_secure_path:33     :   sudo tee /etc/sudoers.d/zz-secure-path
Defaults:stack secure_path=/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/usr/bin:/bin:/opt/stack/data/venv/bin
+ inc/rootwrap:add_sudo_secure_path:34     :   sudo chmod 400 /etc/sudoers.d/zz-secure-path
+ inc/rootwrap:add_sudo_secure_path:35     :   sudo chown root:root /etc/sudoers.d/zz-secure-path
+ lib/cinder:configure_cinder:300          :   [[ -f /opt/stack/cinder/etc/cinder/resource_filters.json ]]
+ lib/cinder:configure_cinder:301          :   cp -p /opt/stack/cinder/etc/cinder/resource_filters.json /etc/cinder/resource_filters.json
+ lib/cinder:configure_cinder:304          :   cp /opt/stack/cinder/etc/cinder/api-paste.ini /etc/cinder/api-paste.ini
+ lib/cinder:configure_cinder:306          :   inicomment /etc/cinder/api-paste.ini filter:authtoken auth_host
+ lib/cinder:configure_cinder:307          :   inicomment /etc/cinder/api-paste.ini filter:authtoken auth_port
+ lib/cinder:configure_cinder:308          :   inicomment /etc/cinder/api-paste.ini filter:authtoken auth_protocol
+ lib/cinder:configure_cinder:309          :   inicomment /etc/cinder/api-paste.ini filter:authtoken cafile
+ lib/cinder:configure_cinder:310          :   inicomment /etc/cinder/api-paste.ini filter:authtoken admin_tenant_name
+ lib/cinder:configure_cinder:311          :   inicomment /etc/cinder/api-paste.ini filter:authtoken admin_user
+ lib/cinder:configure_cinder:312          :   inicomment /etc/cinder/api-paste.ini filter:authtoken admin_password
+ lib/cinder:configure_cinder:313          :   inicomment /etc/cinder/api-paste.ini filter:authtoken signing_dir
+ lib/cinder:configure_cinder:315          :   configure_keystone_authtoken_middleware /etc/cinder/cinder.conf cinder
+ lib/keystone:configure_keystone_authtoken_middleware:432 :   local conf_file=/etc/cinder/cinder.conf
+ lib/keystone:configure_keystone_authtoken_middleware:433 :   local admin_user=cinder
+ lib/keystone:configure_keystone_authtoken_middleware:434 :   local section=keystone_authtoken
+ lib/keystone:configure_keystone_authtoken_middleware:436 :   iniset /etc/cinder/cinder.conf keystone_authtoken auth_type password
+ lib/keystone:configure_keystone_authtoken_middleware:437 :   iniset /etc/cinder/cinder.conf keystone_authtoken interface public
+ lib/keystone:configure_keystone_authtoken_middleware:438 :   iniset /etc/cinder/cinder.conf keystone_authtoken auth_url http://172.25.93.57/identity
+ lib/keystone:configure_keystone_authtoken_middleware:439 :   iniset /etc/cinder/cinder.conf keystone_authtoken username cinder
+ lib/keystone:configure_keystone_authtoken_middleware:440 :   iniset /etc/cinder/cinder.conf keystone_authtoken password Hitachino1
+ lib/keystone:configure_keystone_authtoken_middleware:441 :   iniset /etc/cinder/cinder.conf keystone_authtoken user_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:442 :   iniset /etc/cinder/cinder.conf keystone_authtoken project_name service
+ lib/keystone:configure_keystone_authtoken_middleware:443 :   iniset /etc/cinder/cinder.conf keystone_authtoken project_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:445 :   iniset /etc/cinder/cinder.conf keystone_authtoken cafile /opt/stack/data/ca-bundle.pem
+ lib/keystone:configure_keystone_authtoken_middleware:446 :   iniset /etc/cinder/cinder.conf keystone_authtoken memcached_servers localhost:11211
+ lib/cinder:configure_cinder:317          :   iniset /etc/cinder/cinder.conf DEFAULT debug True
+ lib/cinder:configure_cinder:319          :   iniset /etc/cinder/cinder.conf DEFAULT target_helper lioadm
++ lib/cinder:configure_cinder:320          :   database_connection_url cinder
++ lib/database:database_connection_url:134 :   local db=cinder
++ lib/database:database_connection_url:135 :   database_connection_url_mysql cinder
++ lib/databases/mysql:database_connection_url_mysql:243 :   local db=cinder
++ lib/databases/mysql:database_connection_url_mysql:244 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:248 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:249 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:250 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:254 :   echo 'mysql+pymysql://root:Hitachino1@127.0.0.1/cinder?charset=utf8&plugin=dbcounter'
+ lib/cinder:configure_cinder:320          :   iniset /etc/cinder/cinder.conf database connection 'mysql+pymysql://root:Hitachino1@127.0.0.1/cinder?charset=utf8&plugin=dbcounter'
+ lib/cinder:configure_cinder:321          :   iniset /etc/cinder/cinder.conf DEFAULT api_paste_config /etc/cinder/api-paste.ini
+ lib/cinder:configure_cinder:322          :   iniset /etc/cinder/cinder.conf DEFAULT rootwrap_config /etc/cinder/rootwrap.conf
+ lib/cinder:configure_cinder:323          :   iniset /etc/cinder/cinder.conf DEFAULT osapi_volume_extension cinder.api.contrib.standard_extensions
+ lib/cinder:configure_cinder:324          :   iniset /etc/cinder/cinder.conf DEFAULT osapi_volume_listen 0.0.0.0
+ lib/cinder:configure_cinder:325          :   iniset /etc/cinder/cinder.conf DEFAULT state_path /opt/stack/data/cinder
+ lib/cinder:configure_cinder:326          :   iniset /etc/cinder/cinder.conf oslo_concurrency lock_path /opt/stack/data/cinder
+ lib/cinder:configure_cinder:327          :   iniset /etc/cinder/cinder.conf DEFAULT my_ip 172.25.93.57
+ lib/cinder:configure_cinder:328          :   iniset /etc/cinder/cinder.conf key_manager backend cinder.keymgr.conf_key_mgr.ConfKeyManager
++ lib/cinder:configure_cinder:329          :   openssl rand -hex 16
+ lib/cinder:configure_cinder:329          :   iniset /etc/cinder/cinder.conf key_manager fixed_key 3373596e7d4df97988a8c62fba0b9633
+ lib/cinder:configure_cinder:330          :   [[ -n '' ]]
+ lib/cinder:configure_cinder:335          :   iniset /etc/cinder/cinder.conf DEFAULT quota_volumes 10
+ lib/cinder:configure_cinder:336          :   iniset /etc/cinder/cinder.conf DEFAULT quota_backups 10
+ lib/cinder:configure_cinder:337          :   iniset /etc/cinder/cinder.conf DEFAULT quota_snapshots 10
+ lib/cinder:configure_cinder:342          :   iniset /etc/cinder/cinder.conf DEFAULT rpc_response_timeout 120
+ lib/cinder:configure_cinder:344          :   iniset /etc/cinder/cinder.conf DEFAULT report_interval 120
+ lib/cinder:configure_cinder:345          :   iniset /etc/cinder/cinder.conf DEFAULT service_down_time 720
+ lib/cinder:configure_cinder:347          :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/cinder:configure_cinder:347          :   [[ -n hitachi ]]
+ lib/cinder:configure_cinder:348          :   local enabled_backends=
+ lib/cinder:configure_cinder:349          :   local default_name=
+ lib/cinder:configure_cinder:350          :   local be be_name be_type
+ lib/cinder:configure_cinder:351          :   for be in ${CINDER_ENABLED_BACKENDS//,/ }
+ lib/cinder:configure_cinder:352          :   be_type=hitachi
+ lib/cinder:configure_cinder:353          :   be_name=hitachi
+ lib/cinder:configure_cinder:354          :   type configure_cinder_backend_hitachi
+ lib/cinder:configure_cinder:357          :   [[ -z '' ]]
+ lib/cinder:configure_cinder:358          :   default_name=hitachi
+ lib/cinder:configure_cinder:360          :   enabled_backends+=hitachi,
+ lib/cinder:configure_cinder:362          :   iniset /etc/cinder/cinder.conf DEFAULT enabled_backends hitachi
+ lib/cinder:configure_cinder:363          :   [[ -n hitachi ]]
+ lib/cinder:configure_cinder:364          :   iniset /etc/cinder/cinder.conf DEFAULT default_volume_type hitachi
+ lib/cinder:configure_cinder:366          :   configure_cinder_image_volume_cache
+ lib/cinder:configure_cinder_image_volume_cache:704 :   for be in ${CINDER_CACHE_ENABLED_FOR_BACKENDS//,/ }
+ lib/cinder:configure_cinder_image_volume_cache:705 :   local be_name=hitachi
+ lib/cinder:configure_cinder_image_volume_cache:707 :   iniset /etc/cinder/cinder.conf hitachi image_volume_cache_enabled True
+ lib/cinder:configure_cinder_image_volume_cache:709 :   [[ -n '' ]]
+ lib/cinder:configure_cinder_image_volume_cache:713 :   [[ -n '' ]]
+ lib/cinder:configure_cinder:371          :   [[ False == \T\r\u\e ]]
+ lib/cinder:configure_cinder:377          :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/cinder:configure_cinder:377          :   [[ -n swift ]]
+ lib/cinder:configure_cinder:378          :   type configure_cinder_backup_swift
+ lib/cinder:configure_cinder:379          :   configure_cinder_backup_swift
+ lib/cinder_backups/swift:configure_cinder_backup_swift:25 :   iniset /etc/cinder/cinder.conf DEFAULT backup_driver cinder.backup.drivers.swift.SwiftBackupDriver
+ lib/cinder_backups/swift:configure_cinder_backup_swift:26 :   iniset /etc/cinder/cinder.conf DEFAULT backup_swift_url http://172.25.93.57:8080/v1/AUTH_
+ lib/cinder_backups/swift:configure_cinder_backup_swift:27 :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/cinder:configure_cinder:385          :   is_service_enabled ceilometer
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/cinder:configure_cinder:389          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/cinder:configure_cinder:397          :   '[' False '!=' False ']'
+ lib/cinder:configure_cinder:401          :   iniset_rpc_backend cinder /etc/cinder/cinder.conf
+ lib/rpc_backend:iniset_rpc_backend:144   :   local package=cinder
+ lib/rpc_backend:iniset_rpc_backend:145   :   local file=/etc/cinder/cinder.conf
+ lib/rpc_backend:iniset_rpc_backend:146   :   local section=DEFAULT
+ lib/rpc_backend:iniset_rpc_backend:147   :   local virtual_host=
+ lib/rpc_backend:iniset_rpc_backend:148   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2077 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:149   :   get_transport_url ''
++ lib/rpc_backend:get_transport_url:126    :   local virtual_host=
++ lib/rpc_backend:get_transport_url:127    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/rpc_backend:get_transport_url:128    :   echo rabbit://stackrabbit:Hitachino1@172.25.93.57:5672/
+ lib/rpc_backend:iniset_rpc_backend:149   :   iniset /etc/cinder/cinder.conf DEFAULT transport_url rabbit://stackrabbit:Hitachino1@172.25.93.57:5672/
+ lib/rpc_backend:iniset_rpc_backend:150   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:153   :   '[' -n '' ']'
+ lib/cinder:configure_cinder:404          :   setup_logging /etc/cinder/cinder.conf
+ functions:setup_logging:685              :   setup_systemd_logging /etc/cinder/cinder.conf
+ functions:setup_systemd_logging:702      :   local conf_file=/etc/cinder/cinder.conf
++ functions:setup_systemd_logging:707      :   trueorfalse False USE_JOURNAL
+ functions:setup_systemd_logging:707      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:708      :   local pidstr=
+ functions:setup_systemd_logging:709      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:713      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:715      :   iniset /etc/cinder/cinder.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ functions:setup_systemd_logging:717      :   iniset /etc/cinder/cinder.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ functions:setup_systemd_logging:718      :   iniset /etc/cinder/cinder.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ functions:setup_systemd_logging:719      :   iniset /etc/cinder/cinder.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ functions:setup_systemd_logging:722      :   iniset /etc/cinder/cinder.conf DEFAULT log_color False
+ lib/cinder:configure_cinder:406          :   is_service_enabled c-api
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/cinder:configure_cinder:407          :   write_uwsgi_config /etc/cinder/cinder-api-uwsgi.ini cinder.wsgi.api:application /volume '' cinder-api
+ lib/apache:write_uwsgi_config:242        :   local conf=/etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:write_uwsgi_config:243        :   local wsgi=cinder.wsgi.api:application
+ lib/apache:write_uwsgi_config:244        :   local url=/volume
+ lib/apache:write_uwsgi_config:245        :   local http=
+ lib/apache:write_uwsgi_config:246        :   local name=cinder-api
+ lib/apache:write_uwsgi_config:248        :   '[' -z cinder-api ']'
+ lib/apache:write_uwsgi_config:254        :   local socket_dir=/var/run/uwsgi
+ lib/apache:write_uwsgi_config:258        :   sudo mkdir -p /etc/tmpfiles.d/
+ lib/apache:write_uwsgi_config:259        :   echo 'd /var/run/uwsgi 0755 stack root'
+ lib/apache:write_uwsgi_config:259        :   sudo tee /etc/tmpfiles.d/uwsgi.conf
d /var/run/uwsgi 0755 stack root
+ lib/apache:write_uwsgi_config:260        :   sudo systemd-tmpfiles --create /etc/tmpfiles.d/uwsgi.conf
/etc/tmpfiles.d/uwsgi.conf:1: Line references path below legacy directory /var/run/, updating /var/run/uwsgi  /run/uwsgi; please update the tmpfiles.d/ drop-in file accordingly.
+ lib/apache:write_uwsgi_config:262        :   local socket=/var/run/uwsgi/cinder-api.socket
+ lib/apache:write_uwsgi_config:265        :   rm -rf /etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:write_uwsgi_config:269        :   [[ cinder.wsgi.api:application =~ ^[a-zA-Z0-9_.]+:[a-zA-Z0-9_]+$ ]]
+ lib/apache:write_uwsgi_config:270        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi module cinder.wsgi.api:application
+ lib/apache:write_uwsgi_config:275        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi processes 2
+ lib/apache:write_uwsgi_config:277        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi master true
+ lib/apache:write_uwsgi_config:279        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi die-on-term true
+ lib/apache:write_uwsgi_config:280        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi exit-on-reload false
+ lib/apache:write_uwsgi_config:283        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi worker-reload-mercy 80
+ lib/apache:write_uwsgi_config:284        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi enable-threads true
+ lib/apache:write_uwsgi_config:285        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi plugins http,python3
+ lib/apache:write_uwsgi_config:287        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi thunder-lock true
+ lib/apache:write_uwsgi_config:289        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi hook-master-start 'unix_signal:15 gracefully_kill_them_all'
+ lib/apache:write_uwsgi_config:291        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi buffer-size 65535
+ lib/apache:write_uwsgi_config:293        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi add-header 'Connection: close'
+ lib/apache:write_uwsgi_config:295        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi lazy-apps true
+ lib/apache:write_uwsgi_config:297        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi start-time %t
+ lib/apache:write_uwsgi_config:300        :   [[ -n '' ]]
+ lib/apache:write_uwsgi_config:303        :   local apache_conf=
++ lib/apache:write_uwsgi_config:304        :   apache_site_config_for cinder-api
++ lib/apache:apache_site_config_for:173    :   local site=cinder-api
++ lib/apache:apache_site_config_for:174    :   is_ubuntu
++ functions-common:is_ubuntu:556           :   [[ -z deb ]]
++ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:176    :   echo /etc/apache2/sites-available/cinder-api.conf
+ lib/apache:write_uwsgi_config:304        :   apache_conf=/etc/apache2/sites-available/cinder-api.conf
+ lib/apache:write_uwsgi_config:305        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi socket /var/run/uwsgi/cinder-api.socket
+ lib/apache:write_uwsgi_config:306        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi chmod-socket 666
+ lib/apache:write_uwsgi_config:307        :   echo 'ProxyPass "/volume" "unix:/var/run/uwsgi/cinder-api.socket|uwsgi://uwsgi-uds-cinder-api" retry=0 acquire=1 '
+ lib/apache:write_uwsgi_config:307        :   sudo tee -a /etc/apache2/sites-available/cinder-api.conf
ProxyPass "/volume" "unix:/var/run/uwsgi/cinder-api.socket|uwsgi://uwsgi-uds-cinder-api" retry=0 acquire=1 
+ lib/apache:write_uwsgi_config:308        :   enable_apache_site cinder-api
+ lib/apache:enable_apache_site:190        :   local site=cinder-api
+ lib/apache:enable_apache_site:192        :   enable_apache_mod version
+ lib/apache:enable_apache_mod:55          :   local mod=version
+ lib/apache:enable_apache_mod:57          :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:60          :   [[ version != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_site:193        :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/apache:enable_apache_site:194        :   sudo a2ensite cinder-api
Site cinder-api already enabled
+ lib/apache:write_uwsgi_config:309        :   restart_apache_server
+ lib/apache:restart_apache_server:237     :   restart_service apache2
+ functions-common:restart_service:2305    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2306    :   sudo /bin/systemctl restart apache2
+ lib/cinder:configure_cinder:410          :   [[ -r /opt/stack/devstack/lib/cinder_plugins/default ]]
+ lib/cinder:configure_cinder:414          :   iniset /etc/cinder/cinder.conf DEFAULT osapi_volume_workers 2
+ lib/cinder:configure_cinder:416          :   iniset /etc/cinder/cinder.conf DEFAULT glance_api_servers http://172.25.93.57/image
+ lib/cinder:configure_cinder:417          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/cinder:configure_cinder:423          :   configure_keystone_authtoken_middleware /etc/cinder/cinder.conf nova nova
+ lib/keystone:configure_keystone_authtoken_middleware:432 :   local conf_file=/etc/cinder/cinder.conf
+ lib/keystone:configure_keystone_authtoken_middleware:433 :   local admin_user=nova
+ lib/keystone:configure_keystone_authtoken_middleware:434 :   local section=nova
+ lib/keystone:configure_keystone_authtoken_middleware:436 :   iniset /etc/cinder/cinder.conf nova auth_type password
+ lib/keystone:configure_keystone_authtoken_middleware:437 :   iniset /etc/cinder/cinder.conf nova interface public
+ lib/keystone:configure_keystone_authtoken_middleware:438 :   iniset /etc/cinder/cinder.conf nova auth_url http://172.25.93.57/identity
+ lib/keystone:configure_keystone_authtoken_middleware:439 :   iniset /etc/cinder/cinder.conf nova username nova
+ lib/keystone:configure_keystone_authtoken_middleware:440 :   iniset /etc/cinder/cinder.conf nova password Hitachino1
+ lib/keystone:configure_keystone_authtoken_middleware:441 :   iniset /etc/cinder/cinder.conf nova user_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:442 :   iniset /etc/cinder/cinder.conf nova project_name service
+ lib/keystone:configure_keystone_authtoken_middleware:443 :   iniset /etc/cinder/cinder.conf nova project_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:445 :   iniset /etc/cinder/cinder.conf nova cafile /opt/stack/data/ca-bundle.pem
+ lib/keystone:configure_keystone_authtoken_middleware:446 :   iniset /etc/cinder/cinder.conf nova memcached_servers localhost:11211
+ lib/cinder:configure_cinder:424          :   iniset /etc/cinder/cinder.conf nova region_name RegionOne
+ lib/cinder:configure_cinder:425          :   iniset /etc/cinder/cinder.conf DEFAULT graceful_shutdown_timeout 5
+ lib/cinder:configure_cinder:427          :   [[ ! -z '' ]]
+ lib/cinder:configure_cinder:429          :   is_service_enabled etcd3
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/cinder:configure_cinder:432          :   iniset /etc/cinder/cinder.conf coordination backend_url 'etcd3+http://172.25.93.57:2379?api_version=v3'
+ lib/cinder:configure_cinder:435          :   [[ False == True ]]
+ lib/cinder:configure_cinder:435          :   [[ False == True ]]
+ lib/cinder:configure_cinder:439          :   iniset /etc/cinder/cinder.conf oslo_policy enforce_scope false
+ lib/cinder:configure_cinder:440          :   iniset /etc/cinder/cinder.conf oslo_policy enforce_new_defaults false
+ lib/cinder:configure_cinder:443          :   '[' True == True ']'
+ lib/cinder:configure_cinder:444          :   init_cinder_service_user_conf
+ lib/cinder:init_cinder_service_user_conf:733 :   configure_keystone_authtoken_middleware /etc/cinder/cinder.conf cinder service_user
+ lib/keystone:configure_keystone_authtoken_middleware:432 :   local conf_file=/etc/cinder/cinder.conf
+ lib/keystone:configure_keystone_authtoken_middleware:433 :   local admin_user=cinder
+ lib/keystone:configure_keystone_authtoken_middleware:434 :   local section=service_user
+ lib/keystone:configure_keystone_authtoken_middleware:436 :   iniset /etc/cinder/cinder.conf service_user auth_type password
+ lib/keystone:configure_keystone_authtoken_middleware:437 :   iniset /etc/cinder/cinder.conf service_user interface public
+ lib/keystone:configure_keystone_authtoken_middleware:438 :   iniset /etc/cinder/cinder.conf service_user auth_url http://172.25.93.57/identity
+ lib/keystone:configure_keystone_authtoken_middleware:439 :   iniset /etc/cinder/cinder.conf service_user username cinder
+ lib/keystone:configure_keystone_authtoken_middleware:440 :   iniset /etc/cinder/cinder.conf service_user password Hitachino1
+ lib/keystone:configure_keystone_authtoken_middleware:441 :   iniset /etc/cinder/cinder.conf service_user user_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:442 :   iniset /etc/cinder/cinder.conf service_user project_name service
+ lib/keystone:configure_keystone_authtoken_middleware:443 :   iniset /etc/cinder/cinder.conf service_user project_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:445 :   iniset /etc/cinder/cinder.conf service_user cafile /opt/stack/data/ca-bundle.pem
+ lib/keystone:configure_keystone_authtoken_middleware:446 :   iniset /etc/cinder/cinder.conf service_user memcached_servers localhost:11211
+ lib/cinder:init_cinder_service_user_conf:734 :   iniset /etc/cinder/cinder.conf service_user send_service_user_token True
+ lib/cinder:init_cinder_service_user_conf:735 :   iniset /etc/cinder/cinder.conf service_user auth_strategy keystone
+ ./stack.sh:main:972                      :   is_service_enabled neutron
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:974                      :   stack_install_service neutron
+ lib/stack:stack_install_service:20       :   local service=neutron
+ lib/stack:stack_install_service:21       :   type install_neutron
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_neutron
+ lib/neutron:install_neutron:537          :   use_library_from_git neutron-lib
+ inc/python:use_library_from_git:266      :   local name=neutron-lib
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,neutron-lib, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/neutron:install_neutron:544          :   use_library_from_git sqlalchemy
+ inc/python:use_library_from_git:266      :   local name=sqlalchemy
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,sqlalchemy, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/neutron:install_neutron:548          :   use_library_from_git alembic
+ inc/python:use_library_from_git:266      :   local name=alembic
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,alembic, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/neutron:install_neutron:553          :   git_clone https://opendev.org/openstack/neutron.git /opt/stack/neutron stable/2025.1
+ functions-common:git_clone:593           :   local git_remote=https://opendev.org/openstack/neutron.git
+ functions-common:git_clone:594           :   local git_dest=/opt/stack/neutron
+ functions-common:git_clone:595           :   local git_ref=stable/2025.1
+ functions-common:git_clone:596           :   local orig_dir
++ functions-common:git_clone:597           :   pwd
+ functions-common:git_clone:597           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:598           :   local git_clone_flags=
++ functions-common:git_clone:600           :   trueorfalse False RECLONE
+ functions-common:git_clone:600           :   RECLONE=False
+ functions-common:git_clone:601           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:605           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:614           :   echo stable/2025.1
+ functions-common:git_clone:614           :   egrep -q '^refs'
+ functions-common:git_clone:628           :   [[ ! -d /opt/stack/neutron ]]
+ functions-common:git_clone:638           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:673           :   sudo git config --system --add safe.directory /opt/stack/neutron
+ functions-common:git_clone:676           :   cd /opt/stack/neutron
+ functions-common:git_clone:677           :   git show --oneline
+ functions-common:git_clone:677           :   head -1
b3db08f483 Merge "[S-RBAC] Fix policies for the l3_conntrack_helpers APIs" into stable/2025.1
+ functions-common:git_clone:678           :   cd /opt/stack/devstack
+ lib/neutron:install_neutron:554          :   setup_develop /opt/stack/neutron
+ inc/python:setup_develop:354             :   local bindep
+ inc/python:setup_develop:355             :   [[ /opt/stack/neutron == -bindep* ]]
+ inc/python:setup_develop:359             :   local project_dir=/opt/stack/neutron
+ inc/python:setup_develop:360             :   local extras=
+ inc/python:setup_develop:361             :   _setup_package_with_constraints_edit /opt/stack/neutron -e
+ inc/python:_setup_package_with_constraints_edit:380 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:381 :   [[ /opt/stack/neutron == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:385 :   local project_dir=/opt/stack/neutron
+ inc/python:_setup_package_with_constraints_edit:386 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:387 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:394 :   cd /opt/stack/neutron
++ inc/python:_setup_package_with_constraints_edit:394 :   pwd
+ inc/python:_setup_package_with_constraints_edit:394 :   project_dir=/opt/stack/neutron
+ inc/python:_setup_package_with_constraints_edit:396 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:400 :   local name
++ inc/python:_setup_package_with_constraints_edit:401 :   awk '/^name.*=/ {print $3}' /opt/stack/neutron/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:401 :   name=neutron
+ inc/python:_setup_package_with_constraints_edit:402 :   '[' -z neutron ']'
+ inc/python:_setup_package_with_constraints_edit:406 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- neutron
/opt/stack/requirements/.venv/lib/python3.10/site-packages/openstack_requirements/requirement.py:20: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
+ inc/python:_setup_package_with_constraints_edit:409 :   setup_package /opt/stack/neutron -e
+ inc/python:setup_package:437             :   local bindep=0
+ inc/python:setup_package:438             :   local bindep_flag=
+ inc/python:setup_package:439             :   local bindep_profiles=
+ inc/python:setup_package:440             :   [[ /opt/stack/neutron == -bindep* ]]
+ inc/python:setup_package:445             :   local project_dir=/opt/stack/neutron
+ inc/python:setup_package:446             :   local flags=-e
+ inc/python:setup_package:447             :   local extras=
+ inc/python:setup_package:451             :   [[ -n -e ]]
+ inc/python:setup_package:451             :   [[ -z '' ]]
+ inc/python:setup_package:451             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:456             :   [[ ! -z '' ]]
+ inc/python:setup_package:461             :   [[ 0 == 1 ]]
+ inc/python:setup_package:465             :   pip_install -e /opt/stack/neutron
Using python 3.10 to install /opt/stack/neutron
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade -e /opt/stack/neutron
Looking in indexes: https://pypi.org/simple/
Obtaining file:///opt/stack/neutron
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: pbr>=4.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (6.1.1)
Requirement already satisfied: Paste>=2.0.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (3.10.1)
Requirement already satisfied: PasteDeploy>=1.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (3.1.0)
Requirement already satisfied: Routes>=2.3.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (2.5.1)
Requirement already satisfied: debtcollector>=1.19.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (3.0.0)
Requirement already satisfied: decorator>=4.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (5.1.1)
Requirement already satisfied: eventlet>=0.36.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (0.39.0)
Requirement already satisfied: pecan>=1.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (1.5.1)
Requirement already satisfied: httplib2>=0.22.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (0.22.0)
Requirement already satisfied: requests>=2.32.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (2.32.3)
Requirement already satisfied: Jinja2>=2.10 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (3.1.5)
Requirement already satisfied: keystonemiddleware>=5.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (10.9.0)
Requirement already satisfied: netaddr>=0.7.18 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (1.3.0)
Requirement already satisfied: neutron-lib>=3.17.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (3.18.2)
Requirement already satisfied: python-neutronclient>=7.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (11.4.0)
Requirement already satisfied: tenacity>=6.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (9.0.0)
Requirement already satisfied: SQLAlchemy>=1.4.23 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (2.0.38)
Requirement already satisfied: WebOb>=1.8.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (1.8.9)
Requirement already satisfied: keystoneauth1>=3.14.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (5.10.0)
Requirement already satisfied: alembic>=1.6.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (1.14.1)
Requirement already satisfied: stevedore>=2.0.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (5.4.1)
Requirement already satisfied: oslo.cache>=1.26.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (3.10.2)
Requirement already satisfied: oslo.concurrency>=3.26.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (7.1.0)
Requirement already satisfied: oslo.config>=9.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (9.7.1)
Requirement already satisfied: oslo.context>=2.22.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (5.7.1)
Requirement already satisfied: oslo.db>=4.44.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (17.2.1)
Requirement already satisfied: oslo.i18n>=3.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (6.5.1)
Requirement already satisfied: oslo.log>=5.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (7.1.0)
Requirement already satisfied: oslo.messaging>=7.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (16.1.0)
Requirement already satisfied: oslo.middleware>=3.31.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (6.3.1)
Requirement already satisfied: oslo.policy>=4.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (4.5.1)
Requirement already satisfied: oslo.privsep>=2.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (3.6.0)
Requirement already satisfied: oslo.reports>=1.18.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (3.5.1)
Requirement already satisfied: oslo.rootwrap>=5.15.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (7.5.1)
Requirement already satisfied: oslo.serialization>=5.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (5.7.0)
Requirement already satisfied: oslo.service>=3.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (4.1.1)
Requirement already satisfied: oslo.upgradecheck>=1.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (2.5.0)
Requirement already satisfied: oslo.utils>=7.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (8.2.0)
Requirement already satisfied: oslo.versionedobjects>=1.35.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (3.6.0)
Requirement already satisfied: osprofiler>=2.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (4.2.0)
Requirement already satisfied: os-ken>=3.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (3.0.1)
Requirement already satisfied: os-resource-classes>=1.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (1.1.0)
Requirement already satisfied: ovs>=2.12.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (3.5.0)
Requirement already satisfied: ovsdbapp>=2.11.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (2.11.0)
Requirement already satisfied: psutil>=6.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (7.0.0)
Requirement already satisfied: pyroute2>=0.7.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (0.8.1)
Requirement already satisfied: pyOpenSSL>=17.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (24.2.1)
Requirement already satisfied: python-novaclient>=9.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (18.9.0)
Requirement already satisfied: openstacksdk>=0.31.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (4.4.0)
Requirement already satisfied: python-designateclient>=2.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (6.2.0)
Requirement already satisfied: os-vif>=3.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (4.1.0)
Requirement already satisfied: futurist>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (3.1.0)
Requirement already satisfied: tooz>=1.58.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron==26.0.2.dev66) (6.3.0)
Requirement already satisfied: Mako in /opt/stack/data/venv/lib/python3.10/site-packages (from alembic>=1.6.5->neutron==26.0.2.dev66) (1.3.9)
Requirement already satisfied: typing-extensions>=4 in /opt/stack/data/venv/lib/python3.10/site-packages (from alembic>=1.6.5->neutron==26.0.2.dev66) (4.12.2)
Requirement already satisfied: wrapt>=1.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from debtcollector>=1.19.0->neutron==26.0.2.dev66) (1.17.2)
Requirement already satisfied: dnspython>=1.15.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from eventlet>=0.36.1->neutron==26.0.2.dev66) (2.7.0)
Requirement already satisfied: greenlet>=1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from eventlet>=0.36.1->neutron==26.0.2.dev66) (3.1.1)
Requirement already satisfied: pyparsing!=3.0.0,!=3.0.1,!=3.0.2,!=3.0.3,<4,>=2.4.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from httplib2>=0.22.0->neutron==26.0.2.dev66) (3.2.1)
Requirement already satisfied: MarkupSafe>=2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from Jinja2>=2.10->neutron==26.0.2.dev66) (3.0.2)
Requirement already satisfied: iso8601>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.14.0->neutron==26.0.2.dev66) (2.1.0)
Requirement already satisfied: os-service-types>=1.2.0 in /usr/lib/python3/dist-packages (from keystoneauth1>=3.14.0->neutron==26.0.2.dev66) (1.7.0)
Requirement already satisfied: pycadf>=1.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=5.1.0->neutron==26.0.2.dev66) (4.0.1)
Requirement already satisfied: PyJWT>=2.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=5.1.0->neutron==26.0.2.dev66) (2.10.1)
Requirement already satisfied: python-keystoneclient>=3.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=5.1.0->neutron==26.0.2.dev66) (5.6.0)
Requirement already satisfied: setproctitle>=1.1.10 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron-lib>=3.17.0->neutron==26.0.2.dev66) (1.3.4)
Requirement already satisfied: os-traits>=0.9.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from neutron-lib>=3.17.0->neutron==26.0.2.dev66) (3.3.0)
Requirement already satisfied: cryptography>=2.7 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.31.2->neutron==26.0.2.dev66) (43.0.3)
Requirement already satisfied: dogpile.cache>=0.6.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.31.2->neutron==26.0.2.dev66) (1.3.4)
Requirement already satisfied: jmespath>=0.9.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.31.2->neutron==26.0.2.dev66) (1.0.1)
Requirement already satisfied: jsonpatch!=1.20,>=1.16 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.31.2->neutron==26.0.2.dev66) (1.33)
Requirement already satisfied: platformdirs>=3 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.31.2->neutron==26.0.2.dev66) (4.3.6)
Requirement already satisfied: PyYAML>=3.13 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.31.2->neutron==26.0.2.dev66) (6.0.2)
Requirement already satisfied: requestsexceptions>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.31.2->neutron==26.0.2.dev66) (1.4.0)
Requirement already satisfied: cffi>=1.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from cryptography>=2.7->openstacksdk>=0.31.2->neutron==26.0.2.dev66) (1.17.1)
Requirement already satisfied: pycparser in /opt/stack/data/venv/lib/python3.10/site-packages (from cffi>=1.12->cryptography>=2.7->openstacksdk>=0.31.2->neutron==26.0.2.dev66) (2.22)
Requirement already satisfied: jsonpointer>=1.9 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonpatch!=1.20,>=1.16->openstacksdk>=0.31.2->neutron==26.0.2.dev66) (3.0.0)
Requirement already satisfied: msgpack>=1.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-ken>=3.0.0->neutron==26.0.2.dev66) (1.1.0)
Requirement already satisfied: ncclient>=0.6.13 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-ken>=3.0.0->neutron==26.0.2.dev66) (0.6.16)
Requirement already satisfied: packaging>=20.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-ken>=3.0.0->neutron==26.0.2.dev66) (24.2)
Requirement already satisfied: setuptools>0.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from ncclient>=0.6.13->os-ken>=3.0.0->neutron==26.0.2.dev66) (80.9.0)
Requirement already satisfied: paramiko>=1.15.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from ncclient>=0.6.13->os-ken>=3.0.0->neutron==26.0.2.dev66) (3.5.1)
Requirement already satisfied: lxml>=3.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from ncclient>=0.6.13->os-ken>=3.0.0->neutron==26.0.2.dev66) (5.3.1)
Requirement already satisfied: six in /opt/stack/data/venv/lib/python3.10/site-packages (from ncclient>=0.6.13->os-ken>=3.0.0->neutron==26.0.2.dev66) (1.17.0)
Requirement already satisfied: fasteners>=0.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.concurrency>=3.26.0->neutron==26.0.2.dev66) (0.19)
Requirement already satisfied: rfc3986>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=9.4.0->neutron==26.0.2.dev66) (2.0.0)
Requirement already satisfied: testresources>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.db>=4.44.0->neutron==26.0.2.dev66) (2.0.1)
Requirement already satisfied: testscenarios>=0.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.db>=4.44.0->neutron==26.0.2.dev66) (0.5.0)
Requirement already satisfied: python-dateutil>=2.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.log>=5.3.0->neutron==26.0.2.dev66) (2.9.0.post0)
Requirement already satisfied: cachetools>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=7.0.0->neutron==26.0.2.dev66) (5.5.2)
Requirement already satisfied: amqp>=2.5.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=7.0.0->neutron==26.0.2.dev66) (5.3.1)
Requirement already satisfied: kombu>=4.6.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=7.0.0->neutron==26.0.2.dev66) (5.4.2)
Requirement already satisfied: oslo.metrics>=0.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=7.0.0->neutron==26.0.2.dev66) (0.11.0)
Requirement already satisfied: vine<6.0.0,>=5.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from amqp>=2.5.2->oslo.messaging>=7.0.0->neutron==26.0.2.dev66) (5.1.0)
Requirement already satisfied: tzdata in /opt/stack/data/venv/lib/python3.10/site-packages (from kombu>=4.6.6->oslo.messaging>=7.0.0->neutron==26.0.2.dev66) (2025.1)
Requirement already satisfied: prometheus-client>=0.6.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.metrics>=0.2.1->oslo.messaging>=7.0.0->neutron==26.0.2.dev66) (0.21.1)
Requirement already satisfied: statsd>=3.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.middleware>=3.31.0->neutron==26.0.2.dev66) (4.0.1)
Requirement already satisfied: bcrypt>=3.1.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.middleware>=3.31.0->neutron==26.0.2.dev66) (4.0.1)
Requirement already satisfied: Yappi>=1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=3.5.0->neutron==26.0.2.dev66) (1.6.10)
Requirement already satisfied: PrettyTable>=0.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.upgradecheck>=1.3.0->neutron==26.0.2.dev66) (3.14.0)
Requirement already satisfied: sortedcontainers in /opt/stack/data/venv/lib/python3.10/site-packages (from ovs>=2.12.0->neutron==26.0.2.dev66) (2.4.0)
Requirement already satisfied: fixtures>=3.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from ovsdbapp>=2.11.0->neutron==26.0.2.dev66) (4.2.4.post1)
Requirement already satisfied: pynacl>=1.5 in /usr/lib/python3/dist-packages (from paramiko>=1.15.0->ncclient>=0.6.13->os-ken>=3.0.0->neutron==26.0.2.dev66) (1.5.0)
Requirement already satisfied: logutils>=0.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from pecan>=1.4.0->neutron==26.0.2.dev66) (0.3.5)
Requirement already satisfied: wcwidth in /opt/stack/data/venv/lib/python3.10/site-packages (from PrettyTable>=0.7.1->oslo.upgradecheck>=1.3.0->neutron==26.0.2.dev66) (0.2.13)
Requirement already satisfied: cliff!=2.9.0,>=2.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-designateclient>=2.7.0->neutron==26.0.2.dev66) (4.9.1)
Requirement already satisfied: jsonschema>=3.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-designateclient>=2.7.0->neutron==26.0.2.dev66) (4.23.0)
Requirement already satisfied: osc-lib>=1.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-designateclient>=2.7.0->neutron==26.0.2.dev66) (3.2.0)
Requirement already satisfied: autopage>=0.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff!=2.9.0,>=2.8.0->python-designateclient>=2.7.0->neutron==26.0.2.dev66) (0.5.2)
Requirement already satisfied: cmd2>=1.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff!=2.9.0,>=2.8.0->python-designateclient>=2.7.0->neutron==26.0.2.dev66) (2.5.11)
Requirement already satisfied: pyperclip>=1.8 in /opt/stack/data/venv/lib/python3.10/site-packages (from cmd2>=1.0.0->cliff!=2.9.0,>=2.8.0->python-designateclient>=2.7.0->neutron==26.0.2.dev66) (1.9.0)
Requirement already satisfied: attrs>=22.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->python-designateclient>=2.7.0->neutron==26.0.2.dev66) (25.1.0)
Requirement already satisfied: jsonschema-specifications>=2023.03.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->python-designateclient>=2.7.0->neutron==26.0.2.dev66) (2024.10.1)
Requirement already satisfied: referencing>=0.28.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->python-designateclient>=2.7.0->neutron==26.0.2.dev66) (0.36.2)
Requirement already satisfied: rpds-py>=0.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->python-designateclient>=2.7.0->neutron==26.0.2.dev66) (0.23.1)
Requirement already satisfied: os-client-config>=1.28.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-neutronclient>=7.8.0->neutron==26.0.2.dev66) (2.1.0)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.32.3->neutron==26.0.2.dev66) (3.4.1)
Requirement already satisfied: idna<4,>=2.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.32.3->neutron==26.0.2.dev66) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.32.3->neutron==26.0.2.dev66) (1.26.20)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests>=2.32.3->neutron==26.0.2.dev66) (2020.6.20)
Requirement already satisfied: repoze.lru>=0.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from Routes>=2.3.1->neutron==26.0.2.dev66) (0.7)
Requirement already satisfied: testtools in /opt/stack/data/venv/lib/python3.10/site-packages (from testscenarios>=0.4->oslo.db>=4.44.0->neutron==26.0.2.dev66) (2.7.2)
Requirement already satisfied: voluptuous>=0.8.9 in /opt/stack/data/venv/lib/python3.10/site-packages (from tooz>=1.58.0->neutron==26.0.2.dev66) (0.15.2)
Installing collected packages: neutron
  Attempting uninstall: neutron
    Found existing installation: neutron 26.0.2.dev66
    Uninstalling neutron-26.0.2.dev66:
      Successfully uninstalled neutron-26.0.2.dev66
  DEPRECATION: Legacy editable install of neutron==26.0.2.dev66 from file:///opt/stack/neutron (setup.py develop) is deprecated. pip 25.3 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457
  Running setup.py develop for neutron
Successfully installed neutron-26.0.2.dev66
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760003096450
+ functions-common:time_stop:2430          :   [[ -z 1760003096450 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003115240
+ functions-common:time_stop:2434          :   elapsed_time=18790
+ functions-common:time_stop:2435          :   total=85206
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=103996
+ inc/python:pip_install:219               :   return 0
+ inc/python:setup_package:467             :   [[ -e == \-\e ]]
+ inc/python:setup_package:467             :   [[ True == \F\a\l\s\e ]]
+ inc/python:_setup_package_with_constraints_edit:413 :   use_library_from_git /opt/stack/neutron
+ inc/python:use_library_from_git:266      :   local name=/opt/stack/neutron
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,/opt/stack/neutron, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/neutron:install_neutron:556          :   [[ openvswitch == \o\v\n ]]
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:977                      :   is_service_enabled nova
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:979                      :   stack_install_service nova
+ lib/stack:stack_install_service:20       :   local service=nova
+ lib/stack:stack_install_service:21       :   type install_nova
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_nova
+ lib/nova:install_nova:935                :   use_library_from_git os-vif
+ inc/python:use_library_from_git:266      :   local name=os-vif
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,os-vif, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/nova:install_nova:940                :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova:install_nova:940                :   [[ -r /opt/stack/devstack/lib/nova_plugins/hypervisor-libvirt ]]
+ lib/nova:install_nova:941                :   install_nova_hypervisor
+ lib/nova_plugins/hypervisor-libvirt:install_nova_hypervisor:91 :   install_libvirt
+ lib/nova_plugins/functions-libvirt:install_libvirt:69 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- libvirt-python
/opt/stack/requirements/.venv/lib/python3.10/site-packages/openstack_requirements/requirement.py:20: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
+ lib/nova_plugins/functions-libvirt:install_libvirt:71 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/nova_plugins/functions-libvirt:install_libvirt:72 :   install_package qemu-system libvirt-clients libvirt-daemon-system libvirt-dev python3-libvirt systemd-coredump
+ functions-common:install_package:1442    :   update_package_repo
+ functions-common:update_package_repo:1416 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1417 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1418 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1420 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1424 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1425 :   apt_get_update
+ functions-common:apt_get_update:1170     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1170     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1171     :   return
+ functions-common:install_package:1443    :   real_install_package qemu-system libvirt-clients libvirt-daemon-system libvirt-dev python3-libvirt systemd-coredump
+ functions-common:real_install_package:1430 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:real_install_package:1431 :   apt_get install qemu-system libvirt-clients libvirt-daemon-system libvirt-dev python3-libvirt systemd-coredump
+ functions-common:apt_get:1211            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install qemu-system libvirt-clients libvirt-daemon-system libvirt-dev python3-libvirt systemd-coredump
Reading package lists...
Building dependency tree...
Reading state information...
python3-libvirt is already the newest version (8.0.0-1build1).
libvirt-clients is already the newest version (8.0.0-1ubuntu7.13).
libvirt-daemon-system is already the newest version (8.0.0-1ubuntu7.13).
qemu-system is already the newest version (1:6.2+dfsg-2ubuntu6.27).
libvirt-dev is already the newest version (8.0.0-1ubuntu7.13).
systemd-coredump is already the newest version (249.11-0ubuntu3.17).
The following package was automatically installed and is no longer required:
  apport-symptoms
Use 'sudo apt autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 35 not upgraded.
+ functions-common:apt_get:1215            :   result=0
+ functions-common:apt_get:1218            :   time_stop apt-get
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=apt-get
+ functions-common:time_stop:2428          :   start_time=1760003116214
+ functions-common:time_stop:2430          :   [[ -z 1760003116214 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003117539
+ functions-common:time_stop:2434          :   elapsed_time=1325
+ functions-common:time_stop:2435          :   total=12168
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=13493
+ functions-common:apt_get:1219            :   return 0
+ lib/nova_plugins/functions-libvirt:install_libvirt:73 :   is_arch aarch64
++ functions-common:is_arch:518             :   uname -m
+ functions-common:is_arch:518             :   [[ x86_64 == \a\a\r\c\h\6\4 ]]
+ lib/nova_plugins/functions-libvirt:install_libvirt:103 :   [[ True == True ]]
+ lib/nova_plugins/functions-libvirt:install_libvirt:104 :   _enable_coredump
+ lib/nova_plugins/functions-libvirt:_enable_coredump:34 :   local confdir=/etc/systemd/system/libvirtd.service.d
+ lib/nova_plugins/functions-libvirt:_enable_coredump:35 :   local conffile=/etc/systemd/system/libvirtd.service.d/coredump.conf
+ lib/nova_plugins/functions-libvirt:_enable_coredump:39 :   sudo mkdir -p /var/core
+ lib/nova_plugins/functions-libvirt:_enable_coredump:40 :   sudo chmod a+wrx /var/core
+ lib/nova_plugins/functions-libvirt:_enable_coredump:42 :   sudo tee /proc/sys/kernel/core_pattern
+ lib/nova_plugins/functions-libvirt:_enable_coredump:41 :   echo /var/core/core.%e.%p.%h.%t
/var/core/core.%e.%p.%h.%t
+ lib/nova_plugins/functions-libvirt:_enable_coredump:45 :   sudo mkdir -p /etc/systemd/system/libvirtd.service.d
+ lib/nova_plugins/functions-libvirt:_enable_coredump:46 :   sudo tee /etc/systemd/system/libvirtd.service.d/coredump.conf
[Service]
LimitCORE=infinity
+ lib/nova_plugins/functions-libvirt:_enable_coredump:53 :   sudo systemctl daemon-reload
+ lib/nova_plugins/hypervisor-libvirt:install_nova_hypervisor:96 :   [[ qemu == \l\x\c ]]
+ lib/nova_plugins/hypervisor-libvirt:install_nova_hypervisor:108 :   [[ '' == \T\r\u\e ]]
+ lib/nova:install_nova:944                :   is_service_enabled n-novnc
+ functions-common:is_service_enabled:2077 :   return 0
++ lib/nova:install_nova:946                :   trueorfalse False NOVNC_FROM_PACKAGE
+ lib/nova:install_nova:946                :   NOVNC_FROM_PACKAGE=True
+ lib/nova:install_nova:947                :   '[' True = True ']'
+ lib/nova:install_nova:956                :   local novnc_packages
+ lib/nova:install_nova:957                :   novnc_packages=novnc
+ lib/nova:install_nova:958                :   GetOSVersion
+ functions-common:GetOSVersion:437        :   source /etc/os-release
++ /etc/os-release:source:1                 :   PRETTY_NAME='Ubuntu 22.04.5 LTS'
++ /etc/os-release:source:2                 :   NAME=Ubuntu
++ /etc/os-release:source:3                 :   VERSION_ID=22.04
++ /etc/os-release:source:4                 :   VERSION='22.04.5 LTS (Jammy Jellyfish)'
++ /etc/os-release:source:5                 :   VERSION_CODENAME=jammy
++ /etc/os-release:source:6                 :   ID=ubuntu
++ /etc/os-release:source:7                 :   ID_LIKE=debian
++ /etc/os-release:source:8                 :   HOME_URL=https://www.ubuntu.com/
++ /etc/os-release:source:9                 :   SUPPORT_URL=https://help.ubuntu.com/
++ /etc/os-release:source:10                :   BUG_REPORT_URL=https://bugs.launchpad.net/ubuntu/
++ /etc/os-release:source:11                :   PRIVACY_POLICY_URL=https://www.ubuntu.com/legal/terms-and-policies/privacy-policy
++ /etc/os-release:source:12                :   UBUNTU_CODENAME=jammy
+ functions-common:GetOSVersion:438        :   [[ ubuntu22.04.5 LTS (Jammy Jellyfish) == \c\e\n\t\o\s\9 ]]
+ functions-common:GetOSVersion:438        :   [[ ubuntu22.04.5 LTS (Jammy Jellyfish) =~ rhel9 ]]
+ functions-common:GetOSVersion:442        :   [[ ubuntu22.04.5 LTS (Jammy Jellyfish) =~ rocky9 ]]
+ functions-common:GetOSVersion:446        :   _ensure_lsb_release
++ functions-common:_ensure_lsb_release:414 :   command -v lsb_release
+ functions-common:_ensure_lsb_release:414 :   [[ -x /usr/bin/lsb_release ]]
+ functions-common:_ensure_lsb_release:415 :   return
++ functions-common:GetOSVersion:448        :   lsb_release -r -s
+ functions-common:GetOSVersion:448        :   os_RELEASE=22.04
++ functions-common:GetOSVersion:449        :   lsb_release -c -s
+ functions-common:GetOSVersion:449        :   os_CODENAME=jammy
++ functions-common:GetOSVersion:450        :   lsb_release -i -s
+ functions-common:GetOSVersion:450        :   os_VENDOR=Ubuntu
+ functions-common:GetOSVersion:453        :   [[ Ubuntu =~ (Debian|Ubuntu) ]]
+ functions-common:GetOSVersion:454        :   os_PACKAGE=deb
+ functions-common:GetOSVersion:459        :   typeset -xr os_VENDOR
+ functions-common:GetOSVersion:460        :   typeset -xr os_RELEASE
+ functions-common:GetOSVersion:461        :   typeset -xr os_PACKAGE
+ functions-common:GetOSVersion:462        :   typeset -xr os_CODENAME
+ lib/nova:install_nova:959                :   [[ Ubuntu = \D\e\b\i\a\n ]]
+ lib/nova:install_nova:963                :   NOVNC_WEB_DIR=/usr/share/novnc
+ lib/nova:install_nova:964                :   install_package novnc
+ functions-common:install_package:1442    :   update_package_repo
+ functions-common:update_package_repo:1416 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1417 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1418 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1420 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1424 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1425 :   apt_get_update
+ functions-common:apt_get_update:1170     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1170     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1171     :   return
+ functions-common:install_package:1443    :   real_install_package novnc
+ functions-common:real_install_package:1430 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ functions-common:real_install_package:1431 :   apt_get install novnc
+ functions-common:apt_get:1211            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install novnc
Reading package lists...
Building dependency tree...
Reading state information...
novnc is already the newest version (1:1.0.0-5).
The following package was automatically installed and is no longer required:
  apport-symptoms
Use 'sudo apt autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 35 not upgraded.
+ functions-common:apt_get:1215            :   result=0
+ functions-common:apt_get:1218            :   time_stop apt-get
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=apt-get
+ functions-common:time_stop:2428          :   start_time=1760003119263
+ functions-common:time_stop:2430          :   [[ -z 1760003119263 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003120695
+ functions-common:time_stop:2434          :   elapsed_time=1432
+ functions-common:time_stop:2435          :   total=13493
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=14925
+ functions-common:apt_get:1219            :   return 0
+ lib/nova:install_nova:971                :   is_service_enabled n-spice
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/nova:install_nova:983                :   git_clone https://opendev.org/openstack/nova.git /opt/stack/nova stable/2025.1
+ functions-common:git_clone:593           :   local git_remote=https://opendev.org/openstack/nova.git
+ functions-common:git_clone:594           :   local git_dest=/opt/stack/nova
+ functions-common:git_clone:595           :   local git_ref=stable/2025.1
+ functions-common:git_clone:596           :   local orig_dir
++ functions-common:git_clone:597           :   pwd
+ functions-common:git_clone:597           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:598           :   local git_clone_flags=
++ functions-common:git_clone:600           :   trueorfalse False RECLONE
+ functions-common:git_clone:600           :   RECLONE=False
+ functions-common:git_clone:601           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:605           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:614           :   echo stable/2025.1
+ functions-common:git_clone:614           :   egrep -q '^refs'
+ functions-common:git_clone:628           :   [[ ! -d /opt/stack/nova ]]
+ functions-common:git_clone:638           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:673           :   sudo git config --system --add safe.directory /opt/stack/nova
+ functions-common:git_clone:676           :   cd /opt/stack/nova
+ functions-common:git_clone:677           :   git show --oneline
+ functions-common:git_clone:677           :   head -1
d2c23c91ef Add admin context when filling metadata on ImagePropsWeigher
+ functions-common:git_clone:678           :   cd /opt/stack/devstack
+ lib/nova:install_nova:984                :   setup_develop /opt/stack/nova
+ inc/python:setup_develop:354             :   local bindep
+ inc/python:setup_develop:355             :   [[ /opt/stack/nova == -bindep* ]]
+ inc/python:setup_develop:359             :   local project_dir=/opt/stack/nova
+ inc/python:setup_develop:360             :   local extras=
+ inc/python:setup_develop:361             :   _setup_package_with_constraints_edit /opt/stack/nova -e
+ inc/python:_setup_package_with_constraints_edit:380 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:381 :   [[ /opt/stack/nova == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:385 :   local project_dir=/opt/stack/nova
+ inc/python:_setup_package_with_constraints_edit:386 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:387 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:394 :   cd /opt/stack/nova
++ inc/python:_setup_package_with_constraints_edit:394 :   pwd
+ inc/python:_setup_package_with_constraints_edit:394 :   project_dir=/opt/stack/nova
+ inc/python:_setup_package_with_constraints_edit:396 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:400 :   local name
++ inc/python:_setup_package_with_constraints_edit:401 :   awk '/^name.*=/ {print $3}' /opt/stack/nova/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:401 :   name=nova
+ inc/python:_setup_package_with_constraints_edit:402 :   '[' -z nova ']'
+ inc/python:_setup_package_with_constraints_edit:406 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- nova
/opt/stack/requirements/.venv/lib/python3.10/site-packages/openstack_requirements/requirement.py:20: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
+ inc/python:_setup_package_with_constraints_edit:409 :   setup_package /opt/stack/nova -e
+ inc/python:setup_package:437             :   local bindep=0
+ inc/python:setup_package:438             :   local bindep_flag=
+ inc/python:setup_package:439             :   local bindep_profiles=
+ inc/python:setup_package:440             :   [[ /opt/stack/nova == -bindep* ]]
+ inc/python:setup_package:445             :   local project_dir=/opt/stack/nova
+ inc/python:setup_package:446             :   local flags=-e
+ inc/python:setup_package:447             :   local extras=
+ inc/python:setup_package:451             :   [[ -n -e ]]
+ inc/python:setup_package:451             :   [[ -z '' ]]
+ inc/python:setup_package:451             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:456             :   [[ ! -z '' ]]
+ inc/python:setup_package:461             :   [[ 0 == 1 ]]
+ inc/python:setup_package:465             :   pip_install -e /opt/stack/nova
Using python 3.10 to install /opt/stack/nova
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade -e /opt/stack/nova
Looking in indexes: https://pypi.org/simple/
Obtaining file:///opt/stack/nova
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Checking if build backend supports build_editable: started
  Checking if build backend supports build_editable: finished with status 'done'
  Getting requirements to build editable: started
  Getting requirements to build editable: finished with status 'done'
  Preparing editable metadata (pyproject.toml): started
  Preparing editable metadata (pyproject.toml): finished with status 'done'
Requirement already satisfied: pbr>=5.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (6.1.1)
Requirement already satisfied: SQLAlchemy>=1.4.13 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (2.0.38)
Requirement already satisfied: decorator>=4.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (5.1.1)
Requirement already satisfied: eventlet>=0.30.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (0.39.0)
Requirement already satisfied: Jinja2>=2.10 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (3.1.5)
Requirement already satisfied: keystonemiddleware>=4.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (10.9.0)
Requirement already satisfied: lxml>=4.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (5.3.1)
Requirement already satisfied: Routes>=2.3.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (2.5.1)
Requirement already satisfied: cryptography>=2.7 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (43.0.3)
Requirement already satisfied: WebOb>=1.8.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (1.8.9)
Requirement already satisfied: greenlet>=0.4.15 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (3.1.1)
Requirement already satisfied: PasteDeploy>=1.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (3.1.0)
Requirement already satisfied: Paste>=2.0.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (3.10.1)
Requirement already satisfied: PrettyTable>=0.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (3.14.0)
Requirement already satisfied: alembic>=1.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (1.14.1)
Requirement already satisfied: netaddr>=0.7.18 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (1.3.0)
Requirement already satisfied: paramiko>=2.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (3.5.1)
Requirement already satisfied: iso8601>=0.1.11 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (2.1.0)
Requirement already satisfied: jsonschema>=4.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (4.23.0)
Requirement already satisfied: python-cinderclient>=4.0.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (9.7.0)
Requirement already satisfied: keystoneauth1>=3.16.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (5.10.0)
Requirement already satisfied: python-neutronclient>=7.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (11.4.0)
Requirement already satisfied: python-glanceclient>=2.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (4.8.0)
Requirement already satisfied: requests>=2.25.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (2.32.3)
Requirement already satisfied: stevedore>=1.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (5.4.1)
Requirement already satisfied: websockify>=0.9.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (0.12.0)
Requirement already satisfied: oslo.cache>=1.26.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (3.10.2)
Requirement already satisfied: oslo.concurrency>=5.0.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (7.1.0)
Requirement already satisfied: oslo.config>=8.6.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (9.7.1)
Requirement already satisfied: oslo.context>=3.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (5.7.1)
Requirement already satisfied: oslo.log>=4.6.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (7.1.0)
Requirement already satisfied: oslo.limit>=1.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (2.6.1)
Requirement already satisfied: oslo.reports>=1.18.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (3.5.1)
Requirement already satisfied: oslo.serialization>=4.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (5.7.0)
Requirement already satisfied: oslo.upgradecheck>=1.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (2.5.0)
Requirement already satisfied: oslo.utils>=8.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (8.2.0)
Requirement already satisfied: oslo.db>=10.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (17.2.1)
Requirement already satisfied: oslo.rootwrap>=5.15.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (7.5.1)
Requirement already satisfied: oslo.messaging>=14.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (16.1.0)
Requirement already satisfied: oslo.policy>=4.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (4.5.1)
Requirement already satisfied: oslo.privsep>=2.6.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (3.6.0)
Requirement already satisfied: oslo.i18n>=5.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (6.5.1)
Requirement already satisfied: oslo.service>=2.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (4.1.1)
Requirement already satisfied: rfc3986>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (2.0.0)
Requirement already satisfied: oslo.middleware>=3.31.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (6.3.1)
Requirement already satisfied: psutil>=3.2.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (7.0.0)
Requirement already satisfied: oslo.versionedobjects>=1.35.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (3.6.0)
Requirement already satisfied: os-brick>=6.10.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (6.11.0)
Requirement already satisfied: os-resource-classes>=1.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (1.1.0)
Requirement already satisfied: os-traits>=3.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (3.3.0)
Requirement already satisfied: os-vif>=3.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (4.1.0)
Requirement already satisfied: castellan>=0.16.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (5.2.1)
Requirement already satisfied: microversion-parse>=0.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (2.0.0)
Requirement already satisfied: tooz>=1.58.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (6.3.0)
Requirement already satisfied: cursive>=0.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (0.2.3)
Requirement already satisfied: retrying>=1.3.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (1.3.4)
Requirement already satisfied: os-service-types>=1.7.0 in /usr/lib/python3/dist-packages (from nova==31.1.1.dev19) (1.7.0)
Requirement already satisfied: python-dateutil>=2.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (2.9.0.post0)
Requirement already satisfied: futurist>=1.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (3.1.0)
Requirement already satisfied: openstacksdk>=4.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (4.4.0)
Requirement already satisfied: PyYAML>=5.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from nova==31.1.1.dev19) (6.0.2)
Requirement already satisfied: Mako in /opt/stack/data/venv/lib/python3.10/site-packages (from alembic>=1.5.0->nova==31.1.1.dev19) (1.3.9)
Requirement already satisfied: typing-extensions>=4 in /opt/stack/data/venv/lib/python3.10/site-packages (from alembic>=1.5.0->nova==31.1.1.dev19) (4.12.2)
Requirement already satisfied: python-barbicanclient>=5.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from castellan>=0.16.0->nova==31.1.1.dev19) (7.1.0)
Requirement already satisfied: cffi>=1.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from cryptography>=2.7->nova==31.1.1.dev19) (1.17.1)
Requirement already satisfied: pycparser in /opt/stack/data/venv/lib/python3.10/site-packages (from cffi>=1.12->cryptography>=2.7->nova==31.1.1.dev19) (2.22)
Requirement already satisfied: dnspython>=1.15.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from eventlet>=0.30.1->nova==31.1.1.dev19) (2.7.0)
Requirement already satisfied: debtcollector>=3.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from futurist>=1.8.0->nova==31.1.1.dev19) (3.0.0)
Requirement already satisfied: wrapt>=1.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from debtcollector>=3.0.0->futurist>=1.8.0->nova==31.1.1.dev19) (1.17.2)
Requirement already satisfied: MarkupSafe>=2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from Jinja2>=2.10->nova==31.1.1.dev19) (3.0.2)
Requirement already satisfied: attrs>=22.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=4.0.0->nova==31.1.1.dev19) (25.1.0)
Requirement already satisfied: jsonschema-specifications>=2023.03.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=4.0.0->nova==31.1.1.dev19) (2024.10.1)
Requirement already satisfied: referencing>=0.28.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=4.0.0->nova==31.1.1.dev19) (0.36.2)
Requirement already satisfied: rpds-py>=0.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=4.0.0->nova==31.1.1.dev19) (0.23.1)
Requirement already satisfied: pycadf>=1.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.20.0->nova==31.1.1.dev19) (4.0.1)
Requirement already satisfied: PyJWT>=2.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.20.0->nova==31.1.1.dev19) (2.10.1)
Requirement already satisfied: python-keystoneclient>=3.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.20.0->nova==31.1.1.dev19) (5.6.0)
Requirement already satisfied: dogpile.cache>=0.6.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=4.4.0->nova==31.1.1.dev19) (1.3.4)
Requirement already satisfied: jmespath>=0.9.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=4.4.0->nova==31.1.1.dev19) (1.0.1)
Requirement already satisfied: jsonpatch!=1.20,>=1.16 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=4.4.0->nova==31.1.1.dev19) (1.33)
Requirement already satisfied: platformdirs>=3 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=4.4.0->nova==31.1.1.dev19) (4.3.6)
Requirement already satisfied: requestsexceptions>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=4.4.0->nova==31.1.1.dev19) (1.4.0)
Requirement already satisfied: jsonpointer>=1.9 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonpatch!=1.20,>=1.16->openstacksdk>=4.4.0->nova==31.1.1.dev19) (3.0.0)
Requirement already satisfied: tenacity>=6.3.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-brick>=6.10.0->nova==31.1.1.dev19) (9.0.0)
Requirement already satisfied: os-win>=5.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-brick>=6.10.0->nova==31.1.1.dev19) (5.9.0)
Requirement already satisfied: ovsdbapp>=0.12.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-vif>=3.1.0->nova==31.1.1.dev19) (2.11.0)
Requirement already satisfied: pyroute2>=0.5.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from os-vif>=3.1.0->nova==31.1.1.dev19) (0.8.1)
Requirement already satisfied: fasteners>=0.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.concurrency>=5.0.1->nova==31.1.1.dev19) (0.19)
Requirement already satisfied: testresources>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.db>=10.0.0->nova==31.1.1.dev19) (2.0.1)
Requirement already satisfied: testscenarios>=0.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.db>=10.0.0->nova==31.1.1.dev19) (0.5.0)
Requirement already satisfied: cachetools>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=14.1.0->nova==31.1.1.dev19) (5.5.2)
Requirement already satisfied: amqp>=2.5.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=14.1.0->nova==31.1.1.dev19) (5.3.1)
Requirement already satisfied: kombu>=4.6.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=14.1.0->nova==31.1.1.dev19) (5.4.2)
Requirement already satisfied: oslo.metrics>=0.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.messaging>=14.1.0->nova==31.1.1.dev19) (0.11.0)
Requirement already satisfied: vine<6.0.0,>=5.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from amqp>=2.5.2->oslo.messaging>=14.1.0->nova==31.1.1.dev19) (5.1.0)
Requirement already satisfied: tzdata in /opt/stack/data/venv/lib/python3.10/site-packages (from kombu>=4.6.6->oslo.messaging>=14.1.0->nova==31.1.1.dev19) (2025.1)
Requirement already satisfied: prometheus-client>=0.6.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.metrics>=0.2.1->oslo.messaging>=14.1.0->nova==31.1.1.dev19) (0.21.1)
Requirement already satisfied: statsd>=3.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.middleware>=3.31.0->nova==31.1.1.dev19) (4.0.1)
Requirement already satisfied: bcrypt>=3.1.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.middleware>=3.31.0->nova==31.1.1.dev19) (4.0.1)
Requirement already satisfied: msgpack>=0.6.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.privsep>=2.6.2->nova==31.1.1.dev19) (1.1.0)
Requirement already satisfied: Yappi>=1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.service>=2.8.0->nova==31.1.1.dev19) (1.6.10)
Requirement already satisfied: pyparsing>=2.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=8.0.0->nova==31.1.1.dev19) (3.2.1)
Requirement already satisfied: packaging>=20.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=8.0.0->nova==31.1.1.dev19) (24.2)
Requirement already satisfied: fixtures>=3.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from ovsdbapp>=0.12.1->os-vif>=3.1.0->nova==31.1.1.dev19) (4.2.4.post1)
Requirement already satisfied: ovs>=2.10.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from ovsdbapp>=0.12.1->os-vif>=3.1.0->nova==31.1.1.dev19) (3.5.0)
Requirement already satisfied: sortedcontainers in /opt/stack/data/venv/lib/python3.10/site-packages (from ovs>=2.10.0->ovsdbapp>=0.12.1->os-vif>=3.1.0->nova==31.1.1.dev19) (2.4.0)
Requirement already satisfied: pynacl>=1.5 in /usr/lib/python3/dist-packages (from paramiko>=2.7.1->nova==31.1.1.dev19) (1.5.0)
Requirement already satisfied: setuptools in /opt/stack/data/venv/lib/python3.10/site-packages (from Paste>=2.0.2->nova==31.1.1.dev19) (80.9.0)
Requirement already satisfied: wcwidth in /opt/stack/data/venv/lib/python3.10/site-packages (from PrettyTable>=0.7.1->nova==31.1.1.dev19) (0.2.13)
Requirement already satisfied: cliff>=2.8.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-barbicanclient>=5.5.0->castellan>=0.16.0->nova==31.1.1.dev19) (4.9.1)
Requirement already satisfied: autopage>=0.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff>=2.8.0->python-barbicanclient>=5.5.0->castellan>=0.16.0->nova==31.1.1.dev19) (0.5.2)
Requirement already satisfied: cmd2>=1.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff>=2.8.0->python-barbicanclient>=5.5.0->castellan>=0.16.0->nova==31.1.1.dev19) (2.5.11)
Requirement already satisfied: pyperclip>=1.8 in /opt/stack/data/venv/lib/python3.10/site-packages (from cmd2>=1.0.0->cliff>=2.8.0->python-barbicanclient>=5.5.0->castellan>=0.16.0->nova==31.1.1.dev19) (1.9.0)
Requirement already satisfied: six>=1.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-dateutil>=2.7.0->nova==31.1.1.dev19) (1.17.0)
Requirement already satisfied: warlock>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-glanceclient>=2.8.0->nova==31.1.1.dev19) (2.0.1)
Requirement already satisfied: pyOpenSSL>=17.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-glanceclient>=2.8.0->nova==31.1.1.dev19) (24.2.1)
Requirement already satisfied: os-client-config>=1.28.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-neutronclient>=7.1.0->nova==31.1.1.dev19) (2.1.0)
Requirement already satisfied: osc-lib>=1.12.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-neutronclient>=7.1.0->nova==31.1.1.dev19) (3.2.0)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.25.1->nova==31.1.1.dev19) (3.4.1)
Requirement already satisfied: idna<4,>=2.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.25.1->nova==31.1.1.dev19) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.25.1->nova==31.1.1.dev19) (1.26.20)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests>=2.25.1->nova==31.1.1.dev19) (2020.6.20)
Requirement already satisfied: repoze.lru>=0.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from Routes>=2.3.1->nova==31.1.1.dev19) (0.7)
Requirement already satisfied: testtools in /opt/stack/data/venv/lib/python3.10/site-packages (from testscenarios>=0.4->oslo.db>=10.0.0->nova==31.1.1.dev19) (2.7.2)
Requirement already satisfied: voluptuous>=0.8.9 in /opt/stack/data/venv/lib/python3.10/site-packages (from tooz>=1.58.0->nova==31.1.1.dev19) (0.15.2)
Requirement already satisfied: numpy in /opt/stack/data/venv/lib/python3.10/site-packages (from websockify>=0.9.0->nova==31.1.1.dev19) (2.2.3)
Requirement already satisfied: jwcrypto in /opt/stack/data/venv/lib/python3.10/site-packages (from websockify>=0.9.0->nova==31.1.1.dev19) (1.5.6)
Requirement already satisfied: redis in /opt/stack/data/venv/lib/python3.10/site-packages (from websockify>=0.9.0->nova==31.1.1.dev19) (5.2.1)
Requirement already satisfied: async-timeout>=4.0.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from redis->websockify>=0.9.0->nova==31.1.1.dev19) (5.0.1)
Building wheels for collected packages: nova
  Building editable for nova (pyproject.toml): started
  Building editable for nova (pyproject.toml): finished with status 'done'
  Created wheel for nova: filename=nova-31.1.1.dev19-0.editable-py3-none-any.whl size=9756 sha256=47402e3f0ad7e1b7c1b12bb8087f7141634196a172cbd1c48df381dce70e6222
  Stored in directory: /tmp/pip-ephem-wheel-cache-if9fuxug/wheels/d0/09/6c/dab89408e6d0e1973cf91bcf386f7dcf975d77a2d3a5450ea7
Successfully built nova
Installing collected packages: nova
  Attempting uninstall: nova
    Found existing installation: nova 31.1.1.dev19
    Uninstalling nova-31.1.1.dev19:
      Successfully uninstalled nova-31.1.1.dev19
Successfully installed nova-31.1.1.dev19
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760003121748
+ functions-common:time_stop:2430          :   [[ -z 1760003121748 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003133830
+ functions-common:time_stop:2434          :   elapsed_time=12082
+ functions-common:time_stop:2435          :   total=103996
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=116078
+ inc/python:pip_install:219               :   return 0
+ inc/python:setup_package:467             :   [[ -e == \-\e ]]
+ inc/python:setup_package:467             :   [[ True == \F\a\l\s\e ]]
+ inc/python:_setup_package_with_constraints_edit:413 :   use_library_from_git /opt/stack/nova
+ inc/python:use_library_from_git:266      :   local name=/opt/stack/nova
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,/opt/stack/nova, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/nova:install_nova:985                :   sudo install -D -m 0644 -o stack /opt/stack/nova/tools/nova-manage.bash_completion /etc/bash_completion.d/nova-manage.bash_completion
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:980                      :   configure_nova
+ lib/nova:configure_nova:260              :   sudo install -d -o stack /etc/nova
+ lib/nova:configure_nova:262              :   configure_rootwrap nova
+ inc/rootwrap:configure_rootwrap:43       :   local project=nova
+ inc/rootwrap:configure_rootwrap:44       :   local project_uc
++ inc/rootwrap:configure_rootwrap:45       :   echo nova
++ inc/rootwrap:configure_rootwrap:45       :   tr a-z A-Z
+ inc/rootwrap:configure_rootwrap:45       :   project_uc=NOVA
+ inc/rootwrap:configure_rootwrap:46       :   local bin_dir=NOVA_BIN_DIR
+ inc/rootwrap:configure_rootwrap:47       :   bin_dir=/opt/stack/data/venv/bin
+ inc/rootwrap:configure_rootwrap:48       :   local project_dir=NOVA_DIR
+ inc/rootwrap:configure_rootwrap:49       :   project_dir=/opt/stack/nova
+ inc/rootwrap:configure_rootwrap:51       :   local rootwrap_conf_src_dir=/opt/stack/nova/etc/nova
+ inc/rootwrap:configure_rootwrap:52       :   local rootwrap_bin=/opt/stack/data/venv/bin/nova-rootwrap
+ inc/rootwrap:configure_rootwrap:55       :   sudo rm -rf /etc/nova/rootwrap.d
+ inc/rootwrap:configure_rootwrap:56       :   sudo install -d -o root -g root -m 755 /etc/nova/rootwrap.d
+ inc/rootwrap:configure_rootwrap:57       :   sudo install -o root -g root -m 644 /opt/stack/nova/etc/nova/rootwrap.d/compute.filters /etc/nova/rootwrap.d
+ inc/rootwrap:configure_rootwrap:60       :   sudo install -o root -g root -m 644 /opt/stack/nova/etc/nova/rootwrap.conf /etc/nova/rootwrap.conf
+ inc/rootwrap:configure_rootwrap:61       :   sudo sed -e 's:^filters_path=.*$:filters_path=/etc/nova/rootwrap.d:' -i /etc/nova/rootwrap.conf
+ inc/rootwrap:configure_rootwrap:66       :   sudo sed -e 's/^exec_dirs=.*/#&/' -i /etc/nova/rootwrap.conf
+ inc/rootwrap:configure_rootwrap:69       :   local tempfile
++ inc/rootwrap:configure_rootwrap:70       :   mktemp
+ inc/rootwrap:configure_rootwrap:70       :   tempfile=/tmp/tmp.95JeGpdWmH
+ inc/rootwrap:configure_rootwrap:72       :   rootwrap_sudo_cmd='/opt/stack/data/venv/bin/nova-rootwrap /etc/nova/rootwrap.conf *'
+ inc/rootwrap:configure_rootwrap:73       :   echo 'stack ALL=(root) NOPASSWD: /opt/stack/data/venv/bin/nova-rootwrap /etc/nova/rootwrap.conf *'
+ inc/rootwrap:configure_rootwrap:74       :   '[' -f /opt/stack/data/venv/bin/nova-rootwrap-daemon ']'
+ inc/rootwrap:configure_rootwrap:76       :   rootwrap_sudo_cmd='/opt/stack/data/venv/bin/nova-rootwrap-daemon /etc/nova/rootwrap.conf'
+ inc/rootwrap:configure_rootwrap:77       :   echo 'stack ALL=(root) NOPASSWD: /opt/stack/data/venv/bin/nova-rootwrap-daemon /etc/nova/rootwrap.conf'
+ inc/rootwrap:configure_rootwrap:79       :   chmod 0440 /tmp/tmp.95JeGpdWmH
+ inc/rootwrap:configure_rootwrap:80       :   sudo chown root:root /tmp/tmp.95JeGpdWmH
+ inc/rootwrap:configure_rootwrap:81       :   sudo mv /tmp/tmp.95JeGpdWmH /etc/sudoers.d/nova-rootwrap
++ inc/rootwrap:configure_rootwrap:85       :   dirname /opt/stack/data/venv/bin/nova-rootwrap
+ inc/rootwrap:configure_rootwrap:85       :   add_sudo_secure_path /opt/stack/data/venv/bin
+ inc/rootwrap:add_sudo_secure_path:21     :   local dir=/opt/stack/data/venv/bin
+ inc/rootwrap:add_sudo_secure_path:22     :   local line
+ inc/rootwrap:add_sudo_secure_path:25     :   [[ -r /etc/sudoers.d/zz-secure-path ]]
+ inc/rootwrap:add_sudo_secure_path:28     :   line='Defaults:stack secure_path=/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/usr/bin:/bin'
+ inc/rootwrap:add_sudo_secure_path:32     :   [[ ! Defaults:stack secure_path=/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/usr/bin:/bin =~ /opt/stack/data/venv/bin ]]
+ inc/rootwrap:add_sudo_secure_path:33     :   sudo tee /etc/sudoers.d/zz-secure-path
+ inc/rootwrap:add_sudo_secure_path:33     :   echo 'Defaults:stack secure_path=/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/usr/bin:/bin:/opt/stack/data/venv/bin'
Defaults:stack secure_path=/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/usr/bin:/bin:/opt/stack/data/venv/bin
+ inc/rootwrap:add_sudo_secure_path:34     :   sudo chmod 400 /etc/sudoers.d/zz-secure-path
+ inc/rootwrap:add_sudo_secure_path:35     :   sudo chown root:root /etc/sudoers.d/zz-secure-path
+ lib/nova:configure_nova:264              :   [[ c-api,c-bak,c-sch,c-vol,cinder,etcd3,g-api,g-reg,key,mysql,n-api,n-api-meta,n-cauth,n-cond,n-cpu,n-novnc,n-obj,n-sch,placement-api,q-agt,q-dhcp,q-l3,q-meta,q-metering,q-svc,rabbit,s-account,s-container,s-object,s-proxy,tempest =~ n-api ]]
+ lib/nova:configure_nova:266              :   cp /opt/stack/nova/etc/nova/api-paste.ini /etc/nova
+ lib/nova:configure_nova:269              :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova:configure_nova:271              :   sudo sysctl -w net.ipv4.ip_forward=1
net.ipv4.ip_forward = 1
+ lib/nova:configure_nova:273              :   [[ libvirt = \l\i\b\v\i\r\t ]]
+ lib/nova:configure_nova:277              :   [[ qemu == \k\v\m ]]
+ lib/nova:configure_nova:294              :   [[ qemu == \l\x\c ]]
+ lib/nova:configure_nova:309              :   sudo install -d -o stack /opt/stack/data/nova/instances
+ lib/nova:configure_nova:314              :   '[' -L /dev/disk/by-label/nova-instances ']'
+ lib/nova:configure_nova:323              :   sudo tee /etc/iscsi/initiatorname.iscsi
++ lib/nova:configure_nova:323              :   iscsi-iname
+ lib/nova:configure_nova:323              :   echo InitiatorName=iqn.2016-04.com.open-iscsi:61f68c236bde
InitiatorName=iqn.2016-04.com.open-iscsi:61f68c236bde
+ lib/nova:configure_nova:325              :   [[ False == \T\r\u\e ]]
+ lib/nova:configure_nova:340              :   iniset -sudo /etc/iscsi/iscsid.conf DEFAULT node.session.auth.chap_algs SHA3-256,SHA256
+ lib/nova:configure_nova:342              :   [[ lioadm != \n\v\m\e\t ]]
+ lib/nova:configure_nova:344              :   restart_service iscsid
+ functions-common:restart_service:2305    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2306    :   sudo /bin/systemctl restart iscsid
+ lib/nova:configure_nova:367              :   create_nova_conf
+ lib/nova:create_nova_conf:437            :   rm -f /opt/stack/nova/bin/nova.conf
+ lib/nova:create_nova_conf:440            :   rm -f /etc/nova/nova.conf
+ lib/nova:create_nova_conf:441            :   iniset /etc/nova/nova.conf DEFAULT debug True
+ lib/nova:create_nova_conf:442            :   '[' True == True ']'
+ lib/nova:create_nova_conf:443            :   iniset /etc/nova/nova.conf DEFAULT allow_resize_to_same_host True
+ lib/nova:create_nova_conf:445            :   iniset /etc/nova/nova.conf wsgi api_paste_config /etc/nova/api-paste.ini
+ lib/nova:create_nova_conf:446            :   iniset /etc/nova/nova.conf DEFAULT rootwrap_config /etc/nova/rootwrap.conf
+ lib/nova:create_nova_conf:447            :   iniset /etc/nova/nova.conf filter_scheduler enabled_filters ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,SameHostFilter,DifferentHostFilter
+ lib/nova:create_nova_conf:448            :   iniset /etc/nova/nova.conf scheduler workers 2
+ lib/nova:create_nova_conf:449            :   iniset /etc/nova/nova.conf neutron default_floating_pool public
+ lib/nova:create_nova_conf:450            :   iniset /etc/nova/nova.conf DEFAULT my_ip 172.25.93.57
+ lib/nova:create_nova_conf:451            :   iniset /etc/nova/nova.conf DEFAULT instance_name_template instance-%08x
+ lib/nova:create_nova_conf:452            :   iniset /etc/nova/nova.conf DEFAULT osapi_compute_listen 0.0.0.0
+ lib/nova:create_nova_conf:453            :   iniset /etc/nova/nova.conf DEFAULT metadata_listen 0.0.0.0
+ lib/nova:create_nova_conf:454            :   iniset /etc/nova/nova.conf DEFAULT shutdown_timeout 0
+ lib/nova:create_nova_conf:456            :   iniset /etc/nova/nova.conf key_manager backend nova.keymgr.conf_key_mgr.ConfKeyManager
+ lib/nova:create_nova_conf:458            :   iniset /etc/nova/nova.conf DEFAULT report_interval 120
+ lib/nova:create_nova_conf:459            :   iniset /etc/nova/nova.conf DEFAULT service_down_time 720
+ lib/nova:create_nova_conf:461            :   is_fedora
+ functions-common:is_fedora:536           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:540           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:540           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:541           :   '[' Ubuntu = openEuler ']'
+ functions-common:is_fedora:542           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:543           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:544           :   '[' Ubuntu = RedHatEnterpriseLinux ']'
+ functions-common:is_fedora:545           :   '[' Ubuntu = Rocky ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:547           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = Virtuozzo ']'
+ lib/nova:create_nova_conf:470            :   is_service_enabled n-api n-cond n-sched n-spice n-novnc n-sproxy
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova:create_nova_conf:474            :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:create_nova_conf:477            :   local db=nova_cell0
+ lib/nova:create_nova_conf:480            :   iniset /etc/nova/nova.conf filter_scheduler track_instance_changes False
++ lib/nova:create_nova_conf:483            :   database_connection_url nova_cell0
++ lib/database:database_connection_url:134 :   local db=nova_cell0
++ lib/database:database_connection_url:135 :   database_connection_url_mysql nova_cell0
++ lib/databases/mysql:database_connection_url_mysql:243 :   local db=nova_cell0
++ lib/databases/mysql:database_connection_url_mysql:244 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:248 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:249 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:250 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:254 :   echo 'mysql+pymysql://root:Hitachino1@127.0.0.1/nova_cell0?charset=utf8&plugin=dbcounter'
+ lib/nova:create_nova_conf:483            :   iniset /etc/nova/nova.conf database connection 'mysql+pymysql://root:Hitachino1@127.0.0.1/nova_cell0?charset=utf8&plugin=dbcounter'
++ lib/nova:create_nova_conf:484            :   database_connection_url nova_api
++ lib/database:database_connection_url:134 :   local db=nova_api
++ lib/database:database_connection_url:135 :   database_connection_url_mysql nova_api
++ lib/databases/mysql:database_connection_url_mysql:243 :   local db=nova_api
++ lib/databases/mysql:database_connection_url_mysql:244 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:248 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:249 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:250 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:254 :   echo 'mysql+pymysql://root:Hitachino1@127.0.0.1/nova_api?charset=utf8&plugin=dbcounter'
+ lib/nova:create_nova_conf:484            :   iniset /etc/nova/nova.conf api_database connection 'mysql+pymysql://root:Hitachino1@127.0.0.1/nova_api?charset=utf8&plugin=dbcounter'
+ lib/nova:create_nova_conf:489            :   iniset /etc/nova/nova.conf cache enabled True
+ lib/nova:create_nova_conf:490            :   iniset /etc/nova/nova.conf cache backend dogpile.cache.memcached
+ lib/nova:create_nova_conf:491            :   iniset /etc/nova/nova.conf cache memcache_servers localhost:11211
+ lib/nova:create_nova_conf:494            :   is_service_enabled n-api
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova:create_nova_conf:495            :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2077 :   return 0
++ lib/nova:create_nova_conf:497            :   echo osapi_compute,metadata
++ lib/nova:create_nova_conf:497            :   sed s/,metadata//
+ lib/nova:create_nova_conf:497            :   NOVA_ENABLED_APIS=osapi_compute
+ lib/nova:create_nova_conf:499            :   iniset /etc/nova/nova.conf DEFAULT enabled_apis osapi_compute
+ lib/nova:create_nova_conf:500            :   [[ True == \T\r\u\e ]]
+ lib/nova:create_nova_conf:501            :   iniset /etc/nova/nova.conf oslo_policy enforce_new_defaults True
+ lib/nova:create_nova_conf:502            :   iniset /etc/nova/nova.conf oslo_policy enforce_scope True
+ lib/nova:create_nova_conf:508            :   configure_keystone_authtoken_middleware /etc/nova/nova.conf nova
+ lib/keystone:configure_keystone_authtoken_middleware:432 :   local conf_file=/etc/nova/nova.conf
+ lib/keystone:configure_keystone_authtoken_middleware:433 :   local admin_user=nova
+ lib/keystone:configure_keystone_authtoken_middleware:434 :   local section=keystone_authtoken
+ lib/keystone:configure_keystone_authtoken_middleware:436 :   iniset /etc/nova/nova.conf keystone_authtoken auth_type password
+ lib/keystone:configure_keystone_authtoken_middleware:437 :   iniset /etc/nova/nova.conf keystone_authtoken interface public
+ lib/keystone:configure_keystone_authtoken_middleware:438 :   iniset /etc/nova/nova.conf keystone_authtoken auth_url http://172.25.93.57/identity
+ lib/keystone:configure_keystone_authtoken_middleware:439 :   iniset /etc/nova/nova.conf keystone_authtoken username nova
+ lib/keystone:configure_keystone_authtoken_middleware:440 :   iniset /etc/nova/nova.conf keystone_authtoken password Hitachino1
+ lib/keystone:configure_keystone_authtoken_middleware:441 :   iniset /etc/nova/nova.conf keystone_authtoken user_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:442 :   iniset /etc/nova/nova.conf keystone_authtoken project_name service
+ lib/keystone:configure_keystone_authtoken_middleware:443 :   iniset /etc/nova/nova.conf keystone_authtoken project_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:445 :   iniset /etc/nova/nova.conf keystone_authtoken cafile /opt/stack/data/ca-bundle.pem
+ lib/keystone:configure_keystone_authtoken_middleware:446 :   iniset /etc/nova/nova.conf keystone_authtoken memcached_servers localhost:11211
+ lib/nova:create_nova_conf:511            :   is_service_enabled cinder
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova:create_nova_conf:512            :   configure_cinder_access
+ lib/nova:configure_cinder_access:643     :   iniset /etc/nova/nova.conf cinder os_region_name RegionOne
+ lib/nova:configure_cinder_access:644     :   iniset /etc/nova/nova.conf cinder auth_type password
+ lib/nova:configure_cinder_access:645     :   iniset /etc/nova/nova.conf cinder auth_url http://172.25.93.57/identity
+ lib/nova:configure_cinder_access:652     :   iniset /etc/nova/nova.conf cinder username nova
+ lib/nova:configure_cinder_access:653     :   iniset /etc/nova/nova.conf cinder password Hitachino1
+ lib/nova:configure_cinder_access:654     :   iniset /etc/nova/nova.conf cinder user_domain_name Default
+ lib/nova:configure_cinder_access:655     :   iniset /etc/nova/nova.conf cinder project_name service
+ lib/nova:configure_cinder_access:656     :   iniset /etc/nova/nova.conf cinder project_domain_name Default
+ lib/nova:configure_cinder_access:657     :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/nova:create_nova_conf:515            :   is_service_enabled manila
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/nova:create_nova_conf:519            :   '[' -n /opt/stack/data/nova ']'
+ lib/nova:create_nova_conf:520            :   iniset /etc/nova/nova.conf DEFAULT state_path /opt/stack/data/nova
+ lib/nova:create_nova_conf:521            :   iniset /etc/nova/nova.conf oslo_concurrency lock_path /opt/stack/data/nova
+ lib/nova:create_nova_conf:523            :   '[' -n /opt/stack/data/nova/instances ']'
+ lib/nova:create_nova_conf:524            :   iniset /etc/nova/nova.conf DEFAULT instances_path /opt/stack/data/nova/instances
+ lib/nova:create_nova_conf:526            :   '[' False '!=' False ']'
+ lib/nova:create_nova_conf:529            :   '[' False '!=' False ']'
+ lib/nova:create_nova_conf:535            :   is_fedora
+ functions-common:is_fedora:536           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:540           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:540           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:541           :   '[' Ubuntu = openEuler ']'
+ functions-common:is_fedora:542           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:543           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:544           :   '[' Ubuntu = RedHatEnterpriseLinux ']'
+ functions-common:is_fedora:545           :   '[' Ubuntu = Rocky ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:547           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = Virtuozzo ']'
+ lib/nova:create_nova_conf:540            :   setup_logging /etc/nova/nova.conf
+ functions:setup_logging:685              :   setup_systemd_logging /etc/nova/nova.conf
+ functions:setup_systemd_logging:702      :   local conf_file=/etc/nova/nova.conf
++ functions:setup_systemd_logging:707      :   trueorfalse False USE_JOURNAL
+ functions:setup_systemd_logging:707      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:708      :   local pidstr=
+ functions:setup_systemd_logging:709      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:713      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:715      :   iniset /etc/nova/nova.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ functions:setup_systemd_logging:717      :   iniset /etc/nova/nova.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ functions:setup_systemd_logging:718      :   iniset /etc/nova/nova.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ functions:setup_systemd_logging:719      :   iniset /etc/nova/nova.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ functions:setup_systemd_logging:722      :   iniset /etc/nova/nova.conf DEFAULT log_color False
+ lib/nova:create_nova_conf:542            :   iniset /etc/nova/nova.conf upgrade_levels compute auto
+ lib/nova:create_nova_conf:544            :   is_service_enabled n-api
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova:create_nova_conf:545            :   write_uwsgi_config /etc/nova/nova-api-uwsgi.ini nova.wsgi.osapi_compute:application /compute '' nova-api
+ lib/apache:write_uwsgi_config:242        :   local conf=/etc/nova/nova-api-uwsgi.ini
+ lib/apache:write_uwsgi_config:243        :   local wsgi=nova.wsgi.osapi_compute:application
+ lib/apache:write_uwsgi_config:244        :   local url=/compute
+ lib/apache:write_uwsgi_config:245        :   local http=
+ lib/apache:write_uwsgi_config:246        :   local name=nova-api
+ lib/apache:write_uwsgi_config:248        :   '[' -z nova-api ']'
+ lib/apache:write_uwsgi_config:254        :   local socket_dir=/var/run/uwsgi
+ lib/apache:write_uwsgi_config:258        :   sudo mkdir -p /etc/tmpfiles.d/
+ lib/apache:write_uwsgi_config:259        :   echo 'd /var/run/uwsgi 0755 stack root'
+ lib/apache:write_uwsgi_config:259        :   sudo tee /etc/tmpfiles.d/uwsgi.conf
d /var/run/uwsgi 0755 stack root
+ lib/apache:write_uwsgi_config:260        :   sudo systemd-tmpfiles --create /etc/tmpfiles.d/uwsgi.conf
/etc/tmpfiles.d/uwsgi.conf:1: Line references path below legacy directory /var/run/, updating /var/run/uwsgi  /run/uwsgi; please update the tmpfiles.d/ drop-in file accordingly.
+ lib/apache:write_uwsgi_config:262        :   local socket=/var/run/uwsgi/nova-api.socket
+ lib/apache:write_uwsgi_config:265        :   rm -rf /etc/nova/nova-api-uwsgi.ini
+ lib/apache:write_uwsgi_config:269        :   [[ nova.wsgi.osapi_compute:application =~ ^[a-zA-Z0-9_.]+:[a-zA-Z0-9_]+$ ]]
+ lib/apache:write_uwsgi_config:270        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi module nova.wsgi.osapi_compute:application
+ lib/apache:write_uwsgi_config:275        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi processes 2
+ lib/apache:write_uwsgi_config:277        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi master true
+ lib/apache:write_uwsgi_config:279        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi die-on-term true
+ lib/apache:write_uwsgi_config:280        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi exit-on-reload false
+ lib/apache:write_uwsgi_config:283        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi worker-reload-mercy 80
+ lib/apache:write_uwsgi_config:284        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi enable-threads true
+ lib/apache:write_uwsgi_config:285        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi plugins http,python3
+ lib/apache:write_uwsgi_config:287        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi thunder-lock true
+ lib/apache:write_uwsgi_config:289        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi hook-master-start 'unix_signal:15 gracefully_kill_them_all'
+ lib/apache:write_uwsgi_config:291        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi buffer-size 65535
+ lib/apache:write_uwsgi_config:293        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi add-header 'Connection: close'
+ lib/apache:write_uwsgi_config:295        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi lazy-apps true
+ lib/apache:write_uwsgi_config:297        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi start-time %t
+ lib/apache:write_uwsgi_config:300        :   [[ -n '' ]]
+ lib/apache:write_uwsgi_config:303        :   local apache_conf=
++ lib/apache:write_uwsgi_config:304        :   apache_site_config_for nova-api
++ lib/apache:apache_site_config_for:173    :   local site=nova-api
++ lib/apache:apache_site_config_for:174    :   is_ubuntu
++ functions-common:is_ubuntu:556           :   [[ -z deb ]]
++ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:176    :   echo /etc/apache2/sites-available/nova-api.conf
+ lib/apache:write_uwsgi_config:304        :   apache_conf=/etc/apache2/sites-available/nova-api.conf
+ lib/apache:write_uwsgi_config:305        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi socket /var/run/uwsgi/nova-api.socket
+ lib/apache:write_uwsgi_config:306        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi chmod-socket 666
+ lib/apache:write_uwsgi_config:307        :   echo 'ProxyPass "/compute" "unix:/var/run/uwsgi/nova-api.socket|uwsgi://uwsgi-uds-nova-api" retry=0 acquire=1 '
+ lib/apache:write_uwsgi_config:307        :   sudo tee -a /etc/apache2/sites-available/nova-api.conf
ProxyPass "/compute" "unix:/var/run/uwsgi/nova-api.socket|uwsgi://uwsgi-uds-nova-api" retry=0 acquire=1 
+ lib/apache:write_uwsgi_config:308        :   enable_apache_site nova-api
+ lib/apache:enable_apache_site:190        :   local site=nova-api
+ lib/apache:enable_apache_site:192        :   enable_apache_mod version
+ lib/apache:enable_apache_mod:55          :   local mod=version
+ lib/apache:enable_apache_mod:57          :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:60          :   [[ version != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_site:193        :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/apache:enable_apache_site:194        :   sudo a2ensite nova-api
Site nova-api already enabled
+ lib/apache:write_uwsgi_config:309        :   restart_apache_server
+ lib/apache:restart_apache_server:237     :   restart_service apache2
+ functions-common:restart_service:2305    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2306    :   sudo /bin/systemctl restart apache2
+ lib/nova:create_nova_conf:548            :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova:create_nova_conf:549            :   write_uwsgi_config /etc/nova/nova-metadata-uwsgi.ini nova.wsgi.metadata:application '' 0.0.0.0:8775 nova-metadata
+ lib/apache:write_uwsgi_config:242        :   local conf=/etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:write_uwsgi_config:243        :   local wsgi=nova.wsgi.metadata:application
+ lib/apache:write_uwsgi_config:244        :   local url=
+ lib/apache:write_uwsgi_config:245        :   local http=0.0.0.0:8775
+ lib/apache:write_uwsgi_config:246        :   local name=nova-metadata
+ lib/apache:write_uwsgi_config:248        :   '[' -z nova-metadata ']'
+ lib/apache:write_uwsgi_config:254        :   local socket_dir=/var/run/uwsgi
+ lib/apache:write_uwsgi_config:258        :   sudo mkdir -p /etc/tmpfiles.d/
+ lib/apache:write_uwsgi_config:259        :   sudo tee /etc/tmpfiles.d/uwsgi.conf
+ lib/apache:write_uwsgi_config:259        :   echo 'd /var/run/uwsgi 0755 stack root'
d /var/run/uwsgi 0755 stack root
+ lib/apache:write_uwsgi_config:260        :   sudo systemd-tmpfiles --create /etc/tmpfiles.d/uwsgi.conf
/etc/tmpfiles.d/uwsgi.conf:1: Line references path below legacy directory /var/run/, updating /var/run/uwsgi  /run/uwsgi; please update the tmpfiles.d/ drop-in file accordingly.
+ lib/apache:write_uwsgi_config:262        :   local socket=/var/run/uwsgi/nova-metadata.socket
+ lib/apache:write_uwsgi_config:265        :   rm -rf /etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:write_uwsgi_config:269        :   [[ nova.wsgi.metadata:application =~ ^[a-zA-Z0-9_.]+:[a-zA-Z0-9_]+$ ]]
+ lib/apache:write_uwsgi_config:270        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi module nova.wsgi.metadata:application
+ lib/apache:write_uwsgi_config:275        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi processes 2
+ lib/apache:write_uwsgi_config:277        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi master true
+ lib/apache:write_uwsgi_config:279        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi die-on-term true
+ lib/apache:write_uwsgi_config:280        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi exit-on-reload false
+ lib/apache:write_uwsgi_config:283        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi worker-reload-mercy 80
+ lib/apache:write_uwsgi_config:284        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi enable-threads true
+ lib/apache:write_uwsgi_config:285        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi plugins http,python3
+ lib/apache:write_uwsgi_config:287        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi thunder-lock true
+ lib/apache:write_uwsgi_config:289        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi hook-master-start 'unix_signal:15 gracefully_kill_them_all'
+ lib/apache:write_uwsgi_config:291        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi buffer-size 65535
+ lib/apache:write_uwsgi_config:293        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi add-header 'Connection: close'
+ lib/apache:write_uwsgi_config:295        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi lazy-apps true
+ lib/apache:write_uwsgi_config:297        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi start-time %t
+ lib/apache:write_uwsgi_config:300        :   [[ -n 0.0.0.0:8775 ]]
+ lib/apache:write_uwsgi_config:301        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi http 0.0.0.0:8775
+ lib/nova:create_nova_conf:552            :   is_service_enabled ceilometer
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/nova:create_nova_conf:560            :   iniset /etc/nova/nova.conf oslo_messaging_notifications driver messagingv2
++ lib/nova:create_nova_conf:561            :   get_notification_url
++ lib/rpc_backend:get_notification_url:136 :   local virtual_host=
++ lib/rpc_backend:get_notification_url:137 :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/rpc_backend:get_notification_url:138 :   echo rabbit://stackrabbit:Hitachino1@172.25.93.57:5672/
+ lib/nova:create_nova_conf:561            :   iniset /etc/nova/nova.conf oslo_messaging_notifications transport_url rabbit://stackrabbit:Hitachino1@172.25.93.57:5672/
+ lib/nova:create_nova_conf:562            :   iniset /etc/nova/nova.conf notifications notification_format unversioned
+ lib/nova:create_nova_conf:563            :   iniset_rpc_backend nova /etc/nova/nova.conf
+ lib/rpc_backend:iniset_rpc_backend:144   :   local package=nova
+ lib/rpc_backend:iniset_rpc_backend:145   :   local file=/etc/nova/nova.conf
+ lib/rpc_backend:iniset_rpc_backend:146   :   local section=DEFAULT
+ lib/rpc_backend:iniset_rpc_backend:147   :   local virtual_host=
+ lib/rpc_backend:iniset_rpc_backend:148   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2077 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:149   :   get_transport_url ''
++ lib/rpc_backend:get_transport_url:126    :   local virtual_host=
++ lib/rpc_backend:get_transport_url:127    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/rpc_backend:get_transport_url:128    :   echo rabbit://stackrabbit:Hitachino1@172.25.93.57:5672/
+ lib/rpc_backend:iniset_rpc_backend:149   :   iniset /etc/nova/nova.conf DEFAULT transport_url rabbit://stackrabbit:Hitachino1@172.25.93.57:5672/
+ lib/rpc_backend:iniset_rpc_backend:150   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:153   :   '[' -n '' ']'
+ lib/nova:create_nova_conf:565            :   iniset /etc/nova/nova.conf DEFAULT osapi_compute_workers 2
+ lib/nova:create_nova_conf:566            :   iniset /etc/nova/nova.conf DEFAULT metadata_workers 2
+ lib/nova:create_nova_conf:568            :   iniset /etc/nova/nova.conf conductor workers 2
+ lib/nova:create_nova_conf:570            :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/nova:create_nova_conf:575            :   iniset /etc/nova/nova.conf DEFAULT graceful_shutdown_timeout 5
+ lib/nova:create_nova_conf:577            :   '[' True == True ']'
+ lib/nova:create_nova_conf:578            :   init_nova_service_user_conf
+ lib/nova:init_nova_service_user_conf:838 :   iniset /etc/nova/nova.conf service_user send_service_user_token True
+ lib/nova:init_nova_service_user_conf:839 :   iniset /etc/nova/nova.conf service_user auth_type password
+ lib/nova:init_nova_service_user_conf:840 :   iniset /etc/nova/nova.conf service_user auth_url http://172.25.93.57/identity
+ lib/nova:init_nova_service_user_conf:841 :   iniset /etc/nova/nova.conf service_user username nova
+ lib/nova:init_nova_service_user_conf:842 :   iniset /etc/nova/nova.conf service_user password Hitachino1
+ lib/nova:init_nova_service_user_conf:843 :   iniset /etc/nova/nova.conf service_user user_domain_name Default
+ lib/nova:init_nova_service_user_conf:844 :   iniset /etc/nova/nova.conf service_user project_name service
+ lib/nova:init_nova_service_user_conf:845 :   iniset /etc/nova/nova.conf service_user project_domain_name Default
+ lib/nova:init_nova_service_user_conf:846 :   iniset /etc/nova/nova.conf service_user auth_strategy keystone
+ lib/nova:create_nova_conf:581            :   is_service_enabled n-cond
+ functions-common:is_service_enabled:2077 :   return 0
++ lib/nova:create_nova_conf:582            :   seq 1 1
+ lib/nova:create_nova_conf:582            :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:create_nova_conf:583            :   local conf
+ lib/nova:create_nova_conf:584            :   local vhost
++ lib/nova:create_nova_conf:585            :   conductor_conf 1
++ lib/nova:conductor_conf:850              :   local cell=1
++ lib/nova:conductor_conf:851              :   echo /etc/nova/nova_cell1.conf
+ lib/nova:create_nova_conf:585            :   conf=/etc/nova/nova_cell1.conf
+ lib/nova:create_nova_conf:586            :   vhost=nova_cell1
+ lib/nova:create_nova_conf:588            :   rm -f /etc/nova/nova_cell1.conf
++ lib/nova:create_nova_conf:589            :   database_connection_url nova_cell1
++ lib/database:database_connection_url:134 :   local db=nova_cell1
++ lib/database:database_connection_url:135 :   database_connection_url_mysql nova_cell1
++ lib/databases/mysql:database_connection_url_mysql:243 :   local db=nova_cell1
++ lib/databases/mysql:database_connection_url_mysql:244 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:248 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:249 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:250 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:254 :   echo 'mysql+pymysql://root:Hitachino1@127.0.0.1/nova_cell1?charset=utf8&plugin=dbcounter'
+ lib/nova:create_nova_conf:589            :   iniset /etc/nova/nova_cell1.conf database connection 'mysql+pymysql://root:Hitachino1@127.0.0.1/nova_cell1?charset=utf8&plugin=dbcounter'
+ lib/nova:create_nova_conf:590            :   iniset /etc/nova/nova_cell1.conf conductor workers 2
+ lib/nova:create_nova_conf:591            :   iniset /etc/nova/nova_cell1.conf DEFAULT debug True
+ lib/nova:create_nova_conf:593            :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:create_nova_conf:596            :   rpc_backend_add_vhost nova_cell1
+ lib/rpc_backend:rpc_backend_add_vhost:112 :   local vhost=nova_cell1
+ lib/rpc_backend:rpc_backend_add_vhost:113 :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2077 :   return 0
++ lib/rpc_backend:rpc_backend_add_vhost:114 :   sudo rabbitmqctl list_vhosts
++ lib/rpc_backend:rpc_backend_add_vhost:114 :   grep nova_cell1
+ lib/rpc_backend:rpc_backend_add_vhost:114 :   '[' -z nova_cell1 ']'
+ lib/nova:create_nova_conf:597            :   iniset_rpc_backend nova /etc/nova/nova_cell1.conf DEFAULT nova_cell1
+ lib/rpc_backend:iniset_rpc_backend:144   :   local package=nova
+ lib/rpc_backend:iniset_rpc_backend:145   :   local file=/etc/nova/nova_cell1.conf
+ lib/rpc_backend:iniset_rpc_backend:146   :   local section=DEFAULT
+ lib/rpc_backend:iniset_rpc_backend:147   :   local virtual_host=nova_cell1
+ lib/rpc_backend:iniset_rpc_backend:148   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2077 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:149   :   get_transport_url nova_cell1
++ lib/rpc_backend:get_transport_url:126    :   local virtual_host=nova_cell1
++ lib/rpc_backend:get_transport_url:127    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/rpc_backend:get_transport_url:128    :   echo rabbit://stackrabbit:Hitachino1@172.25.93.57:5672/nova_cell1
+ lib/rpc_backend:iniset_rpc_backend:149   :   iniset /etc/nova/nova_cell1.conf DEFAULT transport_url rabbit://stackrabbit:Hitachino1@172.25.93.57:5672/nova_cell1
+ lib/rpc_backend:iniset_rpc_backend:150   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:153   :   '[' -n '' ']'
+ lib/nova:create_nova_conf:601            :   is_service_enabled placement placement-client
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova:create_nova_conf:602            :   configure_placement_nova_compute /etc/nova/nova_cell1.conf
+ lib/nova:configure_placement_nova_compute:630 :   local conf=/etc/nova/nova_cell1.conf
+ lib/nova:configure_placement_nova_compute:631 :   iniset /etc/nova/nova_cell1.conf placement auth_type password
+ lib/nova:configure_placement_nova_compute:632 :   iniset /etc/nova/nova_cell1.conf placement auth_url http://172.25.93.57/identity
+ lib/nova:configure_placement_nova_compute:633 :   iniset /etc/nova/nova_cell1.conf placement username nova
+ lib/nova:configure_placement_nova_compute:634 :   iniset /etc/nova/nova_cell1.conf placement password Hitachino1
+ lib/nova:configure_placement_nova_compute:635 :   iniset /etc/nova/nova_cell1.conf placement user_domain_name Default
+ lib/nova:configure_placement_nova_compute:636 :   iniset /etc/nova/nova_cell1.conf placement project_name service
+ lib/nova:configure_placement_nova_compute:637 :   iniset /etc/nova/nova_cell1.conf placement project_domain_name Default
+ lib/nova:configure_placement_nova_compute:638 :   iniset /etc/nova/nova_cell1.conf placement region_name RegionOne
+ lib/nova:create_nova_conf:606            :   setup_logging /etc/nova/nova_cell1.conf
+ functions:setup_logging:685              :   setup_systemd_logging /etc/nova/nova_cell1.conf
+ functions:setup_systemd_logging:702      :   local conf_file=/etc/nova/nova_cell1.conf
++ functions:setup_systemd_logging:707      :   trueorfalse False USE_JOURNAL
+ functions:setup_systemd_logging:707      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:708      :   local pidstr=
+ functions:setup_systemd_logging:709      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:713      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:715      :   iniset /etc/nova/nova_cell1.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ functions:setup_systemd_logging:717      :   iniset /etc/nova/nova_cell1.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ functions:setup_systemd_logging:718      :   iniset /etc/nova/nova_cell1.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ functions:setup_systemd_logging:719      :   iniset /etc/nova/nova_cell1.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ functions:setup_systemd_logging:722      :   iniset /etc/nova/nova_cell1.conf DEFAULT log_color False
+ lib/nova:create_nova_conf:613            :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
++ lib/nova:create_nova_conf:616            :   seq 1 1
+ lib/nova:create_nova_conf:616            :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:create_nova_conf:617            :   local conf
+ lib/nova:create_nova_conf:618            :   local offset
++ lib/nova:create_nova_conf:619            :   conductor_conf 1
++ lib/nova:conductor_conf:850              :   local cell=1
++ lib/nova:conductor_conf:851              :   echo /etc/nova/nova_cell1.conf
+ lib/nova:create_nova_conf:619            :   conf=/etc/nova/nova_cell1.conf
+ lib/nova:create_nova_conf:620            :   offset=0
+ lib/nova:create_nova_conf:621            :   configure_console_proxies /etc/nova/nova_cell1.conf 0
+ lib/nova:configure_console_proxies:740   :   local conf=/etc/nova/nova_cell1.conf
+ lib/nova:configure_console_proxies:741   :   local offset=0
+ lib/nova:configure_console_proxies:745   :   offset=0
+ lib/nova:configure_console_proxies:747   :   is_service_enabled n-novnc
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova:configure_console_proxies:748   :   iniset /etc/nova/nova_cell1.conf vnc novncproxy_host 0.0.0.0
+ lib/nova:configure_console_proxies:749   :   iniset /etc/nova/nova_cell1.conf vnc novncproxy_port 6080
+ lib/nova:configure_console_proxies:751   :   is_nova_console_proxy_compute_tls_enabled
+ lib/nova:is_nova_console_proxy_compute_tls_enabled:188 :   [[ False = \T\r\u\e ]]
+ lib/nova:is_nova_console_proxy_compute_tls_enabled:189 :   return 1
+ lib/nova:configure_console_proxies:779   :   is_service_enabled n-spice
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/nova:configure_console_proxies:784   :   is_service_enabled n-sproxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/nova:configure_nova:369              :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova:configure_nova:369              :   [[ -r /opt/stack/devstack/lib/nova_plugins/hypervisor-libvirt ]]
+ lib/nova:configure_nova:371              :   configure_nova_hypervisor
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:40 :   configure_libvirt
+ lib/nova_plugins/functions-libvirt:configure_libvirt:111 :   is_service_enabled neutron
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova_plugins/functions-libvirt:configure_libvirt:111 :   sudo grep -q '^cgroup_device_acl' /etc/libvirt/qemu.conf
+ lib/nova_plugins/functions-libvirt:configure_libvirt:124 :   is_fedora
+ functions-common:is_fedora:536           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:540           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:540           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:541           :   '[' Ubuntu = openEuler ']'
+ functions-common:is_fedora:542           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:543           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:544           :   '[' Ubuntu = RedHatEnterpriseLinux ']'
+ functions-common:is_fedora:545           :   '[' Ubuntu = Rocky ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:547           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = Virtuozzo ']'
+ lib/nova_plugins/functions-libvirt:configure_libvirt:143 :   getent group libvirt
+ lib/nova_plugins/functions-libvirt:configure_libvirt:146 :   add_user_to_group stack libvirt
+ functions-common:add_user_to_group:2190  :   local user=stack
+ functions-common:add_user_to_group:2191  :   local group=libvirt
+ functions-common:add_user_to_group:2193  :   sudo usermod -a -G libvirt stack
+ lib/nova_plugins/functions-libvirt:configure_libvirt:149 :   [[ True = \T\r\u\e ]]
+ lib/nova_plugins/functions-libvirt:configure_libvirt:150 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/nova_plugins/functions-libvirt:configure_libvirt:155 :   local 'log_filters=1:libvirt.c 1:qemu 1:conf 1:security 3:object 3:event 3:json 3:file 1:util 1:cpu'
+ lib/nova_plugins/functions-libvirt:configure_libvirt:159 :   local log_outputs=1:file:/var/log/libvirt/libvirtd.log
+ lib/nova_plugins/functions-libvirt:configure_libvirt:160 :   sudo grep -q '^log_filters="1:libvirt.c 1:qemu 1:conf 1:security 3:object 3:event 3:json 3:file 1:util 1:cpu"' /etc/libvirt/libvirtd.conf
+ lib/nova_plugins/functions-libvirt:configure_libvirt:163 :   sudo grep -q '^log_outputs="1:file:/var/log/libvirt/libvirtd.log"' /etc/libvirt/libvirtd.conf
+ lib/nova_plugins/functions-libvirt:configure_libvirt:168 :   is_nova_console_proxy_compute_tls_enabled
+ lib/nova:is_nova_console_proxy_compute_tls_enabled:188 :   [[ False = \T\r\u\e ]]
+ lib/nova:is_nova_console_proxy_compute_tls_enabled:189 :   return 1
+ lib/nova_plugins/functions-libvirt:configure_libvirt:186 :   restart_service libvirtd
+ functions-common:restart_service:2305    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2306    :   sudo /bin/systemctl restart libvirtd
+ lib/nova_plugins/functions-libvirt:configure_libvirt:192 :   restart_service virtlogd
+ functions-common:restart_service:2305    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2306    :   sudo /bin/systemctl restart virtlogd
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:41 :   iniset /etc/nova/nova.conf libvirt virt_type qemu
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:42 :   iniset /etc/nova/nova.conf libvirt cpu_mode custom
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:43 :   '[' custom == custom ']'
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:44 :   iniset /etc/nova/nova.conf libvirt cpu_model Nehalem
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:47 :   iniset /etc/nova/nova.conf DEFAULT pointer_model ps2mouse
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:48 :   iniset /etc/nova/nova.conf libvirt live_migration_uri qemu+ssh://stack@%s/system
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:49 :   iniset /etc/nova/nova.conf DEFAULT default_ephemeral_format ext4
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:50 :   iniset /etc/nova/nova.conf DEFAULT compute_driver libvirt.LibvirtDriver
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:52 :   is_arch ppc64
++ functions-common:is_arch:518             :   uname -m
+ functions-common:is_arch:518             :   [[ x86_64 == \p\p\c\6\4 ]]
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:57 :   is_arch aarch64
++ functions-common:is_arch:518             :   uname -m
+ functions-common:is_arch:518             :   [[ x86_64 == \a\a\r\c\h\6\4 ]]
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:65 :   isset ENABLE_FILE_INJECTION
+ functions-common:isset:261               :   [[ -v ENABLE_FILE_INJECTION ]]
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:73 :   [[ qemu = \p\a\r\a\l\l\e\l\s ]]
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:80 :   [[ '' == \L\V\M ]]
+ ./stack.sh:main:983                      :   is_service_enabled placement
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:985                      :   stack_install_service placement
+ lib/stack:stack_install_service:20       :   local service=placement
+ lib/stack:stack_install_service:21       :   type install_placement
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_placement
+ lib/placement:install_placement:121      :   pip_install_gr osc-placement
+ inc/python:pip_install_gr:94             :   local name=osc-placement
+ inc/python:pip_install_gr:95             :   local clean_name
++ inc/python:pip_install_gr:96             :   get_from_global_requirements osc-placement
++ inc/python:get_from_global_requirements:241 :   local package=osc-placement
++ inc/python:get_from_global_requirements:242 :   local required_pkg
+++ inc/python:get_from_global_requirements:243 :   grep -i -h '^osc-placement' /opt/stack/requirements/global-requirements.txt
+++ inc/python:get_from_global_requirements:243 :   cut -d# -f1
++ inc/python:get_from_global_requirements:243 :   required_pkg='osc-placement  '
++ inc/python:get_from_global_requirements:244 :   [[ osc-placement   == '' ]]
++ inc/python:get_from_global_requirements:247 :   echo osc-placement
+ inc/python:pip_install_gr:96             :   clean_name=osc-placement
+ inc/python:pip_install_gr:97             :   pip_install osc-placement
Using python 3.10 to install osc-placement
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade osc-placement
Looking in indexes: https://pypi.org/simple/
Requirement already satisfied: osc-placement in /opt/stack/data/venv/lib/python3.10/site-packages (4.6.0)
Requirement already satisfied: pbr>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from osc-placement) (6.1.1)
Requirement already satisfied: keystoneauth1>=3.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from osc-placement) (5.10.0)
Requirement already satisfied: osc-lib>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from osc-placement) (3.2.0)
Requirement already satisfied: oslo.utils>=3.37.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from osc-placement) (8.2.0)
Requirement already satisfied: iso8601>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.3.0->osc-placement) (2.1.0)
Requirement already satisfied: requests>=2.14.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.3.0->osc-placement) (2.32.3)
Requirement already satisfied: stevedore>=1.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.3.0->osc-placement) (5.4.1)
Requirement already satisfied: os-service-types>=1.2.0 in /usr/lib/python3/dist-packages (from keystoneauth1>=3.3.0->osc-placement) (1.7.0)
Requirement already satisfied: typing-extensions>=4.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.3.0->osc-placement) (4.12.2)
Requirement already satisfied: cliff>=3.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from osc-lib>=1.2.0->osc-placement) (4.9.1)
Requirement already satisfied: openstacksdk>=0.15.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from osc-lib>=1.2.0->osc-placement) (4.4.0)
Requirement already satisfied: oslo.i18n>=3.15.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from osc-lib>=1.2.0->osc-placement) (6.5.1)
Requirement already satisfied: autopage>=0.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff>=3.2.0->osc-lib>=1.2.0->osc-placement) (0.5.2)
Requirement already satisfied: cmd2>=1.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff>=3.2.0->osc-lib>=1.2.0->osc-placement) (2.5.11)
Requirement already satisfied: PrettyTable>=0.7.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff>=3.2.0->osc-lib>=1.2.0->osc-placement) (3.14.0)
Requirement already satisfied: PyYAML>=3.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff>=3.2.0->osc-lib>=1.2.0->osc-placement) (6.0.2)
Requirement already satisfied: pyperclip>=1.8 in /opt/stack/data/venv/lib/python3.10/site-packages (from cmd2>=1.0.0->cliff>=3.2.0->osc-lib>=1.2.0->osc-placement) (1.9.0)
Requirement already satisfied: wcwidth>=0.2.10 in /opt/stack/data/venv/lib/python3.10/site-packages (from cmd2>=1.0.0->cliff>=3.2.0->osc-lib>=1.2.0->osc-placement) (0.2.13)
Requirement already satisfied: cryptography>=2.7 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.15.0->osc-lib>=1.2.0->osc-placement) (43.0.3)
Requirement already satisfied: decorator>=4.4.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.15.0->osc-lib>=1.2.0->osc-placement) (5.1.1)
Requirement already satisfied: dogpile.cache>=0.6.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.15.0->osc-lib>=1.2.0->osc-placement) (1.3.4)
Requirement already satisfied: jmespath>=0.9.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.15.0->osc-lib>=1.2.0->osc-placement) (1.0.1)
Requirement already satisfied: jsonpatch!=1.20,>=1.16 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.15.0->osc-lib>=1.2.0->osc-placement) (1.33)
Requirement already satisfied: platformdirs>=3 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.15.0->osc-lib>=1.2.0->osc-placement) (4.3.6)
Requirement already satisfied: psutil>=3.2.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.15.0->osc-lib>=1.2.0->osc-placement) (7.0.0)
Requirement already satisfied: requestsexceptions>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=0.15.0->osc-lib>=1.2.0->osc-placement) (1.4.0)
Requirement already satisfied: cffi>=1.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from cryptography>=2.7->openstacksdk>=0.15.0->osc-lib>=1.2.0->osc-placement) (1.17.1)
Requirement already satisfied: pycparser in /opt/stack/data/venv/lib/python3.10/site-packages (from cffi>=1.12->cryptography>=2.7->openstacksdk>=0.15.0->osc-lib>=1.2.0->osc-placement) (2.22)
Requirement already satisfied: jsonpointer>=1.9 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonpatch!=1.20,>=1.16->openstacksdk>=0.15.0->osc-lib>=1.2.0->osc-placement) (3.0.0)
Requirement already satisfied: netaddr>=0.10.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.37.0->osc-placement) (1.3.0)
Requirement already satisfied: debtcollector>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.37.0->osc-placement) (3.0.0)
Requirement already satisfied: pyparsing>=2.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.37.0->osc-placement) (3.2.1)
Requirement already satisfied: packaging>=20.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.37.0->osc-placement) (24.2)
Requirement already satisfied: tzdata>=2022.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.37.0->osc-placement) (2025.1)
Requirement already satisfied: wrapt>=1.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from debtcollector>=1.2.0->oslo.utils>=3.37.0->osc-placement) (1.17.2)
Requirement already satisfied: setuptools in /opt/stack/data/venv/lib/python3.10/site-packages (from pbr>=2.0.0->osc-placement) (80.9.0)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.14.2->keystoneauth1>=3.3.0->osc-placement) (3.4.1)
Requirement already satisfied: idna<4,>=2.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.14.2->keystoneauth1>=3.3.0->osc-placement) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.14.2->keystoneauth1>=3.3.0->osc-placement) (1.26.20)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests>=2.14.2->keystoneauth1>=3.3.0->osc-placement) (2020.6.20)
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760003152290
+ functions-common:time_stop:2430          :   [[ -z 1760003152290 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003154871
+ functions-common:time_stop:2434          :   elapsed_time=2581
+ functions-common:time_stop:2435          :   total=116078
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=118659
+ inc/python:pip_install:219               :   return 0
+ lib/placement:install_placement:122      :   git_clone https://opendev.org/openstack/placement.git /opt/stack/placement stable/2025.1
+ functions-common:git_clone:593           :   local git_remote=https://opendev.org/openstack/placement.git
+ functions-common:git_clone:594           :   local git_dest=/opt/stack/placement
+ functions-common:git_clone:595           :   local git_ref=stable/2025.1
+ functions-common:git_clone:596           :   local orig_dir
++ functions-common:git_clone:597           :   pwd
+ functions-common:git_clone:597           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:598           :   local git_clone_flags=
++ functions-common:git_clone:600           :   trueorfalse False RECLONE
+ functions-common:git_clone:600           :   RECLONE=False
+ functions-common:git_clone:601           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:605           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:614           :   echo stable/2025.1
+ functions-common:git_clone:614           :   egrep -q '^refs'
+ functions-common:git_clone:628           :   [[ ! -d /opt/stack/placement ]]
+ functions-common:git_clone:638           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:673           :   sudo git config --system --add safe.directory /opt/stack/placement
+ functions-common:git_clone:676           :   cd /opt/stack/placement
+ functions-common:git_clone:677           :   git show --oneline
+ functions-common:git_clone:677           :   head -1
7ebf35f0 Update TOX_CONSTRAINTS_FILE for stable/2025.1
+ functions-common:git_clone:678           :   cd /opt/stack/devstack
+ lib/placement:install_placement:123      :   setup_develop /opt/stack/placement
+ inc/python:setup_develop:354             :   local bindep
+ inc/python:setup_develop:355             :   [[ /opt/stack/placement == -bindep* ]]
+ inc/python:setup_develop:359             :   local project_dir=/opt/stack/placement
+ inc/python:setup_develop:360             :   local extras=
+ inc/python:setup_develop:361             :   _setup_package_with_constraints_edit /opt/stack/placement -e
+ inc/python:_setup_package_with_constraints_edit:380 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:381 :   [[ /opt/stack/placement == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:385 :   local project_dir=/opt/stack/placement
+ inc/python:_setup_package_with_constraints_edit:386 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:387 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:394 :   cd /opt/stack/placement
++ inc/python:_setup_package_with_constraints_edit:394 :   pwd
+ inc/python:_setup_package_with_constraints_edit:394 :   project_dir=/opt/stack/placement
+ inc/python:_setup_package_with_constraints_edit:396 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:400 :   local name
++ inc/python:_setup_package_with_constraints_edit:401 :   awk '/^name.*=/ {print $3}' /opt/stack/placement/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:401 :   name=openstack-placement
+ inc/python:_setup_package_with_constraints_edit:402 :   '[' -z openstack-placement ']'
+ inc/python:_setup_package_with_constraints_edit:406 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- openstack-placement
/opt/stack/requirements/.venv/lib/python3.10/site-packages/openstack_requirements/requirement.py:20: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
+ inc/python:_setup_package_with_constraints_edit:409 :   setup_package /opt/stack/placement -e
+ inc/python:setup_package:437             :   local bindep=0
+ inc/python:setup_package:438             :   local bindep_flag=
+ inc/python:setup_package:439             :   local bindep_profiles=
+ inc/python:setup_package:440             :   [[ /opt/stack/placement == -bindep* ]]
+ inc/python:setup_package:445             :   local project_dir=/opt/stack/placement
+ inc/python:setup_package:446             :   local flags=-e
+ inc/python:setup_package:447             :   local extras=
+ inc/python:setup_package:451             :   [[ -n -e ]]
+ inc/python:setup_package:451             :   [[ -z '' ]]
+ inc/python:setup_package:451             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:456             :   [[ ! -z '' ]]
+ inc/python:setup_package:461             :   [[ 0 == 1 ]]
+ inc/python:setup_package:465             :   pip_install -e /opt/stack/placement
Using python 3.10 to install /opt/stack/placement
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade -e /opt/stack/placement
Looking in indexes: https://pypi.org/simple/
Obtaining file:///opt/stack/placement
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: pbr>=3.1.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (6.1.1)
Requirement already satisfied: SQLAlchemy>=1.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (2.0.38)
Requirement already satisfied: keystonemiddleware>=4.18.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (10.9.0)
Requirement already satisfied: Routes>=2.3.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (2.5.1)
Requirement already satisfied: WebOb>=1.8.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (1.8.9)
Requirement already satisfied: jsonschema>=3.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (4.23.0)
Requirement already satisfied: requests>=2.25.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (2.32.3)
Requirement already satisfied: oslo.concurrency>=3.26.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (7.1.0)
Requirement already satisfied: oslo.config>=6.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (9.7.1)
Requirement already satisfied: oslo.context>=2.22.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (5.7.1)
Requirement already satisfied: oslo.log>=4.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (7.1.0)
Requirement already satisfied: oslo.serialization>=2.25.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (5.7.0)
Requirement already satisfied: oslo.utils>=4.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (8.2.0)
Requirement already satisfied: oslo.db>=8.6.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (17.2.1)
Requirement already satisfied: oslo.policy>=4.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (4.5.1)
Requirement already satisfied: oslo.middleware>=3.31.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (6.3.1)
Requirement already satisfied: oslo.upgradecheck>=1.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (2.5.0)
Requirement already satisfied: os-resource-classes>=1.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (1.1.0)
Requirement already satisfied: os-traits>=3.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (3.3.0)
Requirement already satisfied: microversion-parse>=0.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstack-placement==13.0.1.dev2) (2.0.0)
Requirement already satisfied: attrs>=22.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->openstack-placement==13.0.1.dev2) (25.1.0)
Requirement already satisfied: jsonschema-specifications>=2023.03.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->openstack-placement==13.0.1.dev2) (2024.10.1)
Requirement already satisfied: referencing>=0.28.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->openstack-placement==13.0.1.dev2) (0.36.2)
Requirement already satisfied: rpds-py>=0.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonschema>=3.2.0->openstack-placement==13.0.1.dev2) (0.23.1)
Requirement already satisfied: keystoneauth1>=3.12.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.18.0->openstack-placement==13.0.1.dev2) (5.10.0)
Requirement already satisfied: oslo.cache>=1.26.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.18.0->openstack-placement==13.0.1.dev2) (3.10.2)
Requirement already satisfied: oslo.i18n>=3.15.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.18.0->openstack-placement==13.0.1.dev2) (6.5.1)
Requirement already satisfied: pycadf>=1.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.18.0->openstack-placement==13.0.1.dev2) (4.0.1)
Requirement already satisfied: PyJWT>=2.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.18.0->openstack-placement==13.0.1.dev2) (2.10.1)
Requirement already satisfied: python-keystoneclient>=3.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystonemiddleware>=4.18.0->openstack-placement==13.0.1.dev2) (5.6.0)
Requirement already satisfied: iso8601>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.12.0->keystonemiddleware>=4.18.0->openstack-placement==13.0.1.dev2) (2.1.0)
Requirement already satisfied: stevedore>=1.20.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.12.0->keystonemiddleware>=4.18.0->openstack-placement==13.0.1.dev2) (5.4.1)
Requirement already satisfied: os-service-types>=1.2.0 in /usr/lib/python3/dist-packages (from keystoneauth1>=3.12.0->keystonemiddleware>=4.18.0->openstack-placement==13.0.1.dev2) (1.7.0)
Requirement already satisfied: typing-extensions>=4.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from keystoneauth1>=3.12.0->keystonemiddleware>=4.18.0->openstack-placement==13.0.1.dev2) (4.12.2)
Requirement already satisfied: dogpile.cache>=1.3.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.cache>=1.26.0->keystonemiddleware>=4.18.0->openstack-placement==13.0.1.dev2) (1.3.4)
Requirement already satisfied: debtcollector>=3.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.cache>=1.26.0->keystonemiddleware>=4.18.0->openstack-placement==13.0.1.dev2) (3.0.0)
Requirement already satisfied: wrapt>=1.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from debtcollector>=3.0.0->oslo.cache>=1.26.0->keystonemiddleware>=4.18.0->openstack-placement==13.0.1.dev2) (1.17.2)
Requirement already satisfied: decorator>=4.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from dogpile.cache>=1.3.3->oslo.cache>=1.26.0->keystonemiddleware>=4.18.0->openstack-placement==13.0.1.dev2) (5.1.1)
Requirement already satisfied: fasteners>=0.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.concurrency>=3.26.0->openstack-placement==13.0.1.dev2) (0.19)
Requirement already satisfied: netaddr>=0.7.18 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=6.7.0->openstack-placement==13.0.1.dev2) (1.3.0)
Requirement already satisfied: rfc3986>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=6.7.0->openstack-placement==13.0.1.dev2) (2.0.0)
Requirement already satisfied: PyYAML>=5.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=6.7.0->openstack-placement==13.0.1.dev2) (6.0.2)
Requirement already satisfied: alembic>=0.9.6 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.db>=8.6.0->openstack-placement==13.0.1.dev2) (1.14.1)
Requirement already satisfied: testresources>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.db>=8.6.0->openstack-placement==13.0.1.dev2) (2.0.1)
Requirement already satisfied: testscenarios>=0.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.db>=8.6.0->openstack-placement==13.0.1.dev2) (0.5.0)
Requirement already satisfied: Mako in /opt/stack/data/venv/lib/python3.10/site-packages (from alembic>=0.9.6->oslo.db>=8.6.0->openstack-placement==13.0.1.dev2) (1.3.9)
Requirement already satisfied: python-dateutil>=2.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.log>=4.3.0->openstack-placement==13.0.1.dev2) (2.9.0.post0)
Requirement already satisfied: Jinja2>=2.10 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.middleware>=3.31.0->openstack-placement==13.0.1.dev2) (3.1.5)
Requirement already satisfied: statsd>=3.2.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.middleware>=3.31.0->openstack-placement==13.0.1.dev2) (4.0.1)
Requirement already satisfied: bcrypt>=3.1.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.middleware>=3.31.0->openstack-placement==13.0.1.dev2) (4.0.1)
Requirement already satisfied: MarkupSafe>=2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from Jinja2>=2.10->oslo.middleware>=3.31.0->openstack-placement==13.0.1.dev2) (3.0.2)
Requirement already satisfied: msgpack>=0.5.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.serialization>=2.25.0->openstack-placement==13.0.1.dev2) (1.1.0)
Requirement already satisfied: tzdata>=2022.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.serialization>=2.25.0->openstack-placement==13.0.1.dev2) (2025.1)
Requirement already satisfied: PrettyTable>=0.7.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.upgradecheck>=1.3.0->openstack-placement==13.0.1.dev2) (3.14.0)
Requirement already satisfied: pyparsing>=2.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=4.5.0->openstack-placement==13.0.1.dev2) (3.2.1)
Requirement already satisfied: packaging>=20.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=4.5.0->openstack-placement==13.0.1.dev2) (24.2)
Requirement already satisfied: psutil>=3.2.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=4.5.0->openstack-placement==13.0.1.dev2) (7.0.0)
Requirement already satisfied: setuptools in /opt/stack/data/venv/lib/python3.10/site-packages (from pbr>=3.1.1->openstack-placement==13.0.1.dev2) (80.9.0)
Requirement already satisfied: wcwidth in /opt/stack/data/venv/lib/python3.10/site-packages (from PrettyTable>=0.7.1->oslo.upgradecheck>=1.3.0->openstack-placement==13.0.1.dev2) (0.2.13)
Requirement already satisfied: six>=1.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-dateutil>=2.7.0->oslo.log>=4.3.0->openstack-placement==13.0.1.dev2) (1.17.0)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.25.0->openstack-placement==13.0.1.dev2) (3.4.1)
Requirement already satisfied: idna<4,>=2.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.25.0->openstack-placement==13.0.1.dev2) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.25.0->openstack-placement==13.0.1.dev2) (1.26.20)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests>=2.25.0->openstack-placement==13.0.1.dev2) (2020.6.20)
Requirement already satisfied: repoze.lru>=0.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from Routes>=2.3.1->openstack-placement==13.0.1.dev2) (0.7)
Requirement already satisfied: greenlet!=0.4.17 in /opt/stack/data/venv/lib/python3.10/site-packages (from SQLAlchemy>=1.4.0->openstack-placement==13.0.1.dev2) (3.1.1)
Requirement already satisfied: testtools in /opt/stack/data/venv/lib/python3.10/site-packages (from testscenarios>=0.4->oslo.db>=8.6.0->openstack-placement==13.0.1.dev2) (2.7.2)
Installing collected packages: openstack-placement
  Attempting uninstall: openstack-placement
    Found existing installation: openstack-placement 13.0.1.dev2
    Uninstalling openstack-placement-13.0.1.dev2:
      Successfully uninstalled openstack-placement-13.0.1.dev2
  DEPRECATION: Legacy editable install of openstack-placement==13.0.1.dev2 from file:///opt/stack/placement (setup.py develop) is deprecated. pip 25.3 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457
  Running setup.py develop for openstack-placement
Successfully installed openstack-placement-13.0.1.dev2
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760003155875
+ functions-common:time_stop:2430          :   [[ -z 1760003155875 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003169574
+ functions-common:time_stop:2434          :   elapsed_time=13699
+ functions-common:time_stop:2435          :   total=118659
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=132358
+ inc/python:pip_install:219               :   return 0
+ inc/python:setup_package:467             :   [[ -e == \-\e ]]
+ inc/python:setup_package:467             :   [[ True == \F\a\l\s\e ]]
+ inc/python:_setup_package_with_constraints_edit:413 :   use_library_from_git /opt/stack/placement
+ inc/python:use_library_from_git:266      :   local name=/opt/stack/placement
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,/opt/stack/placement, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:986                      :   configure_placement
+ lib/placement:configure_placement:86     :   sudo install -d -o stack /etc/placement
+ lib/placement:configure_placement:87     :   create_placement_conf
+ lib/placement:create_placement_conf:76   :   rm -f /etc/placement/placement.conf
++ lib/placement:create_placement_conf:77   :   database_connection_url placement
++ lib/database:database_connection_url:134 :   local db=placement
++ lib/database:database_connection_url:135 :   database_connection_url_mysql placement
++ lib/databases/mysql:database_connection_url_mysql:243 :   local db=placement
++ lib/databases/mysql:database_connection_url_mysql:244 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:248 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:249 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:250 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:254 :   echo 'mysql+pymysql://root:Hitachino1@127.0.0.1/placement?charset=utf8&plugin=dbcounter'
+ lib/placement:create_placement_conf:77   :   iniset /etc/placement/placement.conf placement_database connection 'mysql+pymysql://root:Hitachino1@127.0.0.1/placement?charset=utf8&plugin=dbcounter'
+ lib/placement:create_placement_conf:78   :   iniset /etc/placement/placement.conf DEFAULT debug True
+ lib/placement:create_placement_conf:79   :   iniset /etc/placement/placement.conf api auth_strategy keystone
+ lib/placement:create_placement_conf:80   :   configure_keystone_authtoken_middleware /etc/placement/placement.conf placement
+ lib/keystone:configure_keystone_authtoken_middleware:432 :   local conf_file=/etc/placement/placement.conf
+ lib/keystone:configure_keystone_authtoken_middleware:433 :   local admin_user=placement
+ lib/keystone:configure_keystone_authtoken_middleware:434 :   local section=keystone_authtoken
+ lib/keystone:configure_keystone_authtoken_middleware:436 :   iniset /etc/placement/placement.conf keystone_authtoken auth_type password
+ lib/keystone:configure_keystone_authtoken_middleware:437 :   iniset /etc/placement/placement.conf keystone_authtoken interface public
+ lib/keystone:configure_keystone_authtoken_middleware:438 :   iniset /etc/placement/placement.conf keystone_authtoken auth_url http://172.25.93.57/identity
+ lib/keystone:configure_keystone_authtoken_middleware:439 :   iniset /etc/placement/placement.conf keystone_authtoken username placement
+ lib/keystone:configure_keystone_authtoken_middleware:440 :   iniset /etc/placement/placement.conf keystone_authtoken password Hitachino1
+ lib/keystone:configure_keystone_authtoken_middleware:441 :   iniset /etc/placement/placement.conf keystone_authtoken user_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:442 :   iniset /etc/placement/placement.conf keystone_authtoken project_name service
+ lib/keystone:configure_keystone_authtoken_middleware:443 :   iniset /etc/placement/placement.conf keystone_authtoken project_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:445 :   iniset /etc/placement/placement.conf keystone_authtoken cafile /opt/stack/data/ca-bundle.pem
+ lib/keystone:configure_keystone_authtoken_middleware:446 :   iniset /etc/placement/placement.conf keystone_authtoken memcached_servers localhost:11211
+ lib/placement:create_placement_conf:81   :   setup_logging /etc/placement/placement.conf
+ functions:setup_logging:685              :   setup_systemd_logging /etc/placement/placement.conf
+ functions:setup_systemd_logging:702      :   local conf_file=/etc/placement/placement.conf
++ functions:setup_systemd_logging:707      :   trueorfalse False USE_JOURNAL
+ functions:setup_systemd_logging:707      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:708      :   local pidstr=
+ functions:setup_systemd_logging:709      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:713      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:715      :   iniset /etc/placement/placement.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ functions:setup_systemd_logging:717      :   iniset /etc/placement/placement.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ functions:setup_systemd_logging:718      :   iniset /etc/placement/placement.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ functions:setup_systemd_logging:719      :   iniset /etc/placement/placement.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ functions:setup_systemd_logging:722      :   iniset /etc/placement/placement.conf DEFAULT log_color False
+ lib/placement:configure_placement:89     :   write_uwsgi_config /etc/placement/placement-uwsgi.ini placement.wsgi.api:application /placement '' placement-api
+ lib/apache:write_uwsgi_config:242        :   local conf=/etc/placement/placement-uwsgi.ini
+ lib/apache:write_uwsgi_config:243        :   local wsgi=placement.wsgi.api:application
+ lib/apache:write_uwsgi_config:244        :   local url=/placement
+ lib/apache:write_uwsgi_config:245        :   local http=
+ lib/apache:write_uwsgi_config:246        :   local name=placement-api
+ lib/apache:write_uwsgi_config:248        :   '[' -z placement-api ']'
+ lib/apache:write_uwsgi_config:254        :   local socket_dir=/var/run/uwsgi
+ lib/apache:write_uwsgi_config:258        :   sudo mkdir -p /etc/tmpfiles.d/
+ lib/apache:write_uwsgi_config:259        :   echo 'd /var/run/uwsgi 0755 stack root'
+ lib/apache:write_uwsgi_config:259        :   sudo tee /etc/tmpfiles.d/uwsgi.conf
d /var/run/uwsgi 0755 stack root
+ lib/apache:write_uwsgi_config:260        :   sudo systemd-tmpfiles --create /etc/tmpfiles.d/uwsgi.conf
/etc/tmpfiles.d/uwsgi.conf:1: Line references path below legacy directory /var/run/, updating /var/run/uwsgi  /run/uwsgi; please update the tmpfiles.d/ drop-in file accordingly.
+ lib/apache:write_uwsgi_config:262        :   local socket=/var/run/uwsgi/placement-api.socket
+ lib/apache:write_uwsgi_config:265        :   rm -rf /etc/placement/placement-uwsgi.ini
+ lib/apache:write_uwsgi_config:269        :   [[ placement.wsgi.api:application =~ ^[a-zA-Z0-9_.]+:[a-zA-Z0-9_]+$ ]]
+ lib/apache:write_uwsgi_config:270        :   iniset /etc/placement/placement-uwsgi.ini uwsgi module placement.wsgi.api:application
+ lib/apache:write_uwsgi_config:275        :   iniset /etc/placement/placement-uwsgi.ini uwsgi processes 2
+ lib/apache:write_uwsgi_config:277        :   iniset /etc/placement/placement-uwsgi.ini uwsgi master true
+ lib/apache:write_uwsgi_config:279        :   iniset /etc/placement/placement-uwsgi.ini uwsgi die-on-term true
+ lib/apache:write_uwsgi_config:280        :   iniset /etc/placement/placement-uwsgi.ini uwsgi exit-on-reload false
+ lib/apache:write_uwsgi_config:283        :   iniset /etc/placement/placement-uwsgi.ini uwsgi worker-reload-mercy 80
+ lib/apache:write_uwsgi_config:284        :   iniset /etc/placement/placement-uwsgi.ini uwsgi enable-threads true
+ lib/apache:write_uwsgi_config:285        :   iniset /etc/placement/placement-uwsgi.ini uwsgi plugins http,python3
+ lib/apache:write_uwsgi_config:287        :   iniset /etc/placement/placement-uwsgi.ini uwsgi thunder-lock true
+ lib/apache:write_uwsgi_config:289        :   iniset /etc/placement/placement-uwsgi.ini uwsgi hook-master-start 'unix_signal:15 gracefully_kill_them_all'
+ lib/apache:write_uwsgi_config:291        :   iniset /etc/placement/placement-uwsgi.ini uwsgi buffer-size 65535
+ lib/apache:write_uwsgi_config:293        :   iniset /etc/placement/placement-uwsgi.ini uwsgi add-header 'Connection: close'
+ lib/apache:write_uwsgi_config:295        :   iniset /etc/placement/placement-uwsgi.ini uwsgi lazy-apps true
+ lib/apache:write_uwsgi_config:297        :   iniset /etc/placement/placement-uwsgi.ini uwsgi start-time %t
+ lib/apache:write_uwsgi_config:300        :   [[ -n '' ]]
+ lib/apache:write_uwsgi_config:303        :   local apache_conf=
++ lib/apache:write_uwsgi_config:304        :   apache_site_config_for placement-api
++ lib/apache:apache_site_config_for:173    :   local site=placement-api
++ lib/apache:apache_site_config_for:174    :   is_ubuntu
++ functions-common:is_ubuntu:556           :   [[ -z deb ]]
++ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:176    :   echo /etc/apache2/sites-available/placement-api.conf
+ lib/apache:write_uwsgi_config:304        :   apache_conf=/etc/apache2/sites-available/placement-api.conf
+ lib/apache:write_uwsgi_config:305        :   iniset /etc/placement/placement-uwsgi.ini uwsgi socket /var/run/uwsgi/placement-api.socket
+ lib/apache:write_uwsgi_config:306        :   iniset /etc/placement/placement-uwsgi.ini uwsgi chmod-socket 666
+ lib/apache:write_uwsgi_config:307        :   echo 'ProxyPass "/placement" "unix:/var/run/uwsgi/placement-api.socket|uwsgi://uwsgi-uds-placement-api" retry=0 acquire=1 '
+ lib/apache:write_uwsgi_config:307        :   sudo tee -a /etc/apache2/sites-available/placement-api.conf
ProxyPass "/placement" "unix:/var/run/uwsgi/placement-api.socket|uwsgi://uwsgi-uds-placement-api" retry=0 acquire=1 
+ lib/apache:write_uwsgi_config:308        :   enable_apache_site placement-api
+ lib/apache:enable_apache_site:190        :   local site=placement-api
+ lib/apache:enable_apache_site:192        :   enable_apache_mod version
+ lib/apache:enable_apache_mod:55          :   local mod=version
+ lib/apache:enable_apache_mod:57          :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:60          :   [[ version != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_site:193        :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/apache:enable_apache_site:194        :   sudo a2ensite placement-api
Site placement-api already enabled
+ lib/apache:write_uwsgi_config:309        :   restart_apache_server
+ lib/apache:restart_apache_server:237     :   restart_service apache2
+ functions-common:restart_service:2305    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2306    :   sudo /bin/systemctl restart apache2
+ lib/placement:configure_placement:90     :   [[ False == \T\r\u\e ]]
+ lib/placement:configure_placement:90     :   [[ False == \T\r\u\e ]]
+ lib/placement:configure_placement:94     :   iniset /etc/placement/placement.conf oslo_policy enforce_new_defaults False
+ lib/placement:configure_placement:95     :   iniset /etc/placement/placement.conf oslo_policy enforce_scope False
+ ./stack.sh:main:993                      :   is_service_enabled placement placement-client
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:994                      :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:995                      :   configure_placement_nova_compute
+ lib/nova:configure_placement_nova_compute:630 :   local conf=/etc/nova/nova.conf
+ lib/nova:configure_placement_nova_compute:631 :   iniset /etc/nova/nova.conf placement auth_type password
+ lib/nova:configure_placement_nova_compute:632 :   iniset /etc/nova/nova.conf placement auth_url http://172.25.93.57/identity
+ lib/nova:configure_placement_nova_compute:633 :   iniset /etc/nova/nova.conf placement username nova
+ lib/nova:configure_placement_nova_compute:634 :   iniset /etc/nova/nova.conf placement password Hitachino1
+ lib/nova:configure_placement_nova_compute:635 :   iniset /etc/nova/nova.conf placement user_domain_name Default
+ lib/nova:configure_placement_nova_compute:636 :   iniset /etc/nova/nova.conf placement project_name service
+ lib/nova:configure_placement_nova_compute:637 :   iniset /etc/nova/nova.conf placement project_domain_name Default
+ lib/nova:configure_placement_nova_compute:638 :   iniset /etc/nova/nova.conf placement region_name RegionOne
+ ./stack.sh:main:999                      :   is_service_enabled horizon
+ functions-common:is_service_enabled:2077 :   return 1
+ ./stack.sh:main:1004                     :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ ./stack.sh:main:1012                     :   run_phase stack install
+ functions-common:run_phase:1849          :   local mode=stack
+ functions-common:run_phase:1850          :   local phase=install
+ functions-common:run_phase:1851          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1852          :   local extra_plugin_file_name
+ functions-common:run_phase:1853          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1858          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1859          :   local extra
++ functions-common:run_phase:1860          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1860          :   extra=80-tempest.sh
+ functions-common:run_phase:1861          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1865          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1865          :   source /opt/stack/devstack/extras.d/80-tempest.sh stack install
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2077 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ stack == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:7          :   [[ install == \i\n\s\t\a\l\l ]]
++ extras.d/80-tempest.sh:source:8          :   echo_summary 'Installing Tempest'
++ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
++ ./stack.sh:echo_summary:468              :   echo -e Installing Tempest
++ extras.d/80-tempest.sh:source:9          :   async_runfunc install_tempest
++ inc/async:async_runfunc:116              :   async_run install_tempest install_tempest
++ inc/async:async_inner:63                 :   install_tempest
[1115705 Async install_tempest:1142358]: running: install_tempest
++ extras.d/80-tempest.sh:source:27         :   [[ stack == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ stack == \c\l\e\a\n ]]
+ functions-common:run_phase:1870          :   [[ stack == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1873          :   [[ stack == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1876          :   run_plugins stack install
+ functions-common:run_plugins:1835        :   local mode=stack
+ functions-common:run_plugins:1836        :   local phase=install
+ functions-common:run_plugins:1838        :   local plugins=
+ functions-common:run_plugins:1839        :   local plugin
+ ./stack.sh:main:1015                     :   use_library_from_git python-openstackclient
+ inc/python:use_library_from_git:266      :   local name=python-openstackclient
+ inc/python:use_library_from_git:267      :   local enabled=1
+ inc/python:use_library_from_git:268      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:268      :   [[ ,, =~ ,python-openstackclient, ]]
+ inc/python:use_library_from_git:269      :   return 1
+ ./stack.sh:main:1019                     :   pip_install_gr python-openstackclient
+ inc/python:pip_install_gr:94             :   local name=python-openstackclient
+ inc/python:pip_install_gr:95             :   local clean_name
++ inc/python:pip_install_gr:96             :   get_from_global_requirements python-openstackclient
++ inc/python:get_from_global_requirements:241 :   local package=python-openstackclient
++ inc/python:get_from_global_requirements:242 :   local required_pkg
+++ inc/python:get_from_global_requirements:243 :   grep -i -h '^python-openstackclient' /opt/stack/requirements/global-requirements.txt
+++ inc/python:get_from_global_requirements:243 :   cut -d# -f1
++ inc/python:get_from_global_requirements:243 :   required_pkg='python-openstackclient!=7.3.0,!=7.3.1  '
++ inc/python:get_from_global_requirements:244 :   [[ python-openstackclient!=7.3.0,!=7.3.1   == '' ]]
++ inc/python:get_from_global_requirements:247 :   echo 'python-openstackclient!=7.3.0,!=7.3.1'
+ inc/python:pip_install_gr:96             :   clean_name='python-openstackclient!=7.3.0,!=7.3.1'
+ inc/python:pip_install_gr:97             :   pip_install 'python-openstackclient!=7.3.0,!=7.3.1'
Using python 3.10 to install python-openstackclient!=7.3.0,!=7.3.1
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade 'python-openstackclient!=7.3.0,!=7.3.1'
Looking in indexes: https://pypi.org/simple/
Requirement already satisfied: python-openstackclient!=7.3.0,!=7.3.1 in /opt/stack/data/venv/lib/python3.10/site-packages (7.5.0)
Requirement already satisfied: pbr!=2.1.0,>=2.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-openstackclient!=7.3.0,!=7.3.1) (6.1.1)
Requirement already satisfied: cryptography>=2.7 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-openstackclient!=7.3.0,!=7.3.1) (43.0.3)
Requirement already satisfied: cliff>=3.5.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-openstackclient!=7.3.0,!=7.3.1) (4.9.1)
Requirement already satisfied: iso8601>=0.1.11 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-openstackclient!=7.3.0,!=7.3.1) (2.1.0)
Requirement already satisfied: openstacksdk>=3.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-openstackclient!=7.3.0,!=7.3.1) (4.4.0)
Requirement already satisfied: osc-lib>=2.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-openstackclient!=7.3.0,!=7.3.1) (3.2.0)
Requirement already satisfied: oslo.i18n>=3.15.3 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-openstackclient!=7.3.0,!=7.3.1) (6.5.1)
Requirement already satisfied: python-keystoneclient>=3.22.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-openstackclient!=7.3.0,!=7.3.1) (5.6.0)
Requirement already satisfied: python-cinderclient>=3.3.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-openstackclient!=7.3.0,!=7.3.1) (9.7.0)
Requirement already satisfied: requests>=2.27.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-openstackclient!=7.3.0,!=7.3.1) (2.32.3)
Requirement already satisfied: stevedore>=2.0.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-openstackclient!=7.3.0,!=7.3.1) (5.4.1)
Requirement already satisfied: autopage>=0.4.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff>=3.5.0->python-openstackclient!=7.3.0,!=7.3.1) (0.5.2)
Requirement already satisfied: cmd2>=1.0.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff>=3.5.0->python-openstackclient!=7.3.0,!=7.3.1) (2.5.11)
Requirement already satisfied: PrettyTable>=0.7.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff>=3.5.0->python-openstackclient!=7.3.0,!=7.3.1) (3.14.0)
Requirement already satisfied: PyYAML>=3.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from cliff>=3.5.0->python-openstackclient!=7.3.0,!=7.3.1) (6.0.2)
Requirement already satisfied: pyperclip>=1.8 in /opt/stack/data/venv/lib/python3.10/site-packages (from cmd2>=1.0.0->cliff>=3.5.0->python-openstackclient!=7.3.0,!=7.3.1) (1.9.0)
Requirement already satisfied: wcwidth>=0.2.10 in /opt/stack/data/venv/lib/python3.10/site-packages (from cmd2>=1.0.0->cliff>=3.5.0->python-openstackclient!=7.3.0,!=7.3.1) (0.2.13)
Requirement already satisfied: cffi>=1.12 in /opt/stack/data/venv/lib/python3.10/site-packages (from cryptography>=2.7->python-openstackclient!=7.3.0,!=7.3.1) (1.17.1)
Requirement already satisfied: pycparser in /opt/stack/data/venv/lib/python3.10/site-packages (from cffi>=1.12->cryptography>=2.7->python-openstackclient!=7.3.0,!=7.3.1) (2.22)
Requirement already satisfied: decorator>=4.4.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=3.3.0->python-openstackclient!=7.3.0,!=7.3.1) (5.1.1)
Requirement already satisfied: dogpile.cache>=0.6.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=3.3.0->python-openstackclient!=7.3.0,!=7.3.1) (1.3.4)
Requirement already satisfied: jmespath>=0.9.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=3.3.0->python-openstackclient!=7.3.0,!=7.3.1) (1.0.1)
Requirement already satisfied: jsonpatch!=1.20,>=1.16 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=3.3.0->python-openstackclient!=7.3.0,!=7.3.1) (1.33)
Requirement already satisfied: keystoneauth1>=3.18.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=3.3.0->python-openstackclient!=7.3.0,!=7.3.1) (5.10.0)
Requirement already satisfied: os-service-types>=1.7.0 in /usr/lib/python3/dist-packages (from openstacksdk>=3.3.0->python-openstackclient!=7.3.0,!=7.3.1) (1.7.0)
Requirement already satisfied: platformdirs>=3 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=3.3.0->python-openstackclient!=7.3.0,!=7.3.1) (4.3.6)
Requirement already satisfied: psutil>=3.2.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=3.3.0->python-openstackclient!=7.3.0,!=7.3.1) (7.0.0)
Requirement already satisfied: requestsexceptions>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=3.3.0->python-openstackclient!=7.3.0,!=7.3.1) (1.4.0)
Requirement already satisfied: typing-extensions>=4.12.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from openstacksdk>=3.3.0->python-openstackclient!=7.3.0,!=7.3.1) (4.12.2)
Requirement already satisfied: jsonpointer>=1.9 in /opt/stack/data/venv/lib/python3.10/site-packages (from jsonpatch!=1.20,>=1.16->openstacksdk>=3.3.0->python-openstackclient!=7.3.0,!=7.3.1) (3.0.0)
Requirement already satisfied: oslo.utils>=3.33.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from osc-lib>=2.3.0->python-openstackclient!=7.3.0,!=7.3.1) (8.2.0)
Requirement already satisfied: netaddr>=0.10.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.33.0->osc-lib>=2.3.0->python-openstackclient!=7.3.0,!=7.3.1) (1.3.0)
Requirement already satisfied: debtcollector>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.33.0->osc-lib>=2.3.0->python-openstackclient!=7.3.0,!=7.3.1) (3.0.0)
Requirement already satisfied: pyparsing>=2.1.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.33.0->osc-lib>=2.3.0->python-openstackclient!=7.3.0,!=7.3.1) (3.2.1)
Requirement already satisfied: packaging>=20.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.33.0->osc-lib>=2.3.0->python-openstackclient!=7.3.0,!=7.3.1) (24.2)
Requirement already satisfied: tzdata>=2022.4 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.utils>=3.33.0->osc-lib>=2.3.0->python-openstackclient!=7.3.0,!=7.3.1) (2025.1)
Requirement already satisfied: wrapt>=1.7.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from debtcollector>=1.2.0->oslo.utils>=3.33.0->osc-lib>=2.3.0->python-openstackclient!=7.3.0,!=7.3.1) (1.17.2)
Requirement already satisfied: setuptools in /opt/stack/data/venv/lib/python3.10/site-packages (from pbr!=2.1.0,>=2.0.0->python-openstackclient!=7.3.0,!=7.3.1) (80.9.0)
Requirement already satisfied: oslo.config>=5.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-keystoneclient>=3.22.0->python-openstackclient!=7.3.0,!=7.3.1) (9.7.1)
Requirement already satisfied: oslo.serialization>=2.18.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from python-keystoneclient>=3.22.0->python-openstackclient!=7.3.0,!=7.3.1) (5.7.0)
Requirement already satisfied: rfc3986>=1.2.0 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.config>=5.2.0->python-keystoneclient>=3.22.0->python-openstackclient!=7.3.0,!=7.3.1) (2.0.0)
Requirement already satisfied: msgpack>=0.5.2 in /opt/stack/data/venv/lib/python3.10/site-packages (from oslo.serialization>=2.18.0->python-keystoneclient>=3.22.0->python-openstackclient!=7.3.0,!=7.3.1) (1.1.0)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.27.0->python-openstackclient!=7.3.0,!=7.3.1) (3.4.1)
Requirement already satisfied: idna<4,>=2.5 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.27.0->python-openstackclient!=7.3.0,!=7.3.1) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/stack/data/venv/lib/python3.10/site-packages (from requests>=2.27.0->python-openstackclient!=7.3.0,!=7.3.1) (1.26.20)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests>=2.27.0->python-openstackclient!=7.3.0,!=7.3.1) (2020.6.20)
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760003176269
+ functions-common:time_stop:2430          :   [[ -z 1760003176269 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003178857
+ functions-common:time_stop:2434          :   elapsed_time=2588
+ functions-common:time_stop:2435          :   total=132358
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=134946
+ inc/python:pip_install:219               :   return 0
+ ./stack.sh:main:1020                     :   is_service_enabled openstack-cli-server
+ functions-common:is_service_enabled:2077 :   return 1
+ ./stack.sh:main:1027                     :   install_oscwrap
++ functions-common:install_oscwrap:2471    :   mktemp
+ functions-common:install_oscwrap:2471    :   OSCWRAP_TIMER_FILE=/tmp/tmp.BTNsIOfn3T
+ functions-common:install_oscwrap:2474    :   shopt -s expand_aliases
+ functions-common:install_oscwrap:2477    :   unalias -a
+ functions-common:install_oscwrap:2479    :   alias openstack=oscwrap
+ ./stack.sh:main:1032                     :   [[ False != \F\a\l\s\e ]]
+ ./stack.sh:main:1072                     :   '[' -f /opt/stack/data/ca-bundle.pem ']'
+ ./stack.sh:main:1080                     :   is_service_enabled mysql postgresql
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1081                     :   configure_database
+ lib/database:configure_database:128      :   configure_database_mysql
+ lib/databases/mysql:configure_database_mysql:66 :   local my_conf mysql slow_log my_client_conf
+ lib/databases/mysql:configure_database_mysql:67 :   echo_summary 'Configuring and starting MySQL'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Configuring and starting MySQL
+ lib/databases/mysql:configure_database_mysql:69 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/databases/mysql:configure_database_mysql:70 :   my_conf=/etc/mysql/my.cnf
+ lib/databases/mysql:configure_database_mysql:84 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/databases/mysql:configure_database_mysql:85 :   is_fips_enabled
++ functions-common:is_fips_enabled:2542    :   cat /proc/sys/crypto/fips_enabled
cat: /proc/sys/crypto/fips_enabled: No such file or directory
+ functions-common:is_fips_enabled:2542    :   fips=
+ functions-common:is_fips_enabled:2543    :   '[' '' == 1 ']'
++ lib/databases/mysql:configure_database_mysql:93 :   ipv6_unquote 0.0.0.0
++ functions-common:ipv6_unquote:2219       :   echo 0.0.0.0
++ functions-common:ipv6_unquote:2219       :   tr -d '[]'
+ lib/databases/mysql:configure_database_mysql:93 :   iniset -sudo /etc/mysql/my.cnf mysqld bind-address 0.0.0.0
+ lib/databases/mysql:configure_database_mysql:96 :   is_fedora
+ functions-common:is_fedora:536           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:540           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:540           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:541           :   '[' Ubuntu = openEuler ']'
+ functions-common:is_fedora:542           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:543           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:544           :   '[' Ubuntu = RedHatEnterpriseLinux ']'
+ functions-common:is_fedora:545           :   '[' Ubuntu = Rocky ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:546           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:547           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:548           :   '[' Ubuntu = Virtuozzo ']'
+ lib/databases/mysql:configure_database_mysql:99 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/databases/mysql:configure_database_mysql:101 :   restart_service mysql
+ functions-common:restart_service:2305    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2306    :   sudo /bin/systemctl restart mysql
+ lib/databases/mysql:configure_database_mysql:110 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/databases/mysql:configure_database_mysql:110 :   [[ ! jammy =~ bookworm|bullseye ]]
+ lib/databases/mysql:configure_database_mysql:110 :   '[' mysql == mariadb ']'
+ lib/databases/mysql:configure_database_mysql:111 :   sudo mysqladmin -u root password Hitachino1
mysqladmin: [Warning] Using a password on the command line interface can be insecure.
Warning: Since password will be sent to server in plain text, use ssl connection to ensure password safety.
+ lib/databases/mysql:configure_database_mysql:116 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/databases/mysql:configure_database_mysql:116 :   '[' mysql == mariadb ']'
+ lib/databases/mysql:configure_database_mysql:119 :   local 'cmd_args=-uroot -pHitachino1 -h127.0.0.1 '
+ lib/databases/mysql:configure_database_mysql:126 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/databases/mysql:configure_database_mysql:126 :   [[ ! jammy =~ bookworm|bullseye ]]
+ lib/databases/mysql:configure_database_mysql:126 :   '[' mysql == mariadb ']'
+ lib/databases/mysql:configure_database_mysql:131 :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/databases/mysql:configure_database_mysql:131 :   [[ ! jammy =~ bookworm|bullseye ]]
+ lib/databases/mysql:configure_database_mysql:131 :   '[' mysql == mariadb ']'
+ lib/databases/mysql:configure_database_mysql:133 :   sudo mysql -uroot -pHitachino1 -h127.0.0.1 -e 'CREATE USER IF NOT EXISTS '\''root'\''@'\''%'\'' identified by '\''Hitachino1'\'';'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:configure_database_mysql:135 :   sudo mysql -uroot -pHitachino1 -h127.0.0.1 -e 'GRANT ALL PRIVILEGES ON *.* TO '\''root'\''@'\''%'\'';'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:configure_database_mysql:141 :   iniset -sudo /etc/mysql/my.cnf mysqld sql_mode TRADITIONAL
+ lib/databases/mysql:configure_database_mysql:142 :   iniset -sudo /etc/mysql/my.cnf mysqld default-storage-engine InnoDB
+ lib/databases/mysql:configure_database_mysql:143 :   iniset -sudo /etc/mysql/my.cnf mysqld max_connections 1024
+ lib/databases/mysql:configure_database_mysql:145 :   [[ False == \T\r\u\e ]]
+ lib/databases/mysql:configure_database_mysql:165 :   [[ True == \T\r\u\e ]]
+ lib/databases/mysql:configure_database_mysql:166 :   echo 'enabling MySQL performance counting'
enabling MySQL performance counting
+ lib/databases/mysql:configure_database_mysql:169 :   pip_install /opt/stack/devstack/tools/dbcounter
Using python 3.10 to install /opt/stack/devstack/tools/dbcounter
+ inc/python:pip_install:210               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/data/venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt --upgrade /opt/stack/devstack/tools/dbcounter
Looking in indexes: https://pypi.org/simple/
Processing ./tools/dbcounter
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Building wheels for collected packages: dbcounter
  Building wheel for dbcounter (pyproject.toml): started
  Building wheel for dbcounter (pyproject.toml): finished with status 'done'
  Created wheel for dbcounter: filename=dbcounter-0.1-py3-none-any.whl size=3229 sha256=8f73fac8a885b55a7042e1338e1f9d8ff3593b2351d95f3b22ebc58d82c9b223
  Stored in directory: /tmp/pip-ephem-wheel-cache-t7te87zu/wheels/e3/83/d0/d5edd61a93218f4a1789af99bf08ab7f0ad72cdcbde06f9d11
Successfully built dbcounter
Installing collected packages: dbcounter
  Attempting uninstall: dbcounter
    Found existing installation: dbcounter 0.1
    Uninstalling dbcounter-0.1:
      Successfully uninstalled dbcounter-0.1
Successfully installed dbcounter-0.1
+ inc/python:pip_install:216               :   result=0
+ inc/python:pip_install:218               :   time_stop pip_install
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=pip_install
+ functions-common:time_stop:2428          :   start_time=1760003186396
+ functions-common:time_stop:2430          :   [[ -z 1760003186396 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003194006
+ functions-common:time_stop:2434          :   elapsed_time=7610
+ functions-common:time_stop:2435          :   total=134946
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=142556
+ inc/python:pip_install:219               :   return 0
+ lib/databases/mysql:configure_database_mysql:172 :   recreate_database stats
+ lib/database:recreate_database:112       :   local db=stats
+ lib/database:recreate_database:113       :   recreate_database_mysql stats
+ lib/databases/mysql:recreate_database_mysql:60 :   local db=stats
+ lib/databases/mysql:recreate_database_mysql:61 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS stats;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:62 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'CREATE DATABASE stats CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:configure_database_mysql:173 :   mysql -u root -pHitachino1 -h 127.0.0.1 -e 'CREATE TABLE queries (db VARCHAR(32), op VARCHAR(32),
                count INT, PRIMARY KEY (db, op)) ENGINE MEMORY' stats
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:configure_database_mysql:178 :   [[ True == \T\r\u\e ]]
+ lib/databases/mysql:configure_database_mysql:179 :   iniset -sudo /etc/mysql/my.cnf mysqld read_buffer_size 64K
+ lib/databases/mysql:configure_database_mysql:180 :   iniset -sudo /etc/mysql/my.cnf mysqld innodb_buffer_pool_size 16M
+ lib/databases/mysql:configure_database_mysql:181 :   iniset -sudo /etc/mysql/my.cnf mysqld thread_stack 192K
+ lib/databases/mysql:configure_database_mysql:182 :   iniset -sudo /etc/mysql/my.cnf mysqld thread_cache_size 8
+ lib/databases/mysql:configure_database_mysql:183 :   iniset -sudo /etc/mysql/my.cnf mysqld tmp_table_size 8M
+ lib/databases/mysql:configure_database_mysql:184 :   iniset -sudo /etc/mysql/my.cnf mysqld sort_buffer_size 8M
+ lib/databases/mysql:configure_database_mysql:185 :   iniset -sudo /etc/mysql/my.cnf mysqld max_allowed_packet 8M
+ lib/databases/mysql:configure_database_mysql:188 :   restart_service mysql
+ functions-common:restart_service:2305    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2306    :   sudo /bin/systemctl restart mysql
+ ./stack.sh:main:1085                     :   save_stackenv 1085
+ functions-common:save_stackenv:60        :   local tag=1085
++ functions-common:save_stackenv:62        :   date +%F-%H%M%S
+ functions-common:save_stackenv:62        :   time_stamp=2025-10-09-024640
+ functions-common:save_stackenv:63        :   echo '# 2025-10-09-024640 1085'
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo BASE_SQL_CONN=mysql+pymysql://root:Hitachino1@127.0.0.1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo DATA_DIR=/opt/stack/data
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo DEST=/opt/stack
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo ENABLED_SERVICES=c-api,c-bak,c-sch,c-vol,cinder,etcd3,g-api,g-reg,key,mysql,n-api,n-api-meta,n-cauth,n-cond,n-cpu,n-novnc,n-obj,n-sch,placement-api,q-agt,q-dhcp,q-l3,q-meta,q-metering,q-svc,rabbit,s-account,s-container,s-object,s-proxy,tempest
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo HOST_IP=172.25.93.57
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo KEYSTONE_SERVICE_URI=http://172.25.93.57/identity
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo LOGFILE=/opt/stack/logs/stack.sh.log.2025-10-09-024151
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo OS_CACERT=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo SERVICE_HOST=172.25.93.57
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo STACK_USER=stack
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TLS_IP=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo HOST_IPV6=::1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo SERVICE_IP_VERSION=4
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TUNNEL_ENDPOINT_IP=172.25.93.57
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TUNNEL_IP_VERSION=4
+ ./stack.sh:main:1095                     :   start_dstat
+ lib/dstat:start_dstat:31                 :   run_process dstat '/opt/stack/devstack/tools/dstat.sh /opt/stack/logs'
+ functions-common:run_process:1675        :   local service=dstat
+ functions-common:run_process:1676        :   local 'command=/opt/stack/devstack/tools/dstat.sh /opt/stack/logs'
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=dstat
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003200595
+ functions-common:run_process:1684        :   is_service_enabled dstat
+ functions-common:is_service_enabled:2077 :   return 1
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003200595
+ functions-common:time_stop:2430          :   [[ -z 1760003200595 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003200739
+ functions-common:time_stop:2434          :   elapsed_time=144
+ functions-common:time_stop:2435          :   total=0
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=144
+ lib/dstat:start_dstat:36                 :   run_process memory_tracker /opt/stack/devstack/tools/memory_tracker.sh '' root
+ functions-common:run_process:1675        :   local service=memory_tracker
+ functions-common:run_process:1676        :   local command=/opt/stack/devstack/tools/memory_tracker.sh
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=root
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=memory_tracker
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003200882
+ functions-common:run_process:1684        :   is_service_enabled memory_tracker
+ functions-common:is_service_enabled:2077 :   return 1
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003200882
+ functions-common:time_stop:2430          :   [[ -z 1760003200882 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003201033
+ functions-common:time_stop:2434          :   elapsed_time=151
+ functions-common:time_stop:2435          :   total=144
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=295
+ lib/dstat:start_dstat:40                 :   is_service_enabled peakmem_tracker
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/dstat:start_dstat:47                 :   run_process file_tracker /opt/stack/devstack/tools/file_tracker.sh
+ functions-common:run_process:1675        :   local service=file_tracker
+ functions-common:run_process:1676        :   local command=/opt/stack/devstack/tools/file_tracker.sh
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=file_tracker
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003201234
+ functions-common:run_process:1684        :   is_service_enabled file_tracker
+ functions-common:is_service_enabled:2077 :   return 1
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003201234
+ functions-common:time_stop:2430          :   [[ -z 1760003201234 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003201370
+ functions-common:time_stop:2434          :   elapsed_time=136
+ functions-common:time_stop:2435          :   total=295
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=431
+ ./stack.sh:main:1097                     :   is_service_enabled atop
+ functions-common:is_service_enabled:2077 :   return 1
+ ./stack.sh:main:1105                     :   is_service_enabled tcpdump
+ functions-common:is_service_enabled:2077 :   return 1
+ ./stack.sh:main:1113                     :   is_service_enabled etcd3
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1114                     :   start_etcd3
+ lib/etcd3:start_etcd3:41                 :   local cmd=/opt/stack/bin/etcd
+ lib/etcd3:start_etcd3:42                 :   cmd+=' --name devstack-u2204-93-57 --data-dir /opt/stack/data/etcd'
+ lib/etcd3:start_etcd3:43                 :   cmd+=' --initial-cluster-state new --initial-cluster-token etcd-cluster-01'
+ lib/etcd3:start_etcd3:44                 :   cmd+=' --initial-cluster devstack-u2204-93-57=http://172.25.93.57:2380'
+ lib/etcd3:start_etcd3:45                 :   cmd+=' --initial-advertise-peer-urls http://172.25.93.57:2380'
+ lib/etcd3:start_etcd3:46                 :   cmd+=' --advertise-client-urls http://172.25.93.57:2379'
+ lib/etcd3:start_etcd3:47                 :   '[' 0.0.0.0 == :: ']'
+ lib/etcd3:start_etcd3:50                 :   cmd+=' --listen-peer-urls http://0.0.0.0:2380 '
+ lib/etcd3:start_etcd3:52                 :   cmd+=' --listen-client-urls http://172.25.93.57:2379'
+ lib/etcd3:start_etcd3:53                 :   '[' True == True ']'
+ lib/etcd3:start_etcd3:54                 :   cmd+=' --log-level=debug'
+ lib/etcd3:start_etcd3:57                 :   local unitfile=/etc/systemd/system/devstack@etcd.service
+ lib/etcd3:start_etcd3:58                 :   write_user_unit_file devstack@etcd.service '/opt/stack/bin/etcd --name devstack-u2204-93-57 --data-dir /opt/stack/data/etcd --initial-cluster-state new --initial-cluster-token etcd-cluster-01 --initial-cluster devstack-u2204-93-57=http://172.25.93.57:2380 --initial-advertise-peer-urls http://172.25.93.57:2380 --advertise-client-urls http://172.25.93.57:2379 --listen-peer-urls http://0.0.0.0:2380  --listen-client-urls http://172.25.93.57:2379 --log-level=debug' '' root
+ functions-common:write_user_unit_file:1539 :   local service=devstack@etcd.service
+ functions-common:write_user_unit_file:1540 :   local 'command=/opt/stack/bin/etcd --name devstack-u2204-93-57 --data-dir /opt/stack/data/etcd --initial-cluster-state new --initial-cluster-token etcd-cluster-01 --initial-cluster devstack-u2204-93-57=http://172.25.93.57:2380 --initial-advertise-peer-urls http://172.25.93.57:2380 --advertise-client-urls http://172.25.93.57:2379 --listen-peer-urls http://0.0.0.0:2380  --listen-client-urls http://172.25.93.57:2379 --log-level=debug'
+ functions-common:write_user_unit_file:1541 :   local group=
+ functions-common:write_user_unit_file:1542 :   local user=root
+ functions-common:write_user_unit_file:1543 :   local env_vars=
+ functions-common:write_user_unit_file:1544 :   local extra=
+ functions-common:write_user_unit_file:1545 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1548 :   local unitfile=/etc/systemd/system/devstack@etcd.service
+ functions-common:write_user_unit_file:1549 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1551 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Unit Description 'Devstack devstack@etcd.service'
+ functions-common:write_user_unit_file:1552 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service Environment '"PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin"'
+ functions-common:write_user_unit_file:1553 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service User root
+ functions-common:write_user_unit_file:1554 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service ExecStart '/opt/stack/bin/etcd --name devstack-u2204-93-57 --data-dir /opt/stack/data/etcd --initial-cluster-state new --initial-cluster-token etcd-cluster-01 --initial-cluster devstack-u2204-93-57=http://172.25.93.57:2380 --initial-advertise-peer-urls http://172.25.93.57:2380 --advertise-client-urls http://172.25.93.57:2379 --listen-peer-urls http://0.0.0.0:2380  --listen-client-urls http://172.25.93.57:2379 --log-level=debug'
+ functions-common:write_user_unit_file:1555 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service KillMode process
+ functions-common:write_user_unit_file:1556 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service TimeoutStopSec 300
+ functions-common:write_user_unit_file:1557 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ functions-common:write_user_unit_file:1558 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1561 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1564 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Install WantedBy multi-user.target
+ functions-common:write_user_unit_file:1567 :   sudo systemctl daemon-reload
+ lib/etcd3:start_etcd3:60                 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Unit After network.target
+ lib/etcd3:start_etcd3:61                 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service Type notify
+ lib/etcd3:start_etcd3:62                 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service Restart on-failure
+ lib/etcd3:start_etcd3:63                 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service LimitNOFILE 65536
+ lib/etcd3:start_etcd3:64                 :   is_arch aarch64
++ functions-common:is_arch:518             :   uname -m
+ functions-common:is_arch:518             :   [[ x86_64 == \a\a\r\c\h\6\4 ]]
+ lib/etcd3:start_etcd3:68                 :   sudo systemctl daemon-reload
+ lib/etcd3:start_etcd3:69                 :   sudo systemctl enable devstack@etcd.service
+ lib/etcd3:start_etcd3:70                 :   sudo systemctl start devstack@etcd.service
+ ./stack.sh:main:1120                     :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ ./stack.sh:main:1125                     :   write_clouds_yaml
+ functions-common:write_clouds_yaml:79    :   CLOUDS_YAML=/etc/openstack/clouds.yaml
++ functions-common:write_clouds_yaml:81    :   dirname /etc/openstack/clouds.yaml
+ functions-common:write_clouds_yaml:81    :   sudo mkdir -p /etc/openstack
+ functions-common:write_clouds_yaml:82    :   sudo chown -R stack /etc/openstack
+ functions-common:write_clouds_yaml:84    :   CA_CERT_ARG=
+ functions-common:write_clouds_yaml:85    :   '[' -f /opt/stack/data/ca-bundle.pem ']'
+ functions-common:write_clouds_yaml:89    :   /opt/stack/data/venv/bin/python3 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack --os-region-name RegionOne --os-auth-url http://172.25.93.57/identity --os-username demo --os-password Hitachino1 --os-project-name demo
+ functions-common:write_clouds_yaml:100   :   /opt/stack/data/venv/bin/python3 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-admin --os-region-name RegionOne --os-auth-url http://172.25.93.57/identity --os-username admin --os-password Hitachino1 --os-project-name admin
+ functions-common:write_clouds_yaml:111   :   /opt/stack/data/venv/bin/python3 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-admin-demo --os-region-name RegionOne --os-auth-url http://172.25.93.57/identity --os-username admin --os-password Hitachino1 --os-project-name demo
+ functions-common:write_clouds_yaml:122   :   /opt/stack/data/venv/bin/python3 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-alt --os-region-name RegionOne --os-auth-url http://172.25.93.57/identity --os-username alt_demo --os-password Hitachino1 --os-project-name alt_demo
+ functions-common:write_clouds_yaml:133   :   /opt/stack/data/venv/bin/python3 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-alt-member --os-region-name RegionOne --os-auth-url http://172.25.93.57/identity --os-username alt_demo_member --os-password Hitachino1 --os-project-name alt_demo
+ functions-common:write_clouds_yaml:144   :   /opt/stack/data/venv/bin/python3 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-alt-reader --os-region-name RegionOne --os-auth-url http://172.25.93.57/identity --os-username alt_demo_reader --os-password Hitachino1 --os-project-name alt_demo
+ functions-common:write_clouds_yaml:155   :   /opt/stack/data/venv/bin/python3 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-reader --os-region-name RegionOne --os-auth-url http://172.25.93.57/identity --os-username demo_reader --os-password Hitachino1 --os-project-name demo
+ functions-common:write_clouds_yaml:166   :   /opt/stack/data/venv/bin/python3 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-system-admin --os-region-name RegionOne --os-auth-url http://172.25.93.57/identity --os-username admin --os-password Hitachino1 --os-system-scope all
+ functions-common:write_clouds_yaml:177   :   /opt/stack/data/venv/bin/python3 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-system-member --os-region-name RegionOne --os-auth-url http://172.25.93.57/identity --os-username system_member --os-password Hitachino1 --os-system-scope all
+ functions-common:write_clouds_yaml:188   :   /opt/stack/data/venv/bin/python3 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-system-reader --os-region-name RegionOne --os-auth-url http://172.25.93.57/identity --os-username system_reader --os-password Hitachino1 --os-system-scope all
+ functions-common:write_clouds_yaml:198   :   cat
++ functions-common:write_clouds_yaml:204   :   eval echo '~stack'
+++ functions-common:write_clouds_yaml:204   :   echo /opt/stack
+ functions-common:write_clouds_yaml:204   :   rm -f /opt/stack/.config/openstack/clouds.yaml
+ ./stack.sh:main:1126                     :   export OS_CLOUD=devstack-admin
+ ./stack.sh:main:1126                     :   OS_CLOUD=devstack-admin
+ ./stack.sh:main:1128                     :   is_service_enabled keystone
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1129                     :   echo_summary 'Starting Keystone'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Starting Keystone
+ ./stack.sh:main:1131                     :   '[' 172.25.93.57 == 172.25.93.57 ']'
+ ./stack.sh:main:1132                     :   init_keystone
+ lib/keystone:init_keystone:458           :   is_service_enabled ldap
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/keystone:init_keystone:462           :   [[ True == True ]]
+ lib/keystone:init_keystone:464           :   recreate_database keystone
+ lib/database:recreate_database:112       :   local db=keystone
+ lib/database:recreate_database:113       :   recreate_database_mysql keystone
+ lib/databases/mysql:recreate_database_mysql:60 :   local db=keystone
+ lib/databases/mysql:recreate_database_mysql:61 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS keystone;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:62 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'CREATE DATABASE keystone CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/keystone:init_keystone:467           :   time_start dbsync
+ functions-common:time_start:2407         :   local name=dbsync
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003208465
+ lib/keystone:init_keystone:469           :   /opt/stack/data/venv/bin/keystone-manage --config-file /etc/keystone/keystone.conf db_sync
++ inc/async:async_inner:64                 :   rc=0
[1142358 Async install_tempest:1142358]: finished successfully
INFO dbcounter [[00;36m-] [01;35mRegistered counter for database keystone[00m
DEBUG oslo_db.sqlalchemy.engines [[00;36m-] [01;35mMySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION[00m [00;33m{{(pid=1144672) _check_effective_sql_mode /opt/stack/data/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/engines.py:397}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mContext impl MySQLImpl.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mWill assume non-transactional DDL.[00m
DEBUG dbcounter [[00;36m-] [01;35m[1144672] Writer thread running[00m [00;33m{{(pid=1144672) stat_writer /opt/stack/data/venv/lib/python3.10/site-packages/dbcounter.py:102}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade  -> 27e647c0fad4, Initial version.[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mnew branch insert 27e647c0fad4[00m [00;33m{{(pid=1144672) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:826}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 27e647c0fad4 -> 29e87d24a316, Initial no-op Yoga expand migration.[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 27e647c0fad4 to 29e87d24a316[00m [00;33m{{(pid=1144672) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 29e87d24a316 -> b4f8b3f584e0, Fix incorrect constraints.[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 29e87d24a316 to b4f8b3f584e0[00m [00;33m{{(pid=1144672) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade b4f8b3f584e0 -> 11c3b243b4cb, Remove service_provider.relay_state_prefix server default.[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate b4f8b3f584e0 to 11c3b243b4cb[00m [00;33m{{(pid=1144672) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 11c3b243b4cb -> 47147121, Add Identity Federation attribute mapping schema version.[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 11c3b243b4cb to 47147121[00m [00;33m{{(pid=1144672) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 27e647c0fad4 -> e25ffa003242, Initial no-op Yoga contract migration.[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mnew branch insert e25ffa003242[00m [00;33m{{(pid=1144672) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:826}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade e25ffa003242 -> 99de3849d860, Fix incorrect constraints.[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate e25ffa003242 to 99de3849d860[00m [00;33m{{(pid=1144672) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 99de3849d860 -> c88cdce8f248, Remove duplicate constraints.[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 99de3849d860 to c88cdce8f248[00m [00;33m{{(pid=1144672) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
+ lib/keystone:init_keystone:470           :   time_stop dbsync
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=dbsync
+ functions-common:time_stop:2428          :   start_time=1760003208465
+ functions-common:time_stop:2430          :   [[ -z 1760003208465 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003215339
+ functions-common:time_stop:2434          :   elapsed_time=6874
+ functions-common:time_stop:2435          :   total=0
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=6874
+ lib/keystone:init_keystone:472           :   [[ fernet == \f\e\r\n\e\t ]]
+ lib/keystone:init_keystone:473           :   rm -rf /etc/keystone/fernet-keys/
+ lib/keystone:init_keystone:474           :   /opt/stack/data/venv/bin/keystone-manage --config-file /etc/keystone/keystone.conf fernet_setup
INFO keystone.common.utils [[00;36m-] [01;35m/etc/keystone/fernet-keys/ does not appear to exist; attempting to create it[00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mCreated a new temporary key: /etc/keystone/fernet-keys/0.tmp[00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mBecome a valid new key: /etc/keystone/fernet-keys/0[00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mStarting key rotation with 1 key files: ['/etc/keystone/fernet-keys/0'][00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mCreated a new temporary key: /etc/keystone/fernet-keys/0.tmp[00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mCurrent primary key is: 0[00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mNext primary key will be: 1[00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mPromoted key 0 to be the primary: 1[00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mBecome a valid new key: /etc/keystone/fernet-keys/0[00m
+ lib/keystone:init_keystone:476           :   rm -rf /etc/keystone/credential-keys/
+ lib/keystone:init_keystone:477           :   /opt/stack/data/venv/bin/keystone-manage --config-file /etc/keystone/keystone.conf credential_setup
INFO keystone.common.utils [[00;36m-] [01;35m/etc/keystone/credential-keys/ does not appear to exist; attempting to create it[00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mCreated a new temporary key: /etc/keystone/credential-keys/0.tmp[00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mBecome a valid new key: /etc/keystone/credential-keys/0[00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mStarting key rotation with 1 key files: ['/etc/keystone/credential-keys/0'][00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mCreated a new temporary key: /etc/keystone/credential-keys/0.tmp[00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mCurrent primary key is: 0[00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mNext primary key will be: 1[00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mPromoted key 0 to be the primary: 1[00m
INFO keystone.common.fernet_utils [[00;36m-] [01;35mBecome a valid new key: /etc/keystone/credential-keys/0[00m
+ ./stack.sh:main:1133                     :   start_keystone
+ lib/keystone:start_keystone:531          :   local service_port=5000
+ lib/keystone:start_keystone:532          :   local auth_protocol=http
+ lib/keystone:start_keystone:533          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
++ lib/keystone:start_keystone:538          :   which uwsgi
+ lib/keystone:start_keystone:538          :   run_process keystone '/usr/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini' ''
+ functions-common:run_process:1675        :   local service=keystone
+ functions-common:run_process:1676        :   local 'command=/usr/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini'
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=keystone
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003221178
+ functions-common:run_process:1684        :   is_service_enabled keystone
+ functions-common:is_service_enabled:2077 :   return 0
+ functions-common:run_process:1685        :   _run_under_systemd keystone '/usr/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini' '' '' ''
+ functions-common:_run_under_systemd:1632 :   local service=keystone
+ functions-common:_run_under_systemd:1633 :   local 'command=/usr/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini'
+ functions-common:_run_under_systemd:1634 :   local 'cmd=/usr/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini'
+ functions-common:_run_under_systemd:1636 :   _common_systemd_pitfalls '/usr/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini'
+ functions-common:_common_systemd_pitfalls:1604 :   local 'cmd=/usr/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini'
+ functions-common:_common_systemd_pitfalls:1607 :   [[ /usr/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1618 :   [[ ! /usr/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1638 :   local systemd_service=devstack@keystone.service
+ functions-common:_run_under_systemd:1639 :   local group=
+ functions-common:_run_under_systemd:1640 :   local user=stack
+ functions-common:_run_under_systemd:1641 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1644 :   local env_vars=
+ functions-common:_run_under_systemd:1645 :   [[ /usr/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1646 :   [[ True == \T\r\u\e ]]
+ functions-common:_run_under_systemd:1647 :   cmd='/usr/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini --venv /opt/stack/data/venv'
+ functions-common:_run_under_systemd:1649 :   write_uwsgi_user_unit_file devstack@keystone.service '/usr/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini --venv /opt/stack/data/venv' '' stack ''
+ functions-common:write_uwsgi_user_unit_file:1571 :   local service=devstack@keystone.service
+ functions-common:write_uwsgi_user_unit_file:1572 :   local 'command=/usr/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini --venv /opt/stack/data/venv'
+ functions-common:write_uwsgi_user_unit_file:1573 :   local group=
+ functions-common:write_uwsgi_user_unit_file:1574 :   local user=stack
+ functions-common:write_uwsgi_user_unit_file:1575 :   local env_vars=
+ functions-common:write_uwsgi_user_unit_file:1576 :   local unitfile=/etc/systemd/system/devstack@keystone.service
+ functions-common:write_uwsgi_user_unit_file:1577 :   mkdir -p /etc/systemd/system
+ functions-common:write_uwsgi_user_unit_file:1579 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Unit Description 'Devstack devstack@keystone.service'
+ functions-common:write_uwsgi_user_unit_file:1580 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service Environment '"PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin"'
+ functions-common:write_uwsgi_user_unit_file:1581 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service SyslogIdentifier devstack@keystone.service
+ functions-common:write_uwsgi_user_unit_file:1582 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service User stack
+ functions-common:write_uwsgi_user_unit_file:1583 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service ExecStart '/usr/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini --venv /opt/stack/data/venv'
+ functions-common:write_uwsgi_user_unit_file:1584 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ functions-common:write_uwsgi_user_unit_file:1585 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service Type notify
+ functions-common:write_uwsgi_user_unit_file:1586 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service KillMode process
+ functions-common:write_uwsgi_user_unit_file:1587 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service Restart always
+ functions-common:write_uwsgi_user_unit_file:1588 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service NotifyAccess all
+ functions-common:write_uwsgi_user_unit_file:1589 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service RestartForceExitStatus 100
+ functions-common:write_uwsgi_user_unit_file:1591 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1594 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1597 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Install WantedBy multi-user.target
+ functions-common:write_uwsgi_user_unit_file:1600 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1654 :   sudo systemctl enable devstack@keystone.service
+ functions-common:_run_under_systemd:1655 :   sudo systemctl start devstack@keystone.service
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003221178
+ functions-common:time_stop:2430          :   [[ -z 1760003221178 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003224800
+ functions-common:time_stop:2434          :   elapsed_time=3622
+ functions-common:time_stop:2435          :   total=431
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=4053
+ lib/keystone:start_keystone:540          :   echo 'Waiting for keystone to start...'
Waiting for keystone to start...
+ lib/keystone:start_keystone:546          :   local service_uri=http://172.25.93.57/identity/v3/
+ lib/keystone:start_keystone:548          :   wait_for_service 60 http://172.25.93.57/identity/v3/
+ functions:wait_for_service:468           :   local timeout=60
+ functions:wait_for_service:469           :   local url=http://172.25.93.57/identity/v3/
+ functions:wait_for_service:470           :   local rval=0
+ functions:wait_for_service:471           :   time_start wait_for_service
+ functions-common:time_start:2407         :   local name=wait_for_service
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003224934
+ functions:wait_for_service:472           :   timeout 60 bash -x
++ ::                                       :   curl -g -k --noproxy '*' -s -o /dev/null -w '%{http_code}' http://172.25.93.57/identity/v3/
+ ::                                       :   [[ 200 == 503 ]]
+ ::                                       :   [[ 0 -eq 7 ]]
+ functions:wait_for_service:477           :   time_stop wait_for_service
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=wait_for_service
+ functions-common:time_stop:2428          :   start_time=1760003224934
+ functions-common:time_stop:2430          :   [[ -z 1760003224934 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003225087
+ functions-common:time_stop:2434          :   elapsed_time=153
+ functions-common:time_stop:2435          :   total=0
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=153
+ functions:wait_for_service:478           :   return 0
+ lib/keystone:start_keystone:553          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/keystone:start_keystone:558          :   restart_service memcached
+ functions-common:restart_service:2305    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2306    :   sudo /bin/systemctl restart memcached
+ ./stack.sh:main:1134                     :   bootstrap_keystone
+ lib/keystone:bootstrap_keystone:573      :   /opt/stack/data/venv/bin/keystone-manage bootstrap --bootstrap-username admin --bootstrap-password Hitachino1 --bootstrap-project-name admin --bootstrap-role-name admin --bootstrap-service-name keystone --bootstrap-region-id RegionOne --bootstrap-public-url http://172.25.93.57/identity
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.application_credential.core.Manager._delete_app_creds_on_user_delete_callback` subscribed to event `identity.user.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.application_credential.core.Manager._delete_app_creds_on_user_delete_callback` subscribed to event `identity.user.disabled`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.application_credential.core.Manager._delete_app_creds_on_assignment_removal` subscribed to event `identity.remove_application_credentials_for_user.internal`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.assignment.core.Manager._delete_domain_assignments` subscribed to event `identity.domain.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.catalog.core.Manager._on_project_or_endpoint_delete` subscribed to event `identity.project.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.catalog.core.Manager._on_project_or_endpoint_delete` subscribed to event `identity.endpoint.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.federation.core.Manager._cleanup_identity_provider` subscribed to event `identity.domain_deleted.internal`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.identity.core.Manager._domain_deleted` subscribed to event `identity.domain_deleted.internal`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.identity.core.Manager._unset_default_project` subscribed to event `identity.project.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.revoke.core.Manager._trust_callback` subscribed to event `identity.OS-TRUST:trust.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.revoke.core.Manager._consumer_callback` subscribed to event `identity.OS-OAUTH1:consumer.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.revoke.core.Manager._user_callback` subscribed to event `identity.user.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.revoke.core.Manager._project_callback` subscribed to event `identity.project.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.revoke.core.Manager._user_callback` subscribed to event `identity.user.disabled`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.revoke.core.Manager._user_callback` subscribed to event `identity.persist_revocation_event_for_user.internal`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.receipt.provider.Manager._drop_receipt_cache` subscribed to event `identity.OS-TRUST:trust.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.receipt.provider.Manager._drop_receipt_cache` subscribed to event `identity.user.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.receipt.provider.Manager._drop_receipt_cache` subscribed to event `identity.domain.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.receipt.provider.Manager._drop_receipt_cache` subscribed to event `identity.user.disabled`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.receipt.provider.Manager._drop_receipt_cache` subscribed to event `identity.domain.disabled`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.receipt.provider.Manager._drop_receipt_cache` subscribed to event `identity.project.disabled`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.receipt.provider.Manager._drop_receipt_cache` subscribed to event `identity.invalidate_token_cache.internal`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.trust.core.Manager._on_user_delete` subscribed to event `identity.user.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.token.provider.Manager._drop_token_cache` subscribed to event `identity.OS-TRUST:trust.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.token.provider.Manager._drop_token_cache` subscribed to event `identity.user.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.token.provider.Manager._drop_token_cache` subscribed to event `identity.domain.deleted`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.token.provider.Manager._drop_token_cache` subscribed to event `identity.user.disabled`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.token.provider.Manager._drop_token_cache` subscribed to event `identity.domain.disabled`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.token.provider.Manager._drop_token_cache` subscribed to event `identity.project.disabled`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
DEBUG keystone.notifications [[00;36m-] [01;35mCallback: `keystone.token.provider.Manager._drop_token_cache` subscribed to event `identity.invalidate_token_cache.internal`.[00m [00;33m{{(pid=1145559) register_event_callback /opt/stack/keystone/keystone/notifications.py:413}}[00m
INFO dbcounter [[00;36m-] [01;35mRegistered counter for database keystone[00m
DEBUG oslo_db.sqlalchemy.engines [[00;36m-] [01;35mMySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION[00m [00;33m{{(pid=1145559) _check_effective_sql_mode /opt/stack/data/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/engines.py:397}}[00m
DEBUG dbcounter [[00;36m-] [01;35m[1145559] Writer thread running[00m [00;33m{{(pid=1145559) stat_writer /opt/stack/data/venv/lib/python3.10/site-packages/dbcounter.py:102}}[00m
INFO keystone.cmd.bootstrap [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mCreated domain default[00m
INFO keystone.cmd.bootstrap [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mCreated project admin[00m
WARNING keystone.common.password_hashing [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mTruncating password to algorithm specific maximum length 72 characters.[00m: keystone.exception.UserNotFound: Could not find user: admin.
INFO keystone.cmd.bootstrap [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mCreated user admin[00m
INFO keystone.cmd.bootstrap [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mCreated role reader[00m
INFO keystone.cmd.bootstrap [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mCreated role member[00m
INFO keystone.cmd.bootstrap [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mCreated implied role where ab50b3bde2614e5abbba94886a5500a7 implies cff3681957204dc69d68a86493ee0662[00m
INFO keystone.cmd.bootstrap [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mCreated role manager[00m
INFO keystone.cmd.bootstrap [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mCreated implied role where 8a4fa619c42e4ea29d6202ca1d54f26f implies ab50b3bde2614e5abbba94886a5500a7[00m
INFO keystone.cmd.bootstrap [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mCreated role admin[00m
INFO keystone.cmd.bootstrap [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mCreated implied role where e2110fd61fd44eb2954c23f5abc7d6de implies 8a4fa619c42e4ea29d6202ca1d54f26f[00m
INFO keystone.cmd.bootstrap [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mCreated role service[00m
INFO keystone.cmd.bootstrap [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mGranted role admin on project admin to user admin.[00m
INFO keystone.cmd.bootstrap [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mGranted role admin on the system to user admin.[00m
WARNING py.warnings [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35m/opt/stack/data/venv/lib/python3.10/site-packages/pycadf/identifier.py:70: UserWarning: Invalid uuid: RegionOne. To ensure interoperability, identifiers should be a valid uuid.
  warnings.warn(('Invalid uuid: %s. To ensure interoperability, '
[00m
INFO keystone.cmd.bootstrap [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mCreated region RegionOne[00m
INFO keystone.cmd.bootstrap [[01;36mNone req-a30470f8-984a-439e-bcc5-120b00040449 [00;36mNone None] [01;35mCreated public endpoint http://172.25.93.57/identity[00m
+ lib/keystone:bootstrap_keystone:581      :   '[' False == True ']'
+ ./stack.sh:main:1137                     :   create_keystone_accounts
+ lib/keystone:create_keystone_accounts:294 :   local admin_project
++ lib/keystone:create_keystone_accounts:295 :   oscwrap project show admin -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ lib/keystone:create_keystone_accounts:295 :   admin_project=f0f2107c34d0459b87738cd364a842e5
+ lib/keystone:create_keystone_accounts:296 :   local admin_user
++ lib/keystone:create_keystone_accounts:297 :   oscwrap user show admin -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ lib/keystone:create_keystone_accounts:297 :   admin_user=e3871a6a48114aa5b7c1e60e584bd609
+ lib/keystone:create_keystone_accounts:299 :   local admin_role=admin
+ lib/keystone:create_keystone_accounts:300 :   local member_role=member
+ lib/keystone:create_keystone_accounts:301 :   local reader_role=reader
+ lib/keystone:create_keystone_accounts:303 :   async_run ks-domain-role get_or_add_user_domain_role admin e3871a6a48114aa5b7c1e60e584bd609 default
+ inc/async:async_inner:63                 :   get_or_add_user_domain_role admin e3871a6a48114aa5b7c1e60e584bd609 default
[1115705 Async ks-domain-role:1145683]: running: get_or_add_user_domain_role admin e3871a6a48114aa5b7c1e60e584bd609 default
+ lib/keystone:create_keystone_accounts:306 :   get_or_create_domain Default
+ functions-common:get_or_create_domain:876 :   local domain_id
++ functions-common:get_or_create_domain:882 :   oscwrap --os-cloud devstack-system-admin domain create Default --description '' --or-show -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_domain:881 :   domain_id=default
+ functions-common:get_or_create_domain:882 :   echo default
default
+ lib/keystone:create_keystone_accounts:307 :   async_run ks-project get_or_create_project service Default
+ inc/async:async_inner:63                 :   get_or_create_project service Default
[1115705 Async ks-project:1145798]: running: get_or_create_project service Default
+ lib/keystone:create_keystone_accounts:310 :   async_run ks-service get_or_create_role service
+ inc/async:async_inner:63                 :   get_or_create_role service
[1115705 Async ks-service:1145910]: running: get_or_create_role service
+ lib/keystone:create_keystone_accounts:316 :   async_run ks-reseller get_or_create_role ResellerAdmin
+ inc/async:async_inner:63                 :   get_or_create_role ResellerAdmin
[1115705 Async ks-reseller:1146008]: running: get_or_create_role ResellerAdmin
+ lib/keystone:create_keystone_accounts:320 :   local another_role=anotherrole
+ lib/keystone:create_keystone_accounts:321 :   async_run ks-anotherrole get_or_create_role anotherrole
+ inc/async:async_inner:63                 :   get_or_create_role anotherrole
[1115705 Async ks-anotherrole:1146106]: running: get_or_create_role anotherrole
+ lib/keystone:create_keystone_accounts:324 :   local invis_project
++ lib/keystone:create_keystone_accounts:325 :   get_or_create_project invisible_to_admin default
++ functions-common:get_or_create_project:926 :   local project_id
+++ functions-common:get_or_create_project:934 :   oscwrap --os-cloud devstack-system-admin project create invisible_to_admin --domain=default --or-show -f value -c id
+ inc/async:async_inner:64                 :   rc=0
[1146008 Async ks-reseller:1146008]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
[1145798 Async ks-project:1145798]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
[1146106 Async ks-anotherrole:1146106]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
[1145910 Async ks-service:1145910]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
[1145683 Async ks-domain-role:1145683]: finished successfully
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_project:932 :   project_id=6c2a8e7e8a3444b5a61078b7dad78f77
++ functions-common:get_or_create_project:933 :   echo 6c2a8e7e8a3444b5a61078b7dad78f77
+ lib/keystone:create_keystone_accounts:325 :   invis_project=6c2a8e7e8a3444b5a61078b7dad78f77
+ lib/keystone:create_keystone_accounts:328 :   local demo_project
++ lib/keystone:create_keystone_accounts:329 :   get_or_create_project demo default
++ functions-common:get_or_create_project:926 :   local project_id
+++ functions-common:get_or_create_project:934 :   oscwrap --os-cloud devstack-system-admin project create demo --domain=default --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_project:932 :   project_id=e669e1f7d15d45c2b1c1412a368024ee
++ functions-common:get_or_create_project:933 :   echo e669e1f7d15d45c2b1c1412a368024ee
+ lib/keystone:create_keystone_accounts:329 :   demo_project=e669e1f7d15d45c2b1c1412a368024ee
+ lib/keystone:create_keystone_accounts:330 :   local demo_user
++ lib/keystone:create_keystone_accounts:332 :   get_or_create_user demo Hitachino1 default demo@example.com
++ functions-common:get_or_create_user:903  :   local user_id
++ functions-common:get_or_create_user:904  :   [[ ! -z demo@example.com ]]
++ functions-common:get_or_create_user:905  :   local email=--email=demo@example.com
+++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create demo --password Hitachino1 --domain=default --email=demo@example.com --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_user:919  :   user_id=f93ef76afc264f97819d577aef75a4cf
++ functions-common:get_or_create_user:920  :   echo f93ef76afc264f97819d577aef75a4cf
+ lib/keystone:create_keystone_accounts:332 :   demo_user=f93ef76afc264f97819d577aef75a4cf
+ lib/keystone:create_keystone_accounts:334 :   async_wait ks-domain-role ks-domain ks-project ks-service ks-reseller ks-anotherrole
[1115705 Async ks-domain-role:1145683]: Waiting for completion of get_or_add_user_domain_role admin e3871a6a48114aa5b7c1e60e584bd609 default running on PID 1145683 (6 other jobs running)
[1115705 Async ks-domain-role:1145683]: Signaling child to exit
WAKEUP
[1115705 Async ks-domain-role:1145683]: Signaled
+ functions-common:get_or_add_user_domain_role:990 :   local user_role_id
+ functions-common:get_or_add_user_domain_role:994 :   openstack --os-cloud devstack-system-admin role add admin --user e3871a6a48114aa5b7c1e60e584bd609 --domain default
++ functions-common:get_or_add_user_domain_role:1001 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user e3871a6a48114aa5b7c1e60e584bd609 --domain default -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_domain_role:1001 :   user_role_id=e2110fd61fd44eb2954c23f5abc7d6de
+ functions-common:get_or_add_user_domain_role:1003 :   echo e2110fd61fd44eb2954c23f5abc7d6de
e2110fd61fd44eb2954c23f5abc7d6de
[1115705 Async ks-domain-role:1145683]: finished get_or_add_user_domain_role admin e3871a6a48114aa5b7c1e60e584bd609 default with result 0 in 9 seconds
Not waiting for async task ks-domain that we never started or has already been waited for
[1115705 Async ks-project:1145798]: Waiting for completion of get_or_create_project service Default running on PID 1145798 (5 other jobs running)
[1115705 Async ks-project:1145798]: Signaling child to exit
WAKEUP
[1115705 Async ks-project:1145798]: Signaled
+ functions-common:get_or_create_project:926 :   local project_id
++ functions-common:get_or_create_project:934 :   oscwrap --os-cloud devstack-system-admin project create service --domain=Default --or-show -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_project:932 :   project_id=0d8bdd5e116d4067863557cdd810ec7c
+ functions-common:get_or_create_project:933 :   echo 0d8bdd5e116d4067863557cdd810ec7c
0d8bdd5e116d4067863557cdd810ec7c
[1115705 Async ks-project:1145798]: finished get_or_create_project service Default with result 0 in 4 seconds
[1115705 Async ks-service:1145910]: Waiting for completion of get_or_create_role service running on PID 1145910 (4 other jobs running)
[1115705 Async ks-service:1145910]: Signaling child to exit
WAKEUP
[1115705 Async ks-service:1145910]: Signaled
+ functions-common:get_or_create_role:939  :   local role_id
++ functions-common:get_or_create_role:946  :   oscwrap --os-cloud devstack-system-admin role create service --or-show -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_role:944  :   role_id=d77b450c937344b1a37442161a915b2f
+ functions-common:get_or_create_role:945  :   echo d77b450c937344b1a37442161a915b2f
d77b450c937344b1a37442161a915b2f
[1115705 Async ks-service:1145910]: finished get_or_create_role service with result 0 in 4 seconds
[1115705 Async ks-reseller:1146008]: Waiting for completion of get_or_create_role ResellerAdmin running on PID 1146008 (3 other jobs running)
[1115705 Async ks-reseller:1146008]: Signaling child to exit
WAKEUP
[1115705 Async ks-reseller:1146008]: Signaled
+ functions-common:get_or_create_role:939  :   local role_id
++ functions-common:get_or_create_role:946  :   oscwrap --os-cloud devstack-system-admin role create ResellerAdmin --or-show -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_role:944  :   role_id=32fa5f6edaa04653aa62efb759b45d84
+ functions-common:get_or_create_role:945  :   echo 32fa5f6edaa04653aa62efb759b45d84
32fa5f6edaa04653aa62efb759b45d84
[1115705 Async ks-reseller:1146008]: finished get_or_create_role ResellerAdmin with result 0 in 3 seconds
[1115705 Async ks-anotherrole:1146106]: Waiting for completion of get_or_create_role anotherrole running on PID 1146106 (2 other jobs running)
[1115705 Async ks-anotherrole:1146106]: Signaling child to exit
WAKEUP
[1115705 Async ks-anotherrole:1146106]: Signaled
+ functions-common:get_or_create_role:939  :   local role_id
++ functions-common:get_or_create_role:946  :   oscwrap --os-cloud devstack-system-admin role create anotherrole --or-show -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_role:944  :   role_id=cb26b3d0b61e4208902c48e100e68eb4
+ functions-common:get_or_create_role:945  :   echo cb26b3d0b61e4208902c48e100e68eb4
cb26b3d0b61e4208902c48e100e68eb4
[1115705 Async ks-anotherrole:1146106]: finished get_or_create_role anotherrole with result 0 in 4 seconds
+ inc/async:async_wait:197                 :   return 0
+ lib/keystone:create_keystone_accounts:336 :   async_run ks-demo-member get_or_add_user_project_role member f93ef76afc264f97819d577aef75a4cf e669e1f7d15d45c2b1c1412a368024ee
+ inc/async:async_inner:63                 :   get_or_add_user_project_role member f93ef76afc264f97819d577aef75a4cf e669e1f7d15d45c2b1c1412a368024ee
[1115705 Async ks-demo-member:1146997]: running: get_or_add_user_project_role member f93ef76afc264f97819d577aef75a4cf e669e1f7d15d45c2b1c1412a368024ee
+ lib/keystone:create_keystone_accounts:338 :   async_run ks-demo-admin get_or_add_user_project_role admin e3871a6a48114aa5b7c1e60e584bd609 e669e1f7d15d45c2b1c1412a368024ee
+ inc/async:async_inner:63                 :   get_or_add_user_project_role admin e3871a6a48114aa5b7c1e60e584bd609 e669e1f7d15d45c2b1c1412a368024ee
[1115705 Async ks-demo-admin:1147093]: running: get_or_add_user_project_role admin e3871a6a48114aa5b7c1e60e584bd609 e669e1f7d15d45c2b1c1412a368024ee
+ lib/keystone:create_keystone_accounts:339 :   async_run ks-demo-another get_or_add_user_project_role anotherrole f93ef76afc264f97819d577aef75a4cf e669e1f7d15d45c2b1c1412a368024ee
+ inc/async:async_inner:63                 :   get_or_add_user_project_role anotherrole f93ef76afc264f97819d577aef75a4cf e669e1f7d15d45c2b1c1412a368024ee
[1115705 Async ks-demo-another:1147191]: running: get_or_add_user_project_role anotherrole f93ef76afc264f97819d577aef75a4cf e669e1f7d15d45c2b1c1412a368024ee
+ lib/keystone:create_keystone_accounts:340 :   async_run ks-demo-invis get_or_add_user_project_role member f93ef76afc264f97819d577aef75a4cf 6c2a8e7e8a3444b5a61078b7dad78f77
+ inc/async:async_inner:63                 :   get_or_add_user_project_role member f93ef76afc264f97819d577aef75a4cf 6c2a8e7e8a3444b5a61078b7dad78f77
[1115705 Async ks-demo-invis:1147289]: running: get_or_add_user_project_role member f93ef76afc264f97819d577aef75a4cf 6c2a8e7e8a3444b5a61078b7dad78f77
+ lib/keystone:create_keystone_accounts:343 :   local demo_reader
++ lib/keystone:create_keystone_accounts:345 :   get_or_create_user demo_reader Hitachino1 default demo_reader@example.com
++ functions-common:get_or_create_user:903  :   local user_id
++ functions-common:get_or_create_user:904  :   [[ ! -z demo_reader@example.com ]]
++ functions-common:get_or_create_user:905  :   local email=--email=demo_reader@example.com
+++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create demo_reader --password Hitachino1 --domain=default --email=demo_reader@example.com --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_user:919  :   user_id=c49668e899134817835bd897a78ea2b9
++ functions-common:get_or_create_user:920  :   echo c49668e899134817835bd897a78ea2b9
+ lib/keystone:create_keystone_accounts:345 :   demo_reader=c49668e899134817835bd897a78ea2b9
+ lib/keystone:create_keystone_accounts:347 :   async_run ks-demo-reader get_or_add_user_project_role reader c49668e899134817835bd897a78ea2b9 e669e1f7d15d45c2b1c1412a368024ee
+ inc/async:async_inner:63                 :   get_or_add_user_project_role reader c49668e899134817835bd897a78ea2b9 e669e1f7d15d45c2b1c1412a368024ee
[1115705 Async ks-demo-reader:1147449]: running: get_or_add_user_project_role reader c49668e899134817835bd897a78ea2b9 e669e1f7d15d45c2b1c1412a368024ee
+ lib/keystone:create_keystone_accounts:350 :   local alt_demo_project
++ lib/keystone:create_keystone_accounts:351 :   get_or_create_project alt_demo default
++ functions-common:get_or_create_project:926 :   local project_id
+++ functions-common:get_or_create_project:934 :   oscwrap --os-cloud devstack-system-admin project create alt_demo --domain=default --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_project:932 :   project_id=8cf27d3409a94f9690f8741ce3eca5e6
++ functions-common:get_or_create_project:933 :   echo 8cf27d3409a94f9690f8741ce3eca5e6
+ lib/keystone:create_keystone_accounts:351 :   alt_demo_project=8cf27d3409a94f9690f8741ce3eca5e6
+ lib/keystone:create_keystone_accounts:353 :   local alt_demo_user
++ lib/keystone:create_keystone_accounts:355 :   get_or_create_user alt_demo Hitachino1 default alt_demo@example.com
++ functions-common:get_or_create_user:903  :   local user_id
++ functions-common:get_or_create_user:904  :   [[ ! -z alt_demo@example.com ]]
++ functions-common:get_or_create_user:905  :   local email=--email=alt_demo@example.com
+++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create alt_demo --password Hitachino1 --domain=default --email=alt_demo@example.com --or-show -f value -c id
+ inc/async:async_inner:64                 :   rc=0
[1146997 Async ks-demo-member:1146997]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
[1147093 Async ks-demo-admin:1147093]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
[1147191 Async ks-demo-another:1147191]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
[1147289 Async ks-demo-invis:1147289]: finished successfully
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_user:919  :   user_id=2af26b472f8c4ac0ab5cea65e7b83555
++ functions-common:get_or_create_user:920  :   echo 2af26b472f8c4ac0ab5cea65e7b83555
+ lib/keystone:create_keystone_accounts:355 :   alt_demo_user=2af26b472f8c4ac0ab5cea65e7b83555
+ lib/keystone:create_keystone_accounts:357 :   async_run ks-alt-admin get_or_add_user_project_role admin 2af26b472f8c4ac0ab5cea65e7b83555 8cf27d3409a94f9690f8741ce3eca5e6
+ inc/async:async_inner:63                 :   get_or_add_user_project_role admin 2af26b472f8c4ac0ab5cea65e7b83555 8cf27d3409a94f9690f8741ce3eca5e6
[1115705 Async ks-alt-admin:1147866]: running: get_or_add_user_project_role admin 2af26b472f8c4ac0ab5cea65e7b83555 8cf27d3409a94f9690f8741ce3eca5e6
+ lib/keystone:create_keystone_accounts:358 :   async_run ks-alt-another get_or_add_user_project_role anotherrole 2af26b472f8c4ac0ab5cea65e7b83555 8cf27d3409a94f9690f8741ce3eca5e6
+ inc/async:async_inner:63                 :   get_or_add_user_project_role anotherrole 2af26b472f8c4ac0ab5cea65e7b83555 8cf27d3409a94f9690f8741ce3eca5e6
[1115705 Async ks-alt-another:1147962]: running: get_or_add_user_project_role anotherrole 2af26b472f8c4ac0ab5cea65e7b83555 8cf27d3409a94f9690f8741ce3eca5e6
+ lib/keystone:create_keystone_accounts:361 :   local alt_demo_member
++ lib/keystone:create_keystone_accounts:363 :   get_or_create_user alt_demo_member Hitachino1 default alt_demo_member@example.com
++ functions-common:get_or_create_user:903  :   local user_id
++ functions-common:get_or_create_user:904  :   [[ ! -z alt_demo_member@example.com ]]
++ functions-common:get_or_create_user:905  :   local email=--email=alt_demo_member@example.com
+++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create alt_demo_member --password Hitachino1 --domain=default --email=alt_demo_member@example.com --or-show -f value -c id
+ inc/async:async_inner:64                 :   rc=0
[1147449 Async ks-demo-reader:1147449]: finished successfully
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_user:919  :   user_id=ccb9eec28c244c7fa4bf73b031cc2614
++ functions-common:get_or_create_user:920  :   echo ccb9eec28c244c7fa4bf73b031cc2614
+ lib/keystone:create_keystone_accounts:363 :   alt_demo_member=ccb9eec28c244c7fa4bf73b031cc2614
+ lib/keystone:create_keystone_accounts:364 :   async_run ks-alt-member-user get_or_add_user_project_role member ccb9eec28c244c7fa4bf73b031cc2614 8cf27d3409a94f9690f8741ce3eca5e6
+ inc/async:async_inner:63                 :   get_or_add_user_project_role member ccb9eec28c244c7fa4bf73b031cc2614 8cf27d3409a94f9690f8741ce3eca5e6
[1115705 Async ks-alt-member-user:1148142]: running: get_or_add_user_project_role member ccb9eec28c244c7fa4bf73b031cc2614 8cf27d3409a94f9690f8741ce3eca5e6
+ lib/keystone:create_keystone_accounts:367 :   local alt_demo_reader
++ lib/keystone:create_keystone_accounts:369 :   get_or_create_user alt_demo_reader Hitachino1 default alt_demo_reader@example.com
++ functions-common:get_or_create_user:903  :   local user_id
++ functions-common:get_or_create_user:904  :   [[ ! -z alt_demo_reader@example.com ]]
++ functions-common:get_or_create_user:905  :   local email=--email=alt_demo_reader@example.com
+++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create alt_demo_reader --password Hitachino1 --domain=default --email=alt_demo_reader@example.com --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_user:919  :   user_id=12de216db87747f5bd1ed73f612ead50
++ functions-common:get_or_create_user:920  :   echo 12de216db87747f5bd1ed73f612ead50
+ lib/keystone:create_keystone_accounts:369 :   alt_demo_reader=12de216db87747f5bd1ed73f612ead50
+ lib/keystone:create_keystone_accounts:370 :   async_run ks-alt-reader-user get_or_add_user_project_role reader 12de216db87747f5bd1ed73f612ead50 8cf27d3409a94f9690f8741ce3eca5e6
+ inc/async:async_inner:63                 :   get_or_add_user_project_role reader 12de216db87747f5bd1ed73f612ead50 8cf27d3409a94f9690f8741ce3eca5e6
[1115705 Async ks-alt-reader-user:1148326]: running: get_or_add_user_project_role reader 12de216db87747f5bd1ed73f612ead50 8cf27d3409a94f9690f8741ce3eca5e6
++ lib/keystone:create_keystone_accounts:377 :   get_or_create_user system_member Hitachino1 default system_member@example.com
++ functions-common:get_or_create_user:903  :   local user_id
++ functions-common:get_or_create_user:904  :   [[ ! -z system_member@example.com ]]
++ functions-common:get_or_create_user:905  :   local email=--email=system_member@example.com
+++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create system_member --password Hitachino1 --domain=default --email=system_member@example.com --or-show -f value -c id
+ inc/async:async_inner:64                 :   rc=0
[1147866 Async ks-alt-admin:1147866]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
[1147962 Async ks-alt-another:1147962]: finished successfully
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_user:919  :   user_id=a0d8a40c499644dc8ca61a7c10288a22
++ functions-common:get_or_create_user:920  :   echo a0d8a40c499644dc8ca61a7c10288a22
+ lib/keystone:create_keystone_accounts:377 :   system_member_user=a0d8a40c499644dc8ca61a7c10288a22
+ lib/keystone:create_keystone_accounts:378 :   async_run ks-system-member get_or_add_user_system_role member a0d8a40c499644dc8ca61a7c10288a22 all
+ inc/async:async_inner:63                 :   get_or_add_user_system_role member a0d8a40c499644dc8ca61a7c10288a22 all
[1115705 Async ks-system-member:1148564]: running: get_or_add_user_system_role member a0d8a40c499644dc8ca61a7c10288a22 all
++ lib/keystone:create_keystone_accounts:381 :   get_or_create_user system_reader Hitachino1 default system_reader@example.com
++ functions-common:get_or_create_user:903  :   local user_id
++ functions-common:get_or_create_user:904  :   [[ ! -z system_reader@example.com ]]
++ functions-common:get_or_create_user:905  :   local email=--email=system_reader@example.com
+++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create system_reader --password Hitachino1 --domain=default --email=system_reader@example.com --or-show -f value -c id
+ inc/async:async_inner:64                 :   rc=0
[1148142 Async ks-alt-member-user:1148142]: finished successfully
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_user:919  :   user_id=3dd444f7afe34e3abf5c7bcd02c43b9a
++ functions-common:get_or_create_user:920  :   echo 3dd444f7afe34e3abf5c7bcd02c43b9a
+ lib/keystone:create_keystone_accounts:381 :   system_reader_user=3dd444f7afe34e3abf5c7bcd02c43b9a
+ lib/keystone:create_keystone_accounts:382 :   async_run ks-system-reader get_or_add_user_system_role reader 3dd444f7afe34e3abf5c7bcd02c43b9a all
+ inc/async:async_inner:63                 :   get_or_add_user_system_role reader 3dd444f7afe34e3abf5c7bcd02c43b9a all
[1115705 Async ks-system-reader:1148775]: running: get_or_add_user_system_role reader 3dd444f7afe34e3abf5c7bcd02c43b9a all
+ lib/keystone:create_keystone_accounts:385 :   local admin_group
++ lib/keystone:create_keystone_accounts:387 :   get_or_create_group admins default 'openstack admin group'
++ functions-common:get_or_create_group:888 :   local 'desc=openstack admin group'
++ functions-common:get_or_create_group:889 :   local group_id
+++ functions-common:get_or_create_group:898 :   oscwrap --os-cloud devstack-system-admin group create admins --domain default --description 'openstack admin group' --or-show -f value -c id
+ inc/async:async_inner:64                 :   rc=0
[1148326 Async ks-alt-reader-user:1148326]: finished successfully
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_group:896 :   group_id=50d4e4aca90d42bbab51b62f2b842346
++ functions-common:get_or_create_group:897 :   echo 50d4e4aca90d42bbab51b62f2b842346
+ lib/keystone:create_keystone_accounts:387 :   admin_group=50d4e4aca90d42bbab51b62f2b842346
+ lib/keystone:create_keystone_accounts:388 :   local non_admin_group
++ lib/keystone:create_keystone_accounts:390 :   get_or_create_group nonadmins default 'non-admin group'
++ functions-common:get_or_create_group:888 :   local 'desc=non-admin group'
++ functions-common:get_or_create_group:889 :   local group_id
+++ functions-common:get_or_create_group:898 :   oscwrap --os-cloud devstack-system-admin group create nonadmins --domain default --description 'non-admin group' --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_group:896 :   group_id=3e44a5e406294d60ace6966b16c0c73b
++ functions-common:get_or_create_group:897 :   echo 3e44a5e406294d60ace6966b16c0c73b
+ lib/keystone:create_keystone_accounts:390 :   non_admin_group=3e44a5e406294d60ace6966b16c0c73b
+ lib/keystone:create_keystone_accounts:392 :   async_run ks-group-memberdemo get_or_add_group_project_role member 3e44a5e406294d60ace6966b16c0c73b e669e1f7d15d45c2b1c1412a368024ee
+ inc/async:async_inner:63                 :   get_or_add_group_project_role member 3e44a5e406294d60ace6966b16c0c73b e669e1f7d15d45c2b1c1412a368024ee
[1115705 Async ks-group-memberdemo:1149051]: running: get_or_add_group_project_role member 3e44a5e406294d60ace6966b16c0c73b e669e1f7d15d45c2b1c1412a368024ee
+ lib/keystone:create_keystone_accounts:393 :   async_run ks-group-anotherdemo get_or_add_group_project_role anotherrole 3e44a5e406294d60ace6966b16c0c73b e669e1f7d15d45c2b1c1412a368024ee
+ inc/async:async_inner:63                 :   get_or_add_group_project_role anotherrole 3e44a5e406294d60ace6966b16c0c73b e669e1f7d15d45c2b1c1412a368024ee
[1115705 Async ks-group-anotherdemo:1149130]: running: get_or_add_group_project_role anotherrole 3e44a5e406294d60ace6966b16c0c73b e669e1f7d15d45c2b1c1412a368024ee
+ lib/keystone:create_keystone_accounts:394 :   async_run ks-group-memberalt get_or_add_group_project_role member 3e44a5e406294d60ace6966b16c0c73b 8cf27d3409a94f9690f8741ce3eca5e6
+ inc/async:async_inner:63                 :   get_or_add_group_project_role member 3e44a5e406294d60ace6966b16c0c73b 8cf27d3409a94f9690f8741ce3eca5e6
[1115705 Async ks-group-memberalt:1149211]: running: get_or_add_group_project_role member 3e44a5e406294d60ace6966b16c0c73b 8cf27d3409a94f9690f8741ce3eca5e6
+ lib/keystone:create_keystone_accounts:395 :   async_run ks-group-anotheralt get_or_add_group_project_role anotherrole 3e44a5e406294d60ace6966b16c0c73b 8cf27d3409a94f9690f8741ce3eca5e6
+ inc/async:async_inner:63                 :   get_or_add_group_project_role anotherrole 3e44a5e406294d60ace6966b16c0c73b 8cf27d3409a94f9690f8741ce3eca5e6
[1115705 Async ks-group-anotheralt:1149292]: running: get_or_add_group_project_role anotherrole 3e44a5e406294d60ace6966b16c0c73b 8cf27d3409a94f9690f8741ce3eca5e6
+ lib/keystone:create_keystone_accounts:396 :   async_run ks-group-admin get_or_add_group_project_role admin 50d4e4aca90d42bbab51b62f2b842346 f0f2107c34d0459b87738cd364a842e5
+ inc/async:async_inner:63                 :   get_or_add_group_project_role admin 50d4e4aca90d42bbab51b62f2b842346 f0f2107c34d0459b87738cd364a842e5
[1115705 Async ks-group-admin:1149373]: running: get_or_add_group_project_role admin 50d4e4aca90d42bbab51b62f2b842346 f0f2107c34d0459b87738cd364a842e5
+ lib/keystone:create_keystone_accounts:398 :   async_wait ks-demo-member ks-demo-admin ks-demo-another ks-demo-invis ks-demo-reader
+ inc/async:async_inner:64                 :   rc=0
[1115705 Async ks-demo-member:1146997]: Waiting for completion of get_or_add_user_project_role member f93ef76afc264f97819d577aef75a4cf e669e1f7d15d45c2b1c1412a368024ee running on PID 1146997 (17 other jobs running)
[1115705 Async ks-demo-member:1146997]: Signaling child to exit
WAKEUP
[1148564 Async ks-system-member:1148564]: finished successfully
[1115705 Async ks-demo-member:1146997]: Signaled
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n '' ]]
++ functions-common:_get_domain_args:957    :   [[ -n '' ]]
++ functions-common:_get_domain_args:961    :   echo
+ functions-common:get_or_add_user_project_role:970 :   domain_args=
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add member --user f93ef76afc264f97819d577aef75a4cf --project e669e1f7d15d45c2b1c1412a368024ee
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --user f93ef76afc264f97819d577aef75a4cf --project e669e1f7d15d45c2b1c1412a368024ee -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=ab50b3bde2614e5abbba94886a5500a7
+ functions-common:get_or_add_user_project_role:984 :   echo ab50b3bde2614e5abbba94886a5500a7
ab50b3bde2614e5abbba94886a5500a7
[1115705 Async ks-demo-member:1146997]: finished get_or_add_user_project_role member f93ef76afc264f97819d577aef75a4cf e669e1f7d15d45c2b1c1412a368024ee with result 0 in 11 seconds
[1115705 Async ks-demo-admin:1147093]: Waiting for completion of get_or_add_user_project_role admin e3871a6a48114aa5b7c1e60e584bd609 e669e1f7d15d45c2b1c1412a368024ee running on PID 1147093 (16 other jobs running)
[1115705 Async ks-demo-admin:1147093]: Signaling child to exit
WAKEUP
[1115705 Async ks-demo-admin:1147093]: Signaled
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n '' ]]
++ functions-common:_get_domain_args:957    :   [[ -n '' ]]
++ functions-common:_get_domain_args:961    :   echo
+ functions-common:get_or_add_user_project_role:970 :   domain_args=
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add admin --user e3871a6a48114aa5b7c1e60e584bd609 --project e669e1f7d15d45c2b1c1412a368024ee
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user e3871a6a48114aa5b7c1e60e584bd609 --project e669e1f7d15d45c2b1c1412a368024ee -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=e2110fd61fd44eb2954c23f5abc7d6de
+ functions-common:get_or_add_user_project_role:984 :   echo e2110fd61fd44eb2954c23f5abc7d6de
e2110fd61fd44eb2954c23f5abc7d6de
[1115705 Async ks-demo-admin:1147093]: finished get_or_add_user_project_role admin e3871a6a48114aa5b7c1e60e584bd609 e669e1f7d15d45c2b1c1412a368024ee with result 0 in 12 seconds
[1115705 Async ks-demo-another:1147191]: Waiting for completion of get_or_add_user_project_role anotherrole f93ef76afc264f97819d577aef75a4cf e669e1f7d15d45c2b1c1412a368024ee running on PID 1147191 (15 other jobs running)
[1115705 Async ks-demo-another:1147191]: Signaling child to exit
WAKEUP
[1115705 Async ks-demo-another:1147191]: Signaled
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n '' ]]
++ functions-common:_get_domain_args:957    :   [[ -n '' ]]
++ functions-common:_get_domain_args:961    :   echo
+ functions-common:get_or_add_user_project_role:970 :   domain_args=
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add anotherrole --user f93ef76afc264f97819d577aef75a4cf --project e669e1f7d15d45c2b1c1412a368024ee
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role anotherrole --user f93ef76afc264f97819d577aef75a4cf --project e669e1f7d15d45c2b1c1412a368024ee -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=cb26b3d0b61e4208902c48e100e68eb4
+ functions-common:get_or_add_user_project_role:984 :   echo cb26b3d0b61e4208902c48e100e68eb4
cb26b3d0b61e4208902c48e100e68eb4
[1115705 Async ks-demo-another:1147191]: finished get_or_add_user_project_role anotherrole f93ef76afc264f97819d577aef75a4cf e669e1f7d15d45c2b1c1412a368024ee with result 0 in 12 seconds
[1115705 Async ks-demo-invis:1147289]: Waiting for completion of get_or_add_user_project_role member f93ef76afc264f97819d577aef75a4cf 6c2a8e7e8a3444b5a61078b7dad78f77 running on PID 1147289 (14 other jobs running)
[1115705 Async ks-demo-invis:1147289]: Signaling child to exit
WAKEUP
[1115705 Async ks-demo-invis:1147289]: Signaled
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n '' ]]
++ functions-common:_get_domain_args:957    :   [[ -n '' ]]
++ functions-common:_get_domain_args:961    :   echo
+ functions-common:get_or_add_user_project_role:970 :   domain_args=
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add member --user f93ef76afc264f97819d577aef75a4cf --project 6c2a8e7e8a3444b5a61078b7dad78f77
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --user f93ef76afc264f97819d577aef75a4cf --project 6c2a8e7e8a3444b5a61078b7dad78f77 -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=ab50b3bde2614e5abbba94886a5500a7
+ functions-common:get_or_add_user_project_role:984 :   echo ab50b3bde2614e5abbba94886a5500a7
ab50b3bde2614e5abbba94886a5500a7
[1115705 Async ks-demo-invis:1147289]: finished get_or_add_user_project_role member f93ef76afc264f97819d577aef75a4cf 6c2a8e7e8a3444b5a61078b7dad78f77 with result 0 in 13 seconds
[1115705 Async ks-demo-reader:1147449]: Waiting for completion of get_or_add_user_project_role reader c49668e899134817835bd897a78ea2b9 e669e1f7d15d45c2b1c1412a368024ee running on PID 1147449 (13 other jobs running)
[1115705 Async ks-demo-reader:1147449]: Signaling child to exit
WAKEUP
[1115705 Async ks-demo-reader:1147449]: Signaled
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n '' ]]
++ functions-common:_get_domain_args:957    :   [[ -n '' ]]
++ functions-common:_get_domain_args:961    :   echo
+ functions-common:get_or_add_user_project_role:970 :   domain_args=
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add reader --user c49668e899134817835bd897a78ea2b9 --project e669e1f7d15d45c2b1c1412a368024ee
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role reader --user c49668e899134817835bd897a78ea2b9 --project e669e1f7d15d45c2b1c1412a368024ee -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=cff3681957204dc69d68a86493ee0662
+ functions-common:get_or_add_user_project_role:984 :   echo cff3681957204dc69d68a86493ee0662
cff3681957204dc69d68a86493ee0662
[1115705 Async ks-demo-reader:1147449]: finished get_or_add_user_project_role reader c49668e899134817835bd897a78ea2b9 e669e1f7d15d45c2b1c1412a368024ee with result 0 in 10 seconds
+ inc/async:async_wait:197                 :   return 0
+ lib/keystone:create_keystone_accounts:399 :   async_wait ks-alt-admin ks-alt-another ks-alt-member-user ks-alt-reader-user
[1115705 Async ks-alt-admin:1147866]: Waiting for completion of get_or_add_user_project_role admin 2af26b472f8c4ac0ab5cea65e7b83555 8cf27d3409a94f9690f8741ce3eca5e6 running on PID 1147866 (12 other jobs running)
[1115705 Async ks-alt-admin:1147866]: Signaling child to exit
WAKEUP
[1115705 Async ks-alt-admin:1147866]: Signaled
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n '' ]]
++ functions-common:_get_domain_args:957    :   [[ -n '' ]]
++ functions-common:_get_domain_args:961    :   echo
+ functions-common:get_or_add_user_project_role:970 :   domain_args=
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add admin --user 2af26b472f8c4ac0ab5cea65e7b83555 --project 8cf27d3409a94f9690f8741ce3eca5e6
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user 2af26b472f8c4ac0ab5cea65e7b83555 --project 8cf27d3409a94f9690f8741ce3eca5e6 -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=e2110fd61fd44eb2954c23f5abc7d6de
+ functions-common:get_or_add_user_project_role:984 :   echo e2110fd61fd44eb2954c23f5abc7d6de
e2110fd61fd44eb2954c23f5abc7d6de
[1115705 Async ks-alt-admin:1147866]: finished get_or_add_user_project_role admin 2af26b472f8c4ac0ab5cea65e7b83555 8cf27d3409a94f9690f8741ce3eca5e6 with result 0 in 9 seconds
[1115705 Async ks-alt-another:1147962]: Waiting for completion of get_or_add_user_project_role anotherrole 2af26b472f8c4ac0ab5cea65e7b83555 8cf27d3409a94f9690f8741ce3eca5e6 running on PID 1147962 (11 other jobs running)
[1115705 Async ks-alt-another:1147962]: Signaling child to exit
WAKEUP
[1115705 Async ks-alt-another:1147962]: Signaled
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n '' ]]
++ functions-common:_get_domain_args:957    :   [[ -n '' ]]
++ functions-common:_get_domain_args:961    :   echo
+ functions-common:get_or_add_user_project_role:970 :   domain_args=
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add anotherrole --user 2af26b472f8c4ac0ab5cea65e7b83555 --project 8cf27d3409a94f9690f8741ce3eca5e6
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role anotherrole --user 2af26b472f8c4ac0ab5cea65e7b83555 --project 8cf27d3409a94f9690f8741ce3eca5e6 -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=cb26b3d0b61e4208902c48e100e68eb4
+ functions-common:get_or_add_user_project_role:984 :   echo cb26b3d0b61e4208902c48e100e68eb4
cb26b3d0b61e4208902c48e100e68eb4
[1115705 Async ks-alt-another:1147962]: finished get_or_add_user_project_role anotherrole 2af26b472f8c4ac0ab5cea65e7b83555 8cf27d3409a94f9690f8741ce3eca5e6 with result 0 in 10 seconds
[1115705 Async ks-alt-member-user:1148142]: Waiting for completion of get_or_add_user_project_role member ccb9eec28c244c7fa4bf73b031cc2614 8cf27d3409a94f9690f8741ce3eca5e6 running on PID 1148142 (10 other jobs running)
[1115705 Async ks-alt-member-user:1148142]: Signaling child to exit
WAKEUP
[1115705 Async ks-alt-member-user:1148142]: Signaled
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n '' ]]
++ functions-common:_get_domain_args:957    :   [[ -n '' ]]
++ functions-common:_get_domain_args:961    :   echo
+ functions-common:get_or_add_user_project_role:970 :   domain_args=
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add member --user ccb9eec28c244c7fa4bf73b031cc2614 --project 8cf27d3409a94f9690f8741ce3eca5e6
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --user ccb9eec28c244c7fa4bf73b031cc2614 --project 8cf27d3409a94f9690f8741ce3eca5e6 -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=ab50b3bde2614e5abbba94886a5500a7
+ functions-common:get_or_add_user_project_role:984 :   echo ab50b3bde2614e5abbba94886a5500a7
ab50b3bde2614e5abbba94886a5500a7
[1115705 Async ks-alt-member-user:1148142]: finished get_or_add_user_project_role member ccb9eec28c244c7fa4bf73b031cc2614 8cf27d3409a94f9690f8741ce3eca5e6 with result 0 in 9 seconds
[1115705 Async ks-alt-reader-user:1148326]: Waiting for completion of get_or_add_user_project_role reader 12de216db87747f5bd1ed73f612ead50 8cf27d3409a94f9690f8741ce3eca5e6 running on PID 1148326 (9 other jobs running)
[1115705 Async ks-alt-reader-user:1148326]: Signaling child to exit
WAKEUP
[1115705 Async ks-alt-reader-user:1148326]: Signaled
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n '' ]]
++ functions-common:_get_domain_args:957    :   [[ -n '' ]]
++ functions-common:_get_domain_args:961    :   echo
+ functions-common:get_or_add_user_project_role:970 :   domain_args=
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add reader --user 12de216db87747f5bd1ed73f612ead50 --project 8cf27d3409a94f9690f8741ce3eca5e6
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role reader --user 12de216db87747f5bd1ed73f612ead50 --project 8cf27d3409a94f9690f8741ce3eca5e6 -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=cff3681957204dc69d68a86493ee0662
+ functions-common:get_or_add_user_project_role:984 :   echo cff3681957204dc69d68a86493ee0662
cff3681957204dc69d68a86493ee0662
[1115705 Async ks-alt-reader-user:1148326]: finished get_or_add_user_project_role reader 12de216db87747f5bd1ed73f612ead50 8cf27d3409a94f9690f8741ce3eca5e6 with result 0 in 9 seconds
+ inc/async:async_wait:197                 :   return 0
+ lib/keystone:create_keystone_accounts:400 :   async_wait ks-system-member ks-system-reader
[1115705 Async ks-system-member:1148564]: Waiting for completion of get_or_add_user_system_role member a0d8a40c499644dc8ca61a7c10288a22 all running on PID 1148564 (8 other jobs running)
[1115705 Async ks-system-member:1148564]: Signaling child to exit
WAKEUP
[1115705 Async ks-system-member:1148564]: Signaled
+ functions-common:get_or_add_user_system_role:1009 :   local user_role_id
+ functions-common:get_or_add_user_system_role:1010 :   local domain_args
++ functions-common:get_or_add_user_system_role:1012 :   _get_domain_args
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n '' ]]
++ functions-common:_get_domain_args:957    :   [[ -n '' ]]
++ functions-common:_get_domain_args:961    :   echo
+ functions-common:get_or_add_user_system_role:1012 :   domain_args=
++ functions-common:get_or_add_user_system_role:1020 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --user a0d8a40c499644dc8ca61a7c10288a22 --system all -f value -c Role
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_system_role:1020 :   user_role_id=
+ functions-common:get_or_add_user_system_role:1021 :   [[ -z '' ]]
+ functions-common:get_or_add_user_system_role:1023 :   openstack --os-cloud devstack-system-admin role add member --user a0d8a40c499644dc8ca61a7c10288a22 --system all
++ functions-common:get_or_add_user_system_role:1032 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --user a0d8a40c499644dc8ca61a7c10288a22 --system all -f value -c Role
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_system_role:1032 :   user_role_id=ab50b3bde2614e5abbba94886a5500a7
+ functions-common:get_or_add_user_system_role:1034 :   echo ab50b3bde2614e5abbba94886a5500a7
ab50b3bde2614e5abbba94886a5500a7
[1115705 Async ks-system-member:1148564]: finished get_or_add_user_system_role member a0d8a40c499644dc8ca61a7c10288a22 all with result 0 in 12 seconds
[1115705 Async ks-system-reader:1148775]: Waiting for completion of get_or_add_user_system_role reader 3dd444f7afe34e3abf5c7bcd02c43b9a all running on PID 1148775 (7 other jobs running)
[1115705 Async ks-system-reader:1148775]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
[1148775 Async ks-system-reader:1148775]: finished successfully
WAKEUP
[1115705 Async ks-system-reader:1148775]: Signaled
+ functions-common:get_or_add_user_system_role:1009 :   local user_role_id
+ functions-common:get_or_add_user_system_role:1010 :   local domain_args
++ functions-common:get_or_add_user_system_role:1012 :   _get_domain_args
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n '' ]]
++ functions-common:_get_domain_args:957    :   [[ -n '' ]]
++ functions-common:_get_domain_args:961    :   echo
+ functions-common:get_or_add_user_system_role:1012 :   domain_args=
++ functions-common:get_or_add_user_system_role:1020 :   oscwrap --os-cloud devstack-system-admin role assignment list --role reader --user 3dd444f7afe34e3abf5c7bcd02c43b9a --system all -f value -c Role
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_system_role:1020 :   user_role_id=
+ functions-common:get_or_add_user_system_role:1021 :   [[ -z '' ]]
+ functions-common:get_or_add_user_system_role:1023 :   openstack --os-cloud devstack-system-admin role add reader --user 3dd444f7afe34e3abf5c7bcd02c43b9a --system all
++ functions-common:get_or_add_user_system_role:1032 :   oscwrap --os-cloud devstack-system-admin role assignment list --role reader --user 3dd444f7afe34e3abf5c7bcd02c43b9a --system all -f value -c Role
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_system_role:1032 :   user_role_id=cff3681957204dc69d68a86493ee0662
+ functions-common:get_or_add_user_system_role:1034 :   echo cff3681957204dc69d68a86493ee0662
cff3681957204dc69d68a86493ee0662
[1115705 Async ks-system-reader:1148775]: finished get_or_add_user_system_role reader 3dd444f7afe34e3abf5c7bcd02c43b9a all with result 0 in 14 seconds
+ inc/async:async_wait:197                 :   return 0
+ lib/keystone:create_keystone_accounts:401 :   async_wait ks-group-memberdemo ks-group-anotherdemo ks-group-memberalt ks-group-anotheralt ks-group-admin
[1115705 Async ks-group-memberdemo:1149051]: Waiting for completion of get_or_add_group_project_role member 3e44a5e406294d60ace6966b16c0c73b e669e1f7d15d45c2b1c1412a368024ee running on PID 1149051 (6 other jobs running)
[1115705 Async ks-group-memberdemo:1149051]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
[1149051 Async ks-group-memberdemo:1149051]: finished successfully
WAKEUP
[1115705 Async ks-group-memberdemo:1149051]: Signaled
+ functions-common:get_or_add_group_project_role:1040 :   local group_role_id
+ functions-common:get_or_add_group_project_role:1044 :   openstack role add member --group 3e44a5e406294d60ace6966b16c0c73b --project e669e1f7d15d45c2b1c1412a368024ee
++ functions-common:get_or_add_group_project_role:1051 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --group 3e44a5e406294d60ace6966b16c0c73b --project e669e1f7d15d45c2b1c1412a368024ee -f value -c Role
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_group_project_role:1051 :   group_role_id=ab50b3bde2614e5abbba94886a5500a7
+ functions-common:get_or_add_group_project_role:1053 :   echo ab50b3bde2614e5abbba94886a5500a7
ab50b3bde2614e5abbba94886a5500a7
[1115705 Async ks-group-memberdemo:1149051]: finished get_or_add_group_project_role member 3e44a5e406294d60ace6966b16c0c73b e669e1f7d15d45c2b1c1412a368024ee with result 0 in 10 seconds
[1115705 Async ks-group-anotherdemo:1149130]: Waiting for completion of get_or_add_group_project_role anotherrole 3e44a5e406294d60ace6966b16c0c73b e669e1f7d15d45c2b1c1412a368024ee running on PID 1149130 (5 other jobs running)
[1115705 Async ks-group-anotherdemo:1149130]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
[1149130 Async ks-group-anotherdemo:1149130]: finished successfully
WAKEUP
[1115705 Async ks-group-anotherdemo:1149130]: Signaled
+ functions-common:get_or_add_group_project_role:1040 :   local group_role_id
+ functions-common:get_or_add_group_project_role:1044 :   openstack role add anotherrole --group 3e44a5e406294d60ace6966b16c0c73b --project e669e1f7d15d45c2b1c1412a368024ee
++ functions-common:get_or_add_group_project_role:1051 :   oscwrap --os-cloud devstack-system-admin role assignment list --role anotherrole --group 3e44a5e406294d60ace6966b16c0c73b --project e669e1f7d15d45c2b1c1412a368024ee -f value -c Role
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_group_project_role:1051 :   group_role_id=cb26b3d0b61e4208902c48e100e68eb4
+ functions-common:get_or_add_group_project_role:1053 :   echo cb26b3d0b61e4208902c48e100e68eb4
cb26b3d0b61e4208902c48e100e68eb4
[1115705 Async ks-group-anotherdemo:1149130]: finished get_or_add_group_project_role anotherrole 3e44a5e406294d60ace6966b16c0c73b e669e1f7d15d45c2b1c1412a368024ee with result 0 in 11 seconds
[1115705 Async ks-group-memberalt:1149211]: Waiting for completion of get_or_add_group_project_role member 3e44a5e406294d60ace6966b16c0c73b 8cf27d3409a94f9690f8741ce3eca5e6 running on PID 1149211 (4 other jobs running)
[1115705 Async ks-group-memberalt:1149211]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
[1149211 Async ks-group-memberalt:1149211]: finished successfully
WAKEUP
[1115705 Async ks-group-memberalt:1149211]: Signaled
+ functions-common:get_or_add_group_project_role:1040 :   local group_role_id
+ functions-common:get_or_add_group_project_role:1044 :   openstack role add member --group 3e44a5e406294d60ace6966b16c0c73b --project 8cf27d3409a94f9690f8741ce3eca5e6
++ functions-common:get_or_add_group_project_role:1051 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --group 3e44a5e406294d60ace6966b16c0c73b --project 8cf27d3409a94f9690f8741ce3eca5e6 -f value -c Role
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_group_project_role:1051 :   group_role_id=ab50b3bde2614e5abbba94886a5500a7
+ functions-common:get_or_add_group_project_role:1053 :   echo ab50b3bde2614e5abbba94886a5500a7
ab50b3bde2614e5abbba94886a5500a7
[1115705 Async ks-group-memberalt:1149211]: finished get_or_add_group_project_role member 3e44a5e406294d60ace6966b16c0c73b 8cf27d3409a94f9690f8741ce3eca5e6 with result 0 in 12 seconds
[1115705 Async ks-group-anotheralt:1149292]: Waiting for completion of get_or_add_group_project_role anotherrole 3e44a5e406294d60ace6966b16c0c73b 8cf27d3409a94f9690f8741ce3eca5e6 running on PID 1149292 (3 other jobs running)
[1115705 Async ks-group-anotheralt:1149292]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:64                 :   rc=0
[1149292 Async ks-group-anotheralt:1149292]: finished successfully
[1149373 Async ks-group-admin:1149373]: finished successfully
WAKEUP
[1115705 Async ks-group-anotheralt:1149292]: Signaled
+ functions-common:get_or_add_group_project_role:1040 :   local group_role_id
+ functions-common:get_or_add_group_project_role:1044 :   openstack role add anotherrole --group 3e44a5e406294d60ace6966b16c0c73b --project 8cf27d3409a94f9690f8741ce3eca5e6
++ functions-common:get_or_add_group_project_role:1051 :   oscwrap --os-cloud devstack-system-admin role assignment list --role anotherrole --group 3e44a5e406294d60ace6966b16c0c73b --project 8cf27d3409a94f9690f8741ce3eca5e6 -f value -c Role
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_group_project_role:1051 :   group_role_id=cb26b3d0b61e4208902c48e100e68eb4
+ functions-common:get_or_add_group_project_role:1053 :   echo cb26b3d0b61e4208902c48e100e68eb4
cb26b3d0b61e4208902c48e100e68eb4
[1115705 Async ks-group-anotheralt:1149292]: finished get_or_add_group_project_role anotherrole 3e44a5e406294d60ace6966b16c0c73b 8cf27d3409a94f9690f8741ce3eca5e6 with result 0 in 12 seconds
[1115705 Async ks-group-admin:1149373]: Waiting for completion of get_or_add_group_project_role admin 50d4e4aca90d42bbab51b62f2b842346 f0f2107c34d0459b87738cd364a842e5 running on PID 1149373 (2 other jobs running)
[1115705 Async ks-group-admin:1149373]: Signaling child to exit
WAKEUP
[1115705 Async ks-group-admin:1149373]: Signaled
+ functions-common:get_or_add_group_project_role:1040 :   local group_role_id
+ functions-common:get_or_add_group_project_role:1044 :   openstack role add admin --group 50d4e4aca90d42bbab51b62f2b842346 --project f0f2107c34d0459b87738cd364a842e5
++ functions-common:get_or_add_group_project_role:1051 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --group 50d4e4aca90d42bbab51b62f2b842346 --project f0f2107c34d0459b87738cd364a842e5 -f value -c Role
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_group_project_role:1051 :   group_role_id=e2110fd61fd44eb2954c23f5abc7d6de
+ functions-common:get_or_add_group_project_role:1053 :   echo e2110fd61fd44eb2954c23f5abc7d6de
e2110fd61fd44eb2954c23f5abc7d6de
[1115705 Async ks-group-admin:1149373]: finished get_or_add_group_project_role admin 50d4e4aca90d42bbab51b62f2b842346 f0f2107c34d0459b87738cd364a842e5 with result 0 in 12 seconds
+ inc/async:async_wait:197                 :   return 0
+ lib/keystone:create_keystone_accounts:403 :   is_service_enabled ldap
+ functions-common:is_service_enabled:2077 :   return 1
+ ./stack.sh:main:1138                     :   is_service_enabled nova
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1139                     :   async_runfunc create_nova_accounts
+ inc/async:async_runfunc:116              :   async_run create_nova_accounts create_nova_accounts
+ inc/async:async_inner:63                 :   create_nova_accounts
[1115705 Async create_nova_accounts:1151294]: running: create_nova_accounts
+ ./stack.sh:main:1141                     :   is_service_enabled glance
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1142                     :   async_runfunc create_glance_accounts
+ inc/async:async_runfunc:116              :   async_run create_glance_accounts create_glance_accounts
+ inc/async:async_inner:63                 :   create_glance_accounts
[1115705 Async create_glance_accounts:1151417]: running: create_glance_accounts
+ ./stack.sh:main:1144                     :   is_service_enabled cinder
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1145                     :   async_runfunc create_cinder_accounts
+ inc/async:async_runfunc:116              :   async_run create_cinder_accounts create_cinder_accounts
+ inc/async:async_inner:63                 :   create_cinder_accounts
[1115705 Async create_cinder_accounts:1151557]: running: create_cinder_accounts
+ ./stack.sh:main:1147                     :   is_service_enabled neutron
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1148                     :   async_runfunc create_neutron_accounts
+ inc/async:async_runfunc:116              :   async_run create_neutron_accounts create_neutron_accounts
+ inc/async:async_inner:63                 :   create_neutron_accounts
[1115705 Async create_neutron_accounts:1151701]: running: create_neutron_accounts
+ ./stack.sh:main:1150                     :   is_service_enabled swift
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1151                     :   async_runfunc create_swift_accounts
+ inc/async:async_runfunc:116              :   async_run create_swift_accounts create_swift_accounts
+ inc/async:async_inner:63                 :   create_swift_accounts
[1115705 Async create_swift_accounts:1151852]: running: create_swift_accounts
+ ./stack.sh:main:1159                     :   is_service_enabled horizon
+ functions-common:is_service_enabled:2077 :   return 1
+ ./stack.sh:main:1164                     :   async_wait create_nova_accounts create_glance_accounts create_cinder_accounts
[1115705 Async create_nova_accounts:1151294]: Waiting for completion of create_nova_accounts running on PID 1151294 (6 other jobs running)
[1115705 Async create_nova_accounts:1151294]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
[1151701 Async create_neutron_accounts:1151701]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
[1151557 Async create_cinder_accounts:1151557]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
[1151294 Async create_nova_accounts:1151294]: finished successfully
WAKEUP
[1115705 Async create_nova_accounts:1151294]: Signaled
+ lib/nova:create_nova_accounts:384        :   [[ c-api,c-bak,c-sch,c-vol,cinder,etcd3,g-api,g-reg,key,mysql,n-api,n-api-meta,n-cauth,n-cond,n-cpu,n-novnc,n-obj,n-sch,placement-api,q-agt,q-dhcp,q-l3,q-meta,q-metering,q-svc,rabbit,s-account,s-container,s-object,s-proxy,tempest =~ n-api ]]
+ lib/nova:create_nova_accounts:388        :   create_service_user nova admin
+ lib/keystone:create_service_user:416     :   get_or_create_user nova Hitachino1 Default
+ functions-common:get_or_create_user:903  :   local user_id
+ functions-common:get_or_create_user:904  :   [[ ! -z '' ]]
+ functions-common:get_or_create_user:907  :   local email=
++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create nova --password Hitachino1 --domain=Default --or-show -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_user:919  :   user_id=c392d9265cf742299acfa07cca1eecaf
+ functions-common:get_or_create_user:920  :   echo c392d9265cf742299acfa07cca1eecaf
c392d9265cf742299acfa07cca1eecaf
+ lib/keystone:create_service_user:417     :   get_or_add_user_project_role service nova service Default Default
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n Default ]]
++ functions-common:_get_domain_args:955    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:957    :   [[ -n Default ]]
++ functions-common:_get_domain_args:958    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:961    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:970 :   domain_args='--user-domain Default --project-domain Default'
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add service --user nova --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user nova --project service --user-domain Default --project-domain Default -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=d77b450c937344b1a37442161a915b2f
+ functions-common:get_or_add_user_project_role:984 :   echo d77b450c937344b1a37442161a915b2f
d77b450c937344b1a37442161a915b2f
+ lib/keystone:create_service_user:419     :   [[ -n admin ]]
+ lib/keystone:create_service_user:420     :   get_or_add_user_project_role admin nova service Default Default
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n Default ]]
++ functions-common:_get_domain_args:955    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:957    :   [[ -n Default ]]
++ functions-common:_get_domain_args:958    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:961    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:970 :   domain_args='--user-domain Default --project-domain Default'
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add admin --user nova --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user nova --project service --user-domain Default --project-domain Default -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=e2110fd61fd44eb2954c23f5abc7d6de
+ functions-common:get_or_add_user_project_role:984 :   echo e2110fd61fd44eb2954c23f5abc7d6de
e2110fd61fd44eb2954c23f5abc7d6de
+ lib/nova:create_nova_accounts:390        :   local nova_api_url
+ lib/nova:create_nova_accounts:391        :   nova_api_url=http://172.25.93.57/compute
+ lib/nova:create_nova_accounts:393        :   get_or_create_service nova_legacy compute_legacy 'Nova Compute Service (Legacy 2.0)'
+ functions-common:get_or_create_service:1059 :   local service_id
++ functions-common:get_or_create_service:1072 :   oscwrap --os-cloud devstack-system-admin service show compute_legacy -f value -c id
++ functions-common:get_or_create_service:1074 :   oscwrap --os-cloud devstack-system-admin service create compute_legacy --name nova_legacy '--description=Nova Compute Service (Legacy 2.0)' -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_service:1070 :   service_id='
0140226f54494c0096b043a443a20fab'
+ functions-common:get_or_create_service:1071 :   echo 0140226f54494c0096b043a443a20fab
0140226f54494c0096b043a443a20fab
+ lib/nova:create_nova_accounts:395        :   get_or_create_endpoint compute_legacy RegionOne 'http://172.25.93.57/compute/v2/$(project_id)s'
+ functions-common:get_or_create_endpoint:1103 :   local public_id
++ functions-common:get_or_create_endpoint:1104 :   _get_or_create_endpoint_with_interface compute_legacy public 'http://172.25.93.57/compute/v2/$(project_id)s' RegionOne
++ functions-common:_get_or_create_endpoint_with_interface:1077 :   local endpoint_id
+++ functions-common:_get_or_create_endpoint_with_interface:1082 :   oscwrap --os-cloud devstack-system-admin endpoint list --service compute_legacy --interface public --region RegionOne -c ID -f value
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1082 :   endpoint_id=
++ functions-common:_get_or_create_endpoint_with_interface:1083 :   [[ -z '' ]]
+++ functions-common:_get_or_create_endpoint_with_interface:1086 :   oscwrap --os-cloud devstack-system-admin endpoint create compute_legacy public 'http://172.25.93.57/compute/v2/$(project_id)s' --region RegionOne -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1086 :   endpoint_id=3870dc8174514447989ad5778fe9fecb
++ functions-common:_get_or_create_endpoint_with_interface:1089 :   echo 3870dc8174514447989ad5778fe9fecb
+ functions-common:get_or_create_endpoint:1104 :   public_id=3870dc8174514447989ad5778fe9fecb
+ functions-common:get_or_create_endpoint:1106 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1109 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1113 :   echo 3870dc8174514447989ad5778fe9fecb
3870dc8174514447989ad5778fe9fecb
+ lib/nova:create_nova_accounts:399        :   get_or_create_service nova compute 'Nova Compute Service'
+ functions-common:get_or_create_service:1059 :   local service_id
++ functions-common:get_or_create_service:1072 :   oscwrap --os-cloud devstack-system-admin service show compute -f value -c id
++ functions-common:get_or_create_service:1074 :   oscwrap --os-cloud devstack-system-admin service create compute --name nova '--description=Nova Compute Service' -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_service:1070 :   service_id='
ef52a76cafed4fef8aad0c21fefde6ba'
+ functions-common:get_or_create_service:1071 :   echo ef52a76cafed4fef8aad0c21fefde6ba
ef52a76cafed4fef8aad0c21fefde6ba
+ lib/nova:create_nova_accounts:401        :   get_or_create_endpoint compute RegionOne http://172.25.93.57/compute/v2.1
+ functions-common:get_or_create_endpoint:1103 :   local public_id
++ functions-common:get_or_create_endpoint:1104 :   _get_or_create_endpoint_with_interface compute public http://172.25.93.57/compute/v2.1 RegionOne
++ functions-common:_get_or_create_endpoint_with_interface:1077 :   local endpoint_id
+++ functions-common:_get_or_create_endpoint_with_interface:1082 :   oscwrap --os-cloud devstack-system-admin endpoint list --service compute --interface public --region RegionOne -c ID -f value
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1082 :   endpoint_id=
++ functions-common:_get_or_create_endpoint_with_interface:1083 :   [[ -z '' ]]
+++ functions-common:_get_or_create_endpoint_with_interface:1086 :   oscwrap --os-cloud devstack-system-admin endpoint create compute public http://172.25.93.57/compute/v2.1 --region RegionOne -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1086 :   endpoint_id=5ea6673e053c4696b6376484afc82f47
++ functions-common:_get_or_create_endpoint_with_interface:1089 :   echo 5ea6673e053c4696b6376484afc82f47
+ functions-common:get_or_create_endpoint:1104 :   public_id=5ea6673e053c4696b6376484afc82f47
+ functions-common:get_or_create_endpoint:1106 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1109 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1113 :   echo 5ea6673e053c4696b6376484afc82f47
5ea6673e053c4696b6376484afc82f47
+ lib/nova:create_nova_accounts:406        :   is_service_enabled n-api
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova:create_nova_accounts:408        :   is_service_enabled swift
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova:create_nova_accounts:411        :   get_or_add_user_project_role ResellerAdmin nova service Default Default
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n Default ]]
++ functions-common:_get_domain_args:955    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:957    :   [[ -n Default ]]
++ functions-common:_get_domain_args:958    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:961    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:970 :   domain_args='--user-domain Default --project-domain Default'
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add ResellerAdmin --user nova --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role ResellerAdmin --user nova --project service --user-domain Default --project-domain Default -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=32fa5f6edaa04653aa62efb759b45d84
+ functions-common:get_or_add_user_project_role:984 :   echo 32fa5f6edaa04653aa62efb759b45d84
32fa5f6edaa04653aa62efb759b45d84
+ lib/nova:create_nova_accounts:416        :   is_service_enabled s3api
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/nova:create_nova_accounts:427        :   is_service_enabled n-api
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova:create_nova_accounts:428        :   [[ False = True ]]
[1115705 Async create_nova_accounts:1151294]: finished create_nova_accounts with result 0 in 92 seconds
[1115705 Async create_glance_accounts:1151417]: Waiting for completion of create_glance_accounts running on PID 1151417 (5 other jobs running)
[1115705 Async create_glance_accounts:1151417]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
[1151417 Async create_glance_accounts:1151417]: finished successfully
WAKEUP
[1115705 Async create_glance_accounts:1151417]: Signaled
+ lib/glance:create_glance_accounts:508    :   is_service_enabled g-api
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/glance:create_glance_accounts:510    :   create_service_user glance
+ lib/keystone:create_service_user:416     :   get_or_create_user glance Hitachino1 Default
+ functions-common:get_or_create_user:903  :   local user_id
+ functions-common:get_or_create_user:904  :   [[ ! -z '' ]]
+ functions-common:get_or_create_user:907  :   local email=
++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create glance --password Hitachino1 --domain=Default --or-show -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_user:919  :   user_id=26976f169cb6419892be2dc461e693ad
+ functions-common:get_or_create_user:920  :   echo 26976f169cb6419892be2dc461e693ad
26976f169cb6419892be2dc461e693ad
+ lib/keystone:create_service_user:417     :   get_or_add_user_project_role service glance service Default Default
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n Default ]]
++ functions-common:_get_domain_args:955    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:957    :   [[ -n Default ]]
++ functions-common:_get_domain_args:958    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:961    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:970 :   domain_args='--user-domain Default --project-domain Default'
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add service --user glance --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user glance --project service --user-domain Default --project-domain Default -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=d77b450c937344b1a37442161a915b2f
+ functions-common:get_or_add_user_project_role:984 :   echo d77b450c937344b1a37442161a915b2f
d77b450c937344b1a37442161a915b2f
+ lib/keystone:create_service_user:419     :   [[ -n '' ]]
+ lib/glance:create_glance_accounts:513    :   is_service_enabled s-proxy
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/glance:create_glance_accounts:514    :   create_service_user glance-swift ResellerAdmin
+ lib/keystone:create_service_user:416     :   get_or_create_user glance-swift Hitachino1 Default
+ functions-common:get_or_create_user:903  :   local user_id
+ functions-common:get_or_create_user:904  :   [[ ! -z '' ]]
+ functions-common:get_or_create_user:907  :   local email=
++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create glance-swift --password Hitachino1 --domain=Default --or-show -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_user:919  :   user_id=0e0a58b202ec4f0da4e3f63f0903cf70
+ functions-common:get_or_create_user:920  :   echo 0e0a58b202ec4f0da4e3f63f0903cf70
0e0a58b202ec4f0da4e3f63f0903cf70
+ lib/keystone:create_service_user:417     :   get_or_add_user_project_role service glance-swift service Default Default
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n Default ]]
++ functions-common:_get_domain_args:955    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:957    :   [[ -n Default ]]
++ functions-common:_get_domain_args:958    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:961    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:970 :   domain_args='--user-domain Default --project-domain Default'
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add service --user glance-swift --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user glance-swift --project service --user-domain Default --project-domain Default -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=d77b450c937344b1a37442161a915b2f
+ functions-common:get_or_add_user_project_role:984 :   echo d77b450c937344b1a37442161a915b2f
d77b450c937344b1a37442161a915b2f
+ lib/keystone:create_service_user:419     :   [[ -n ResellerAdmin ]]
+ lib/keystone:create_service_user:420     :   get_or_add_user_project_role ResellerAdmin glance-swift service Default Default
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n Default ]]
++ functions-common:_get_domain_args:955    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:957    :   [[ -n Default ]]
++ functions-common:_get_domain_args:958    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:961    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:970 :   domain_args='--user-domain Default --project-domain Default'
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add ResellerAdmin --user glance-swift --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role ResellerAdmin --user glance-swift --project service --user-domain Default --project-domain Default -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=32fa5f6edaa04653aa62efb759b45d84
+ functions-common:get_or_add_user_project_role:984 :   echo 32fa5f6edaa04653aa62efb759b45d84
32fa5f6edaa04653aa62efb759b45d84
+ lib/glance:create_glance_accounts:517    :   get_or_create_service glance image 'Glance Image Service'
+ functions-common:get_or_create_service:1059 :   local service_id
++ functions-common:get_or_create_service:1072 :   oscwrap --os-cloud devstack-system-admin service show image -f value -c id
++ functions-common:get_or_create_service:1074 :   oscwrap --os-cloud devstack-system-admin service create image --name glance '--description=Glance Image Service' -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_service:1070 :   service_id='
46882ab3ce1b4072a97152f99578b8dc'
+ functions-common:get_or_create_service:1071 :   echo 46882ab3ce1b4072a97152f99578b8dc
46882ab3ce1b4072a97152f99578b8dc
+ lib/glance:create_glance_accounts:519    :   get_or_create_endpoint image RegionOne http://172.25.93.57/image
+ functions-common:get_or_create_endpoint:1103 :   local public_id
++ functions-common:get_or_create_endpoint:1104 :   _get_or_create_endpoint_with_interface image public http://172.25.93.57/image RegionOne
++ functions-common:_get_or_create_endpoint_with_interface:1077 :   local endpoint_id
+++ functions-common:_get_or_create_endpoint_with_interface:1082 :   oscwrap --os-cloud devstack-system-admin endpoint list --service image --interface public --region RegionOne -c ID -f value
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1082 :   endpoint_id=
++ functions-common:_get_or_create_endpoint_with_interface:1083 :   [[ -z '' ]]
+++ functions-common:_get_or_create_endpoint_with_interface:1086 :   oscwrap --os-cloud devstack-system-admin endpoint create image public http://172.25.93.57/image --region RegionOne -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1086 :   endpoint_id=ee434470db594918af518bf52dfa80a4
++ functions-common:_get_or_create_endpoint_with_interface:1089 :   echo ee434470db594918af518bf52dfa80a4
+ functions-common:get_or_create_endpoint:1104 :   public_id=ee434470db594918af518bf52dfa80a4
+ functions-common:get_or_create_endpoint:1106 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1109 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1113 :   echo ee434470db594918af518bf52dfa80a4
ee434470db594918af518bf52dfa80a4
++ lib/glance:create_glance_accounts:524    :   get_or_create_domain Default
++ functions-common:get_or_create_domain:876 :   local domain_id
+++ functions-common:get_or_create_domain:882 :   oscwrap --os-cloud devstack-system-admin domain create Default --description '' --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_domain:881 :   domain_id=default
++ functions-common:get_or_create_domain:882 :   echo default
+ lib/glance:create_glance_accounts:524    :   service_domain_id=default
+ lib/glance:create_glance_accounts:525    :   iniset /etc/glance/glance-swift-store.conf ref1 project_domain_id default
+ lib/glance:create_glance_accounts:526    :   iniset /etc/glance/glance-swift-store.conf ref1 user_domain_id default
+ lib/glance:create_glance_accounts:528    :   [[ True = True ]]
+ lib/glance:create_glance_accounts:529    :   configure_glance_quotas
+ lib/glance:configure_glance_quotas:331   :   openstack --os-cloud devstack-system-admin registered limit create --service glance --default-limit 2000 --region RegionOne image_size_total
+---------------+----------------------------------+
| Field         | Value                            |
+---------------+----------------------------------+
| default_limit | 2000                             |
| description   | None                             |
| id            | 4687d7be394246448f40a7f06a91bd94 |
| region_id     | RegionOne                        |
| resource_name | image_size_total                 |
| service_id    | 46882ab3ce1b4072a97152f99578b8dc |
+---------------+----------------------------------+
+ lib/glance:configure_glance_quotas:333   :   openstack --os-cloud devstack-system-admin registered limit create --service glance --default-limit 2000 --region RegionOne image_stage_total
+---------------+----------------------------------+
| Field         | Value                            |
+---------------+----------------------------------+
| default_limit | 2000                             |
| description   | None                             |
| id            | 1036a79d390c425ea169a34376bac1ee |
| region_id     | RegionOne                        |
| resource_name | image_stage_total                |
| service_id    | 46882ab3ce1b4072a97152f99578b8dc |
+---------------+----------------------------------+
+ lib/glance:configure_glance_quotas:335   :   openstack --os-cloud devstack-system-admin registered limit create --service glance --default-limit 100 --region RegionOne image_count_total
+---------------+----------------------------------+
| Field         | Value                            |
+---------------+----------------------------------+
| default_limit | 100                              |
| description   | None                             |
| id            | 4191b0efd2d7494e85561398ce54467f |
| region_id     | RegionOne                        |
| resource_name | image_count_total                |
| service_id    | 46882ab3ce1b4072a97152f99578b8dc |
+---------------+----------------------------------+
+ lib/glance:configure_glance_quotas:337   :   openstack --os-cloud devstack-system-admin registered limit create --service glance --default-limit 100 --region RegionOne image_count_uploading
+---------------+----------------------------------+
| Field         | Value                            |
+---------------+----------------------------------+
| default_limit | 100                              |
| description   | None                             |
| id            | 2e9e82ad8a584a99a44e6f39479000ab |
| region_id     | RegionOne                        |
| resource_name | image_count_uploading            |
| service_id    | 46882ab3ce1b4072a97152f99578b8dc |
+---------------+----------------------------------+
+ lib/glance:configure_glance_quotas:341   :   iniset /etc/glance/glance-api.conf DEFAULT use_keystone_limits True
+ lib/glance:configure_glance_quotas:344   :   iniset /etc/glance/glance-api.conf oslo_limit user_domain_name Default
+ lib/glance:configure_glance_quotas:345   :   iniset /etc/glance/glance-api.conf oslo_limit password Hitachino1
+ lib/glance:configure_glance_quotas:346   :   iniset /etc/glance/glance-api.conf oslo_limit username glance
+ lib/glance:configure_glance_quotas:347   :   iniset /etc/glance/glance-api.conf oslo_limit auth_type password
+ lib/glance:configure_glance_quotas:348   :   iniset /etc/glance/glance-api.conf oslo_limit auth_url http://172.25.93.57/identity
+ lib/glance:configure_glance_quotas:349   :   iniset /etc/glance/glance-api.conf oslo_limit system_scope all
++ lib/glance:configure_glance_quotas:350   :   oscwrap --os-cloud devstack-system-admin endpoint list --service glance -f value -c ID
++ functions-common:oscwrap:2466            :   return 0
+ lib/glance:configure_glance_quotas:350   :   iniset /etc/glance/glance-api.conf oslo_limit endpoint_id ee434470db594918af518bf52dfa80a4
+ lib/glance:configure_glance_quotas:354   :   openstack --os-cloud devstack-system-admin role add --user glance --user-domain Default --system all reader
+ lib/glance:create_glance_accounts:532    :   is_service_enabled s3api
+ functions-common:is_service_enabled:2077 :   return 1
[1115705 Async create_glance_accounts:1151417]: finished create_glance_accounts with result 0 in 108 seconds
[1115705 Async create_cinder_accounts:1151557]: Waiting for completion of create_cinder_accounts running on PID 1151557 (4 other jobs running)
[1115705 Async create_cinder_accounts:1151557]: Signaling child to exit
WAKEUP
[1115705 Async create_cinder_accounts:1151557]: Signaled
+ lib/cinder:create_cinder_accounts:458    :   [[ c-api,c-bak,c-sch,c-vol,cinder,etcd3,g-api,g-reg,key,mysql,n-api,n-api-meta,n-cauth,n-cond,n-cpu,n-novnc,n-obj,n-sch,placement-api,q-agt,q-dhcp,q-l3,q-meta,q-metering,q-svc,rabbit,s-account,s-container,s-object,s-proxy,tempest =~ c-api ]]
+ lib/cinder:create_cinder_accounts:460    :   local extra_role=
+ lib/cinder:create_cinder_accounts:463    :   is_service_enabled barbican
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/cinder:create_cinder_accounts:467    :   create_service_user cinder
+ lib/keystone:create_service_user:416     :   get_or_create_user cinder Hitachino1 Default
+ functions-common:get_or_create_user:903  :   local user_id
+ functions-common:get_or_create_user:904  :   [[ ! -z '' ]]
+ functions-common:get_or_create_user:907  :   local email=
++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create cinder --password Hitachino1 --domain=Default --or-show -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_user:919  :   user_id=413bdd2beb414b498b8494eb48a589a6
+ functions-common:get_or_create_user:920  :   echo 413bdd2beb414b498b8494eb48a589a6
413bdd2beb414b498b8494eb48a589a6
+ lib/keystone:create_service_user:417     :   get_or_add_user_project_role service cinder service Default Default
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n Default ]]
++ functions-common:_get_domain_args:955    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:957    :   [[ -n Default ]]
++ functions-common:_get_domain_args:958    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:961    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:970 :   domain_args='--user-domain Default --project-domain Default'
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add service --user cinder --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user cinder --project service --user-domain Default --project-domain Default -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=d77b450c937344b1a37442161a915b2f
+ functions-common:get_or_add_user_project_role:984 :   echo d77b450c937344b1a37442161a915b2f
d77b450c937344b1a37442161a915b2f
+ lib/keystone:create_service_user:419     :   [[ -n '' ]]
+ lib/cinder:create_cinder_accounts:469    :   local cinder_api_url
+ lib/cinder:create_cinder_accounts:470    :   cinder_api_url=http://172.25.93.57/volume
+ lib/cinder:create_cinder_accounts:473    :   get_or_create_service cinder block-storage 'Cinder Volume Service'
+ functions-common:get_or_create_service:1059 :   local service_id
++ functions-common:get_or_create_service:1072 :   oscwrap --os-cloud devstack-system-admin service show block-storage -f value -c id
++ functions-common:get_or_create_service:1074 :   oscwrap --os-cloud devstack-system-admin service create block-storage --name cinder '--description=Cinder Volume Service' -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_service:1070 :   service_id='
bc7a5387955b44cca77aba803602e7e1'
+ functions-common:get_or_create_service:1071 :   echo bc7a5387955b44cca77aba803602e7e1
bc7a5387955b44cca77aba803602e7e1
+ lib/cinder:create_cinder_accounts:475    :   get_or_create_endpoint block-storage RegionOne http://172.25.93.57/volume/v3
+ functions-common:get_or_create_endpoint:1103 :   local public_id
++ functions-common:get_or_create_endpoint:1104 :   _get_or_create_endpoint_with_interface block-storage public http://172.25.93.57/volume/v3 RegionOne
++ functions-common:_get_or_create_endpoint_with_interface:1077 :   local endpoint_id
+++ functions-common:_get_or_create_endpoint_with_interface:1082 :   oscwrap --os-cloud devstack-system-admin endpoint list --service block-storage --interface public --region RegionOne -c ID -f value
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1082 :   endpoint_id=
++ functions-common:_get_or_create_endpoint_with_interface:1083 :   [[ -z '' ]]
+++ functions-common:_get_or_create_endpoint_with_interface:1086 :   oscwrap --os-cloud devstack-system-admin endpoint create block-storage public http://172.25.93.57/volume/v3 --region RegionOne -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1086 :   endpoint_id=e55780046c514836aee38512d028439b
++ functions-common:_get_or_create_endpoint_with_interface:1089 :   echo e55780046c514836aee38512d028439b
+ functions-common:get_or_create_endpoint:1104 :   public_id=e55780046c514836aee38512d028439b
+ functions-common:get_or_create_endpoint:1106 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1109 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1113 :   echo e55780046c514836aee38512d028439b
e55780046c514836aee38512d028439b
+ lib/cinder:create_cinder_accounts:478    :   configure_cinder_internal_tenant
++ lib/cinder:configure_cinder_internal_tenant:696 :   get_or_create_project service
++ functions-common:get_or_create_project:926 :   local project_id
+++ functions-common:get_or_create_project:934 :   oscwrap --os-cloud devstack-system-admin project create service --domain= --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_project:932 :   project_id=0d8bdd5e116d4067863557cdd810ec7c
++ functions-common:get_or_create_project:933 :   echo 0d8bdd5e116d4067863557cdd810ec7c
+ lib/cinder:configure_cinder_internal_tenant:696 :   iniset /etc/cinder/cinder.conf DEFAULT cinder_internal_tenant_project_id 0d8bdd5e116d4067863557cdd810ec7c
++ lib/cinder:configure_cinder_internal_tenant:697 :   get_or_create_user cinder
++ functions-common:get_or_create_user:903  :   local user_id
++ functions-common:get_or_create_user:904  :   [[ ! -z '' ]]
++ functions-common:get_or_create_user:907  :   local email=
+++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create cinder --password '' --domain= --or-show -f value -c id
No password was supplied, authentication will fail when a user does not have a password.
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_user:919  :   user_id=413bdd2beb414b498b8494eb48a589a6
++ functions-common:get_or_create_user:920  :   echo 413bdd2beb414b498b8494eb48a589a6
+ lib/cinder:configure_cinder_internal_tenant:697 :   iniset /etc/cinder/cinder.conf DEFAULT cinder_internal_tenant_user_id 413bdd2beb414b498b8494eb48a589a6
[1115705 Async create_cinder_accounts:1151557]: finished create_cinder_accounts with result 0 in 54 seconds
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1165                     :   async_wait create_neutron_accounts create_swift_accounts configure_horizon
[1115705 Async create_neutron_accounts:1151701]: Waiting for completion of create_neutron_accounts running on PID 1151701 (3 other jobs running)
[1115705 Async create_neutron_accounts:1151701]: Signaling child to exit
WAKEUP
[1115705 Async create_neutron_accounts:1151701]: Signaled
+ lib/neutron:create_neutron_accounts:503  :   local neutron_url
+ lib/neutron:create_neutron_accounts:504  :   '[' False == True ']'
+ lib/neutron:create_neutron_accounts:507  :   neutron_url=http://172.25.93.57:9696/
+ lib/neutron:create_neutron_accounts:509  :   '[' '!' -z networking ']'
+ lib/neutron:create_neutron_accounts:510  :   neutron_url=http://172.25.93.57:9696/networking
+ lib/neutron:create_neutron_accounts:513  :   is_service_enabled q-svc neutron-api
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/neutron:create_neutron_accounts:515  :   create_service_user neutron
+ lib/keystone:create_service_user:416     :   get_or_create_user neutron Hitachino1 Default
+ functions-common:get_or_create_user:903  :   local user_id
+ functions-common:get_or_create_user:904  :   [[ ! -z '' ]]
+ functions-common:get_or_create_user:907  :   local email=
++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create neutron --password Hitachino1 --domain=Default --or-show -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_user:919  :   user_id=a01bcebabaca421aa46cca22b6e83b3a
+ functions-common:get_or_create_user:920  :   echo a01bcebabaca421aa46cca22b6e83b3a
a01bcebabaca421aa46cca22b6e83b3a
+ lib/keystone:create_service_user:417     :   get_or_add_user_project_role service neutron service Default Default
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n Default ]]
++ functions-common:_get_domain_args:955    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:957    :   [[ -n Default ]]
++ functions-common:_get_domain_args:958    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:961    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:970 :   domain_args='--user-domain Default --project-domain Default'
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add service --user neutron --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user neutron --project service --user-domain Default --project-domain Default -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=d77b450c937344b1a37442161a915b2f
+ functions-common:get_or_add_user_project_role:984 :   echo d77b450c937344b1a37442161a915b2f
d77b450c937344b1a37442161a915b2f
+ lib/keystone:create_service_user:419     :   [[ -n '' ]]
+ lib/neutron:create_neutron_accounts:517  :   get_or_create_service neutron network 'Neutron Service'
+ functions-common:get_or_create_service:1059 :   local service_id
++ functions-common:get_or_create_service:1072 :   oscwrap --os-cloud devstack-system-admin service show network -f value -c id
++ functions-common:get_or_create_service:1074 :   oscwrap --os-cloud devstack-system-admin service create network --name neutron '--description=Neutron Service' -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_service:1070 :   service_id='
79aef34712204448997e03b05d9ffc64'
+ functions-common:get_or_create_service:1071 :   echo 79aef34712204448997e03b05d9ffc64
79aef34712204448997e03b05d9ffc64
+ lib/neutron:create_neutron_accounts:519  :   get_or_create_endpoint network RegionOne http://172.25.93.57:9696/networking
+ functions-common:get_or_create_endpoint:1103 :   local public_id
++ functions-common:get_or_create_endpoint:1104 :   _get_or_create_endpoint_with_interface network public http://172.25.93.57:9696/networking RegionOne
++ functions-common:_get_or_create_endpoint_with_interface:1077 :   local endpoint_id
+++ functions-common:_get_or_create_endpoint_with_interface:1082 :   oscwrap --os-cloud devstack-system-admin endpoint list --service network --interface public --region RegionOne -c ID -f value
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1082 :   endpoint_id=
++ functions-common:_get_or_create_endpoint_with_interface:1083 :   [[ -z '' ]]
+++ functions-common:_get_or_create_endpoint_with_interface:1086 :   oscwrap --os-cloud devstack-system-admin endpoint create network public http://172.25.93.57:9696/networking --region RegionOne -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1086 :   endpoint_id=a72ee38a547c4e8296aaf9d88066a76d
++ functions-common:_get_or_create_endpoint_with_interface:1089 :   echo a72ee38a547c4e8296aaf9d88066a76d
+ functions-common:get_or_create_endpoint:1104 :   public_id=a72ee38a547c4e8296aaf9d88066a76d
+ functions-common:get_or_create_endpoint:1106 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1109 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1113 :   echo a72ee38a547c4e8296aaf9d88066a76d
a72ee38a547c4e8296aaf9d88066a76d
[1115705 Async create_neutron_accounts:1151701]: finished create_neutron_accounts with result 0 in 47 seconds
[1115705 Async create_swift_accounts:1151852]: Waiting for completion of create_swift_accounts running on PID 1151852 (2 other jobs running)
[1115705 Async create_swift_accounts:1151852]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
[1151852 Async create_swift_accounts:1151852]: finished successfully
WAKEUP
[1115705 Async create_swift_accounts:1151852]: Signaled
+ lib/swift:create_swift_accounts:610      :   export swiftusertest1_password=testing
+ lib/swift:create_swift_accounts:610      :   swiftusertest1_password=testing
+ lib/swift:create_swift_accounts:611      :   export swiftusertest2_password=testing2
+ lib/swift:create_swift_accounts:611      :   swiftusertest2_password=testing2
+ lib/swift:create_swift_accounts:612      :   export swiftusertest3_password=testing3
+ lib/swift:create_swift_accounts:612      :   swiftusertest3_password=testing3
+ lib/swift:create_swift_accounts:613      :   export swiftusertest4_password=testing4
+ lib/swift:create_swift_accounts:613      :   swiftusertest4_password=testing4
+ lib/swift:create_swift_accounts:615      :   local another_role
++ lib/swift:create_swift_accounts:616      :   get_or_create_role anotherrole
++ functions-common:get_or_create_role:939  :   local role_id
+++ functions-common:get_or_create_role:946  :   oscwrap --os-cloud devstack-system-admin role create anotherrole --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_role:944  :   role_id=cb26b3d0b61e4208902c48e100e68eb4
++ functions-common:get_or_create_role:945  :   echo cb26b3d0b61e4208902c48e100e68eb4
+ lib/swift:create_swift_accounts:616      :   another_role=cb26b3d0b61e4208902c48e100e68eb4
+ lib/swift:create_swift_accounts:620      :   create_service_user swift admin
+ lib/keystone:create_service_user:416     :   get_or_create_user swift Hitachino1 Default
+ functions-common:get_or_create_user:903  :   local user_id
+ functions-common:get_or_create_user:904  :   [[ ! -z '' ]]
+ functions-common:get_or_create_user:907  :   local email=
++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create swift --password Hitachino1 --domain=Default --or-show -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_user:919  :   user_id=ccb04208039e4106a63d3a1b07164e2a
+ functions-common:get_or_create_user:920  :   echo ccb04208039e4106a63d3a1b07164e2a
ccb04208039e4106a63d3a1b07164e2a
+ lib/keystone:create_service_user:417     :   get_or_add_user_project_role service swift service Default Default
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n Default ]]
++ functions-common:_get_domain_args:955    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:957    :   [[ -n Default ]]
++ functions-common:_get_domain_args:958    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:961    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:970 :   domain_args='--user-domain Default --project-domain Default'
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add service --user swift --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user swift --project service --user-domain Default --project-domain Default -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=d77b450c937344b1a37442161a915b2f
+ functions-common:get_or_add_user_project_role:984 :   echo d77b450c937344b1a37442161a915b2f
d77b450c937344b1a37442161a915b2f
+ lib/keystone:create_service_user:419     :   [[ -n admin ]]
+ lib/keystone:create_service_user:420     :   get_or_add_user_project_role admin swift service Default Default
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n Default ]]
++ functions-common:_get_domain_args:955    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:957    :   [[ -n Default ]]
++ functions-common:_get_domain_args:958    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:961    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:970 :   domain_args='--user-domain Default --project-domain Default'
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add admin --user swift --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user swift --project service --user-domain Default --project-domain Default -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=e2110fd61fd44eb2954c23f5abc7d6de
+ functions-common:get_or_add_user_project_role:984 :   echo e2110fd61fd44eb2954c23f5abc7d6de
e2110fd61fd44eb2954c23f5abc7d6de
+ lib/swift:create_swift_accounts:622      :   get_or_create_service swift object-store 'Swift Service'
+ functions-common:get_or_create_service:1059 :   local service_id
++ functions-common:get_or_create_service:1072 :   oscwrap --os-cloud devstack-system-admin service show object-store -f value -c id
++ functions-common:get_or_create_service:1074 :   oscwrap --os-cloud devstack-system-admin service create object-store --name swift '--description=Swift Service' -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_service:1070 :   service_id='
814ff65cb209490c841881ab17881a9f'
+ functions-common:get_or_create_service:1071 :   echo 814ff65cb209490c841881ab17881a9f
814ff65cb209490c841881ab17881a9f
+ lib/swift:create_swift_accounts:624      :   get_or_create_endpoint object-store RegionOne 'http://172.25.93.57:8080/v1/AUTH_$(project_id)s' http://172.25.93.57:8080
+ functions-common:get_or_create_endpoint:1103 :   local public_id
++ functions-common:get_or_create_endpoint:1104 :   _get_or_create_endpoint_with_interface object-store public 'http://172.25.93.57:8080/v1/AUTH_$(project_id)s' RegionOne
++ functions-common:_get_or_create_endpoint_with_interface:1077 :   local endpoint_id
+++ functions-common:_get_or_create_endpoint_with_interface:1082 :   oscwrap --os-cloud devstack-system-admin endpoint list --service object-store --interface public --region RegionOne -c ID -f value
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1082 :   endpoint_id=
++ functions-common:_get_or_create_endpoint_with_interface:1083 :   [[ -z '' ]]
+++ functions-common:_get_or_create_endpoint_with_interface:1086 :   oscwrap --os-cloud devstack-system-admin endpoint create object-store public 'http://172.25.93.57:8080/v1/AUTH_$(project_id)s' --region RegionOne -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1086 :   endpoint_id=ee1d4197b46743a69cbfba0a60a3ef0c
++ functions-common:_get_or_create_endpoint_with_interface:1089 :   echo ee1d4197b46743a69cbfba0a60a3ef0c
+ functions-common:get_or_create_endpoint:1104 :   public_id=ee1d4197b46743a69cbfba0a60a3ef0c
+ functions-common:get_or_create_endpoint:1106 :   [[ -n http://172.25.93.57:8080 ]]
+ functions-common:get_or_create_endpoint:1107 :   _get_or_create_endpoint_with_interface object-store admin http://172.25.93.57:8080 RegionOne
+ functions-common:_get_or_create_endpoint_with_interface:1077 :   local endpoint_id
++ functions-common:_get_or_create_endpoint_with_interface:1082 :   oscwrap --os-cloud devstack-system-admin endpoint list --service object-store --interface admin --region RegionOne -c ID -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:_get_or_create_endpoint_with_interface:1082 :   endpoint_id=
+ functions-common:_get_or_create_endpoint_with_interface:1083 :   [[ -z '' ]]
++ functions-common:_get_or_create_endpoint_with_interface:1086 :   oscwrap --os-cloud devstack-system-admin endpoint create object-store admin http://172.25.93.57:8080 --region RegionOne -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:_get_or_create_endpoint_with_interface:1086 :   endpoint_id=38af7d11600a4094a7696a19d10f7745
+ functions-common:_get_or_create_endpoint_with_interface:1089 :   echo 38af7d11600a4094a7696a19d10f7745
38af7d11600a4094a7696a19d10f7745
+ functions-common:get_or_create_endpoint:1109 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1113 :   echo ee1d4197b46743a69cbfba0a60a3ef0c
ee1d4197b46743a69cbfba0a60a3ef0c
+ lib/swift:create_swift_accounts:629      :   local swift_project_test1
++ lib/swift:create_swift_accounts:630      :   get_or_create_project swiftprojecttest1 default
++ functions-common:get_or_create_project:926 :   local project_id
+++ functions-common:get_or_create_project:934 :   oscwrap --os-cloud devstack-system-admin project create swiftprojecttest1 --domain=default --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_project:932 :   project_id=a9c50c0410654d47b9d9192193053389
++ functions-common:get_or_create_project:933 :   echo a9c50c0410654d47b9d9192193053389
+ lib/swift:create_swift_accounts:630      :   swift_project_test1=a9c50c0410654d47b9d9192193053389
+ lib/swift:create_swift_accounts:631      :   die_if_not_set 631 swift_project_test1 'Failure creating swift_project_test1'
+ functions-common:die_if_not_set:303      :   local exitcode=0
++ lib/swift:create_swift_accounts:633      :   get_or_create_user swiftusertest1 testing default test@example.com
++ functions-common:get_or_create_user:903  :   local user_id
++ functions-common:get_or_create_user:904  :   [[ ! -z test@example.com ]]
++ functions-common:get_or_create_user:905  :   local email=--email=test@example.com
+++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create swiftusertest1 --password testing --domain=default --email=test@example.com --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_user:919  :   user_id=1ac976e7a082464aad08e28a9cdfdd74
++ functions-common:get_or_create_user:920  :   echo 1ac976e7a082464aad08e28a9cdfdd74
+ lib/swift:create_swift_accounts:633      :   SWIFT_USER_TEST1=1ac976e7a082464aad08e28a9cdfdd74
+ lib/swift:create_swift_accounts:634      :   die_if_not_set 634 SWIFT_USER_TEST1 'Failure creating SWIFT_USER_TEST1'
+ functions-common:die_if_not_set:303      :   local exitcode=0
+ lib/swift:create_swift_accounts:635      :   get_or_add_user_project_role admin 1ac976e7a082464aad08e28a9cdfdd74 a9c50c0410654d47b9d9192193053389
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n '' ]]
++ functions-common:_get_domain_args:957    :   [[ -n '' ]]
++ functions-common:_get_domain_args:961    :   echo
+ functions-common:get_or_add_user_project_role:970 :   domain_args=
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add admin --user 1ac976e7a082464aad08e28a9cdfdd74 --project a9c50c0410654d47b9d9192193053389
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user 1ac976e7a082464aad08e28a9cdfdd74 --project a9c50c0410654d47b9d9192193053389 -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=e2110fd61fd44eb2954c23f5abc7d6de
+ functions-common:get_or_add_user_project_role:984 :   echo e2110fd61fd44eb2954c23f5abc7d6de
e2110fd61fd44eb2954c23f5abc7d6de
+ lib/swift:create_swift_accounts:637      :   local swift_user_test3
++ lib/swift:create_swift_accounts:639      :   get_or_create_user swiftusertest3 testing3 default test3@example.com
++ functions-common:get_or_create_user:903  :   local user_id
++ functions-common:get_or_create_user:904  :   [[ ! -z test3@example.com ]]
++ functions-common:get_or_create_user:905  :   local email=--email=test3@example.com
+++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create swiftusertest3 --password testing3 --domain=default --email=test3@example.com --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_user:919  :   user_id=74f693e4238c45b1a3ab74f182833fea
++ functions-common:get_or_create_user:920  :   echo 74f693e4238c45b1a3ab74f182833fea
+ lib/swift:create_swift_accounts:639      :   swift_user_test3=74f693e4238c45b1a3ab74f182833fea
+ lib/swift:create_swift_accounts:640      :   die_if_not_set 640 swift_user_test3 'Failure creating swift_user_test3'
+ functions-common:die_if_not_set:303      :   local exitcode=0
+ lib/swift:create_swift_accounts:641      :   get_or_add_user_project_role cb26b3d0b61e4208902c48e100e68eb4 74f693e4238c45b1a3ab74f182833fea a9c50c0410654d47b9d9192193053389
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n '' ]]
++ functions-common:_get_domain_args:957    :   [[ -n '' ]]
++ functions-common:_get_domain_args:961    :   echo
+ functions-common:get_or_add_user_project_role:970 :   domain_args=
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add cb26b3d0b61e4208902c48e100e68eb4 --user 74f693e4238c45b1a3ab74f182833fea --project a9c50c0410654d47b9d9192193053389
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role cb26b3d0b61e4208902c48e100e68eb4 --user 74f693e4238c45b1a3ab74f182833fea --project a9c50c0410654d47b9d9192193053389 -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=cb26b3d0b61e4208902c48e100e68eb4
+ functions-common:get_or_add_user_project_role:984 :   echo cb26b3d0b61e4208902c48e100e68eb4
cb26b3d0b61e4208902c48e100e68eb4
+ lib/swift:create_swift_accounts:643      :   local swift_project_test2
++ lib/swift:create_swift_accounts:644      :   get_or_create_project swiftprojecttest2 default
++ functions-common:get_or_create_project:926 :   local project_id
+++ functions-common:get_or_create_project:934 :   oscwrap --os-cloud devstack-system-admin project create swiftprojecttest2 --domain=default --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_project:932 :   project_id=9add31dac33248dfa4aaa22b15918b2a
++ functions-common:get_or_create_project:933 :   echo 9add31dac33248dfa4aaa22b15918b2a
+ lib/swift:create_swift_accounts:644      :   swift_project_test2=9add31dac33248dfa4aaa22b15918b2a
+ lib/swift:create_swift_accounts:645      :   die_if_not_set 645 swift_project_test2 'Failure creating swift_project_test2'
+ functions-common:die_if_not_set:303      :   local exitcode=0
+ lib/swift:create_swift_accounts:647      :   local swift_user_test2
++ lib/swift:create_swift_accounts:649      :   get_or_create_user swiftusertest2 testing2 default test2@example.com
++ functions-common:get_or_create_user:903  :   local user_id
++ functions-common:get_or_create_user:904  :   [[ ! -z test2@example.com ]]
++ functions-common:get_or_create_user:905  :   local email=--email=test2@example.com
+++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create swiftusertest2 --password testing2 --domain=default --email=test2@example.com --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_user:919  :   user_id=4560ec644825441da9a70311fccc18e3
++ functions-common:get_or_create_user:920  :   echo 4560ec644825441da9a70311fccc18e3
+ lib/swift:create_swift_accounts:649      :   swift_user_test2=4560ec644825441da9a70311fccc18e3
+ lib/swift:create_swift_accounts:650      :   die_if_not_set 650 swift_user_test2 'Failure creating swift_user_test2'
+ functions-common:die_if_not_set:303      :   local exitcode=0
+ lib/swift:create_swift_accounts:651      :   get_or_add_user_project_role admin 4560ec644825441da9a70311fccc18e3 9add31dac33248dfa4aaa22b15918b2a
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n '' ]]
++ functions-common:_get_domain_args:957    :   [[ -n '' ]]
++ functions-common:_get_domain_args:961    :   echo
+ functions-common:get_or_add_user_project_role:970 :   domain_args=
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add admin --user 4560ec644825441da9a70311fccc18e3 --project 9add31dac33248dfa4aaa22b15918b2a
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user 4560ec644825441da9a70311fccc18e3 --project 9add31dac33248dfa4aaa22b15918b2a -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=e2110fd61fd44eb2954c23f5abc7d6de
+ functions-common:get_or_add_user_project_role:984 :   echo e2110fd61fd44eb2954c23f5abc7d6de
e2110fd61fd44eb2954c23f5abc7d6de
+ lib/swift:create_swift_accounts:653      :   local swift_domain
++ lib/swift:create_swift_accounts:654      :   get_or_create_domain swift_test 'Used for swift functional testing'
++ functions-common:get_or_create_domain:876 :   local domain_id
+++ functions-common:get_or_create_domain:882 :   oscwrap --os-cloud devstack-system-admin domain create swift_test --description 'Used for swift functional testing' --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_domain:881 :   domain_id=87344626c24d4c05bc19bf90119fb237
++ functions-common:get_or_create_domain:882 :   echo 87344626c24d4c05bc19bf90119fb237
+ lib/swift:create_swift_accounts:654      :   swift_domain=87344626c24d4c05bc19bf90119fb237
+ lib/swift:create_swift_accounts:655      :   die_if_not_set 655 swift_domain 'Failure creating swift_test domain'
+ functions-common:die_if_not_set:303      :   local exitcode=0
+ lib/swift:create_swift_accounts:657      :   local swift_project_test4
++ lib/swift:create_swift_accounts:658      :   get_or_create_project swiftprojecttest4 87344626c24d4c05bc19bf90119fb237
++ functions-common:get_or_create_project:926 :   local project_id
+++ functions-common:get_or_create_project:934 :   oscwrap --os-cloud devstack-system-admin project create swiftprojecttest4 --domain=87344626c24d4c05bc19bf90119fb237 --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_project:932 :   project_id=457ddff684214cf0bb28de4e9a3d74ba
++ functions-common:get_or_create_project:933 :   echo 457ddff684214cf0bb28de4e9a3d74ba
+ lib/swift:create_swift_accounts:658      :   swift_project_test4=457ddff684214cf0bb28de4e9a3d74ba
+ lib/swift:create_swift_accounts:659      :   die_if_not_set 659 swift_project_test4 'Failure creating swift_project_test4'
+ functions-common:die_if_not_set:303      :   local exitcode=0
+ lib/swift:create_swift_accounts:661      :   local swift_user_test4
++ lib/swift:create_swift_accounts:663      :   get_or_create_user swiftusertest4 testing4 87344626c24d4c05bc19bf90119fb237 test4@example.com
++ functions-common:get_or_create_user:903  :   local user_id
++ functions-common:get_or_create_user:904  :   [[ ! -z test4@example.com ]]
++ functions-common:get_or_create_user:905  :   local email=--email=test4@example.com
+++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create swiftusertest4 --password testing4 --domain=87344626c24d4c05bc19bf90119fb237 --email=test4@example.com --or-show -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:get_or_create_user:919  :   user_id=0d750878bf5d458fb946b8bdd645ddc7
++ functions-common:get_or_create_user:920  :   echo 0d750878bf5d458fb946b8bdd645ddc7
+ lib/swift:create_swift_accounts:663      :   swift_user_test4=0d750878bf5d458fb946b8bdd645ddc7
+ lib/swift:create_swift_accounts:664      :   die_if_not_set 664 swift_user_test4 'Failure creating swift_user_test4'
+ functions-common:die_if_not_set:303      :   local exitcode=0
+ lib/swift:create_swift_accounts:665      :   get_or_add_user_project_role admin 0d750878bf5d458fb946b8bdd645ddc7 457ddff684214cf0bb28de4e9a3d74ba
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n '' ]]
++ functions-common:_get_domain_args:957    :   [[ -n '' ]]
++ functions-common:_get_domain_args:961    :   echo
+ functions-common:get_or_add_user_project_role:970 :   domain_args=
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add admin --user 0d750878bf5d458fb946b8bdd645ddc7 --project 457ddff684214cf0bb28de4e9a3d74ba
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user 0d750878bf5d458fb946b8bdd645ddc7 --project 457ddff684214cf0bb28de4e9a3d74ba -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=e2110fd61fd44eb2954c23f5abc7d6de
+ functions-common:get_or_add_user_project_role:984 :   echo e2110fd61fd44eb2954c23f5abc7d6de
e2110fd61fd44eb2954c23f5abc7d6de
[1115705 Async create_swift_accounts:1151852]: finished create_swift_accounts with result 0 in 133 seconds
Not waiting for async task configure_horizon that we never started or has already been waited for
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1171                     :   is_service_enabled mysql postgresql
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1171                     :   is_service_enabled glance
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1172                     :   echo_summary 'Configuring Glance'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Configuring Glance
+ ./stack.sh:main:1173                     :   async_runfunc init_glance
+ inc/async:async_runfunc:116              :   async_run init_glance init_glance
+ inc/async:async_inner:63                 :   init_glance
[1115705 Async init_glance:1155584]: running: init_glance
+ ./stack.sh:main:1180                     :   is_service_enabled neutron
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1181                     :   echo_summary 'Configuring Neutron'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Configuring Neutron
+ ./stack.sh:main:1183                     :   configure_neutron
+ lib/neutron:configure_neutron:395        :   _configure_neutron_common
+ lib/neutron:_configure_neutron_common:899 :   _create_neutron_conf_dir
+ lib/neutron:_create_neutron_conf_dir:892 :   sudo install -d -o stack /etc/neutron
+ lib/neutron:_configure_neutron_common:902 :   cd /opt/stack/neutron
+ lib/neutron:_configure_neutron_common:902 :   exec ./tools/generate_config_file_samples.sh
+ inc/async:async_inner:64                 :   rc=0
[1155584 Async init_glance:1155584]: finished successfully
+ lib/neutron:_configure_neutron_common:904 :   cp /opt/stack/neutron/etc/neutron.conf.sample /etc/neutron/neutron.conf
+ lib/neutron:_configure_neutron_common:906 :   Q_POLICY_FILE=/etc/neutron/policy.json
+ lib/neutron:_configure_neutron_common:910 :   '[' -f /opt/stack/neutron/etc/policy.json ']'
+ lib/neutron:_configure_neutron_common:914 :   echo '{"context_is_admin":  "role:admin or user_name:neutron"}'
+ lib/neutron:_configure_neutron_common:919 :   neutron_plugin_configure_common
+ lib/neutron_plugins/ml2:neutron_plugin_configure_common:65 :   Q_PLUGIN_CONF_PATH=etc/neutron/plugins/ml2
+ lib/neutron_plugins/ml2:neutron_plugin_configure_common:66 :   Q_PLUGIN_CONF_FILENAME=ml2_conf.ini
+ lib/neutron_plugins/ml2:neutron_plugin_configure_common:67 :   Q_PLUGIN_CLASS=ml2
+ lib/neutron_plugins/ml2:neutron_plugin_configure_common:70 :   neutron_service_plugin_class_add router
+ lib/neutron:neutron_service_plugin_class_add:1077 :   local service_plugin_class=router
+ lib/neutron:neutron_service_plugin_class_add:1078 :   [[ '' == '' ]]
+ lib/neutron:neutron_service_plugin_class_add:1079 :   Q_SERVICE_PLUGIN_CLASSES=router
+ lib/neutron:_configure_neutron_common:921 :   [[ etc/neutron/plugins/ml2 == '' ]]
+ lib/neutron:_configure_neutron_common:921 :   [[ ml2_conf.ini == '' ]]
+ lib/neutron:_configure_neutron_common:921 :   [[ ml2 == '' ]]
+ lib/neutron:_configure_neutron_common:926 :   mkdir -p /etc/neutron/plugins/ml2
+ lib/neutron:_configure_neutron_common:927 :   Q_PLUGIN_CONF_FILE=etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron:_configure_neutron_common:930 :   NEUTRON_CORE_PLUGIN_CONF=etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron:_configure_neutron_common:933 :   '[' -f /opt/stack/neutron/etc/neutron/plugins/ml2/ml2_conf.ini.sample ']'
+ lib/neutron:_configure_neutron_common:934 :   cp /opt/stack/neutron/etc/neutron/plugins/ml2/ml2_conf.ini.sample /etc/neutron/plugins/ml2/ml2_conf.ini
++ lib/neutron:_configure_neutron_common:939 :   database_connection_url neutron
++ lib/database:database_connection_url:134 :   local db=neutron
++ lib/database:database_connection_url:135 :   database_connection_url_mysql neutron
++ lib/databases/mysql:database_connection_url_mysql:243 :   local db=neutron
++ lib/databases/mysql:database_connection_url_mysql:244 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:248 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:249 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:250 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:254 :   echo 'mysql+pymysql://root:Hitachino1@127.0.0.1/neutron?charset=utf8&plugin=dbcounter'
+ lib/neutron:_configure_neutron_common:939 :   iniset /etc/neutron/neutron.conf database connection 'mysql+pymysql://root:Hitachino1@127.0.0.1/neutron?charset=utf8&plugin=dbcounter'
+ lib/neutron:_configure_neutron_common:940 :   iniset /etc/neutron/neutron.conf DEFAULT state_path /opt/stack/data/neutron
+ lib/neutron:_configure_neutron_common:941 :   iniset /etc/neutron/neutron.conf DEFAULT use_syslog False
+ lib/neutron:_configure_neutron_common:942 :   iniset /etc/neutron/neutron.conf DEFAULT bind_host 0.0.0.0
+ lib/neutron:_configure_neutron_common:943 :   iniset /etc/neutron/neutron.conf oslo_concurrency lock_path /opt/stack/data/neutron/lock
+ lib/neutron:_configure_neutron_common:946 :   iniset /etc/neutron/neutron.conf nova region_name RegionOne
+ lib/neutron:_configure_neutron_common:948 :   '[' libvirt = fake ']'
+ lib/neutron:_configure_neutron_common:958 :   setup_logging /etc/neutron/neutron.conf
+ functions:setup_logging:685              :   setup_systemd_logging /etc/neutron/neutron.conf
+ functions:setup_systemd_logging:702      :   local conf_file=/etc/neutron/neutron.conf
++ functions:setup_systemd_logging:707      :   trueorfalse False USE_JOURNAL
+ functions:setup_systemd_logging:707      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:708      :   local pidstr=
+ functions:setup_systemd_logging:709      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:713      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:715      :   iniset /etc/neutron/neutron.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ functions:setup_systemd_logging:717      :   iniset /etc/neutron/neutron.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ functions:setup_systemd_logging:718      :   iniset /etc/neutron/neutron.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ functions:setup_systemd_logging:719      :   iniset /etc/neutron/neutron.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ functions:setup_systemd_logging:722      :   iniset /etc/neutron/neutron.conf DEFAULT log_color False
+ lib/neutron:_configure_neutron_common:960 :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/neutron:_configure_neutron_common:966 :   _neutron_setup_rootwrap
+ lib/neutron:_neutron_setup_rootwrap:1112 :   [[ True == \F\a\l\s\e ]]
+ lib/neutron:_neutron_setup_rootwrap:1116 :   Q_CONF_ROOTWRAP_D=/etc/neutron/rootwrap.d
+ lib/neutron:_neutron_setup_rootwrap:1117 :   [[ -d /etc/neutron/rootwrap.d ]]
+ lib/neutron:_neutron_setup_rootwrap:1118 :   sudo rm -rf /etc/neutron/rootwrap.d
+ lib/neutron:_neutron_setup_rootwrap:1121 :   neutron_deploy_rootwrap_filters /opt/stack/neutron
+ lib/neutron:neutron_deploy_rootwrap_filters:1102 :   [[ True == \F\a\l\s\e ]]
+ lib/neutron:neutron_deploy_rootwrap_filters:1105 :   local srcdir=/opt/stack/neutron
+ lib/neutron:neutron_deploy_rootwrap_filters:1106 :   sudo install -d -o root -m 755 /etc/neutron/rootwrap.d
+ lib/neutron:neutron_deploy_rootwrap_filters:1107 :   sudo install -o root -m 644 /opt/stack/neutron/etc/neutron/rootwrap.d/rootwrap.filters /etc/neutron/rootwrap.d/
+ lib/neutron:_neutron_setup_rootwrap:1125 :   test -r /opt/stack/neutron/etc/neutron/rootwrap.conf
+ lib/neutron:_neutron_setup_rootwrap:1128 :   sudo install -o root -g root -m 644 /opt/stack/neutron/etc/rootwrap.conf /etc/neutron/rootwrap.conf
+ lib/neutron:_neutron_setup_rootwrap:1130 :   sudo sed -e 's:^filters_path=.*$:filters_path=/etc/neutron/rootwrap.d:' -i /etc/neutron/rootwrap.conf
+ lib/neutron:_neutron_setup_rootwrap:1134 :   sudo sed -e 's/^exec_dirs=.*/#&/' -i /etc/neutron/rootwrap.conf
+ lib/neutron:_neutron_setup_rootwrap:1137 :   ROOTWRAP_SUDOER_CMD='/opt/stack/data/venv/bin/neutron-rootwrap /etc/neutron/rootwrap.conf *'
+ lib/neutron:_neutron_setup_rootwrap:1138 :   ROOTWRAP_DAEMON_SUDOER_CMD='/opt/stack/data/venv/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf'
++ lib/neutron:_neutron_setup_rootwrap:1141 :   mktemp
+ lib/neutron:_neutron_setup_rootwrap:1141 :   TEMPFILE=/tmp/tmp.3g1TWYWkw9
+ lib/neutron:_neutron_setup_rootwrap:1142 :   echo 'stack ALL=(root) NOPASSWD: /opt/stack/data/venv/bin/neutron-rootwrap /etc/neutron/rootwrap.conf *'
+ lib/neutron:_neutron_setup_rootwrap:1143 :   echo 'stack ALL=(root) NOPASSWD: /opt/stack/data/venv/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf'
+ lib/neutron:_neutron_setup_rootwrap:1144 :   chmod 0440 /tmp/tmp.3g1TWYWkw9
+ lib/neutron:_neutron_setup_rootwrap:1145 :   sudo chown root:root /tmp/tmp.3g1TWYWkw9
+ lib/neutron:_neutron_setup_rootwrap:1146 :   sudo mv /tmp/tmp.3g1TWYWkw9 /etc/sudoers.d/neutron-rootwrap
+ lib/neutron:_neutron_setup_rootwrap:1149 :   configure_root_helper_options /etc/neutron/neutron.conf
+ lib/neutron:configure_root_helper_options:1153 :   local conffile=/etc/neutron/neutron.conf
+ lib/neutron:configure_root_helper_options:1154 :   iniset /etc/neutron/neutron.conf agent root_helper 'sudo /opt/stack/data/venv/bin/neutron-rootwrap /etc/neutron/rootwrap.conf'
+ lib/neutron:configure_root_helper_options:1155 :   [[ True == \T\r\u\e ]]
+ lib/neutron:configure_root_helper_options:1156 :   iniset /etc/neutron/neutron.conf agent root_helper_daemon 'sudo /opt/stack/data/venv/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf'
+ lib/neutron:configure_neutron:396        :   iniset_rpc_backend neutron /etc/neutron/neutron.conf
+ lib/rpc_backend:iniset_rpc_backend:144   :   local package=neutron
+ lib/rpc_backend:iniset_rpc_backend:145   :   local file=/etc/neutron/neutron.conf
+ lib/rpc_backend:iniset_rpc_backend:146   :   local section=DEFAULT
+ lib/rpc_backend:iniset_rpc_backend:147   :   local virtual_host=
+ lib/rpc_backend:iniset_rpc_backend:148   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2077 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:149   :   get_transport_url ''
++ lib/rpc_backend:get_transport_url:126    :   local virtual_host=
++ lib/rpc_backend:get_transport_url:127    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/rpc_backend:get_transport_url:128    :   echo rabbit://stackrabbit:Hitachino1@172.25.93.57:5672/
+ lib/rpc_backend:iniset_rpc_backend:149   :   iniset /etc/neutron/neutron.conf DEFAULT transport_url rabbit://stackrabbit:Hitachino1@172.25.93.57:5672/
+ lib/rpc_backend:iniset_rpc_backend:150   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:153   :   '[' -n '' ']'
+ lib/neutron:configure_neutron:398        :   is_service_enabled q-metering neutron-metering
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/neutron:configure_neutron:399        :   _configure_neutron_metering
+ lib/neutron:_configure_neutron_metering:1009 :   neutron_agent_metering_configure_common
+ lib/neutron_plugins/services/metering:neutron_agent_metering_configure_common:15 :   neutron_service_plugin_class_add neutron.services.metering.metering_plugin.MeteringPlugin
+ lib/neutron:neutron_service_plugin_class_add:1077 :   local service_plugin_class=neutron.services.metering.metering_plugin.MeteringPlugin
+ lib/neutron:neutron_service_plugin_class_add:1078 :   [[ router == '' ]]
+ lib/neutron:neutron_service_plugin_class_add:1080 :   [[ ! ,router, =~ ,neutron.services.metering.metering_plugin.MeteringPlugin, ]]
+ lib/neutron:neutron_service_plugin_class_add:1081 :   Q_SERVICE_PLUGIN_CLASSES=router,neutron.services.metering.metering_plugin.MeteringPlugin
+ lib/neutron:_configure_neutron_metering:1010 :   neutron_agent_metering_configure_agent
+ lib/neutron_plugins/services/metering:neutron_agent_metering_configure_agent:19 :   METERING_AGENT_CONF_PATH=/etc/neutron/services/metering
+ lib/neutron_plugins/services/metering:neutron_agent_metering_configure_agent:20 :   mkdir -p /etc/neutron/services/metering
+ lib/neutron_plugins/services/metering:neutron_agent_metering_configure_agent:22 :   METERING_AGENT_CONF_FILENAME=/etc/neutron/services/metering/metering_agent.ini
+ lib/neutron_plugins/services/metering:neutron_agent_metering_configure_agent:24 :   cp /opt/stack/neutron/etc/metering_agent.ini.sample /etc/neutron/services/metering/metering_agent.ini
+ lib/neutron:configure_neutron:401        :   is_service_enabled q-agt neutron-agent
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/neutron:configure_neutron:402        :   _configure_neutron_plugin_agent
+ lib/neutron:_configure_neutron_plugin_agent:1024 :   configure_root_helper_options /etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron:configure_root_helper_options:1153 :   local conffile=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron:configure_root_helper_options:1154 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini agent root_helper 'sudo /opt/stack/data/venv/bin/neutron-rootwrap /etc/neutron/rootwrap.conf'
+ lib/neutron:configure_root_helper_options:1155 :   [[ True == \T\r\u\e ]]
+ lib/neutron:configure_root_helper_options:1156 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini agent root_helper_daemon 'sudo /opt/stack/data/venv/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf'
+ lib/neutron:_configure_neutron_plugin_agent:1025 :   iniset /etc/neutron/neutron.conf DEFAULT debug True
+ lib/neutron:_configure_neutron_plugin_agent:1028 :   neutron_plugin_configure_plugin_agent
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_plugin_agent:36 :   _neutron_ovs_base_setup_bridge br-int
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_setup_bridge:38 :   local bridge=br-int
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_setup_bridge:39 :   neutron-ovs-cleanup --config-file /etc/neutron/neutron.conf
INFO neutron.common.config [[00;36m-] [01;35mLogging enabled![00m
INFO neutron.common.config [[00;36m-] [01;35m/opt/stack/data/venv/bin/neutron-ovs-cleanup version 26.0.2.dev66[00m
DEBUG neutron.common.config [[00;36m-] [01;35mcommand line: /opt/stack/data/venv/bin/neutron-ovs-cleanup --config-file /etc/neutron/neutron.conf[00m [00;33m{{(pid=1156737) setup_logging /opt/stack/neutron/neutron/common/config.py:124}}[00m
DEBUG ovsdbapp.backend.ovs_idl [[00;36m-] [01;35mCreated lookup_table index Flow_Table.name[00m [00;33m{{(pid=1156737) autocreate_indices /opt/stack/data/venv/lib/python3.10/site-packages/ovsdbapp/backend/ovs_idl/__init__.py:87}}[00m
DEBUG ovsdbapp.backend.ovs_idl [[00;36m-] [01;35mCreated lookup_table index Mirror.name[00m [00;33m{{(pid=1156737) autocreate_indices /opt/stack/data/venv/lib/python3.10/site-packages/ovsdbapp/backend/ovs_idl/__init__.py:87}}[00m
DEBUG ovsdbapp.backend.ovs_idl [[00;36m-] [01;35mCreated schema index Bridge.name[00m [00;33m{{(pid=1156737) autocreate_indices /opt/stack/data/venv/lib/python3.10/site-packages/ovsdbapp/backend/ovs_idl/__init__.py:106}}[00m
DEBUG ovsdbapp.backend.ovs_idl [[00;36m-] [01;35mCreated schema index Port.name[00m [00;33m{{(pid=1156737) autocreate_indices /opt/stack/data/venv/lib/python3.10/site-packages/ovsdbapp/backend/ovs_idl/__init__.py:106}}[00m
DEBUG ovsdbapp.backend.ovs_idl [[00;36m-] [01;35mCreated schema index Interface.name[00m [00;33m{{(pid=1156737) autocreate_indices /opt/stack/data/venv/lib/python3.10/site-packages/ovsdbapp/backend/ovs_idl/__init__.py:106}}[00m
DEBUG ovsdbapp.backend.ovs_idl [[00;36m-] [01;35mCreated schema index Manager.target[00m [00;33m{{(pid=1156737) autocreate_indices /opt/stack/data/venv/lib/python3.10/site-packages/ovsdbapp/backend/ovs_idl/__init__.py:106}}[00m
INFO neutron.cmd.ovs_cleanup [[00;36m-] [01;35mCleaning bridge: br-int[00m
DEBUG ovsdbapp.backend.ovs_idl.transaction [[00;36m-] [01;35mRunning txn n=1 command(idx=0): OvsCleanup(_result=None, bridge=br-int, all_ports=False)[00m [00;33m{{(pid=1156737) do_commit /opt/stack/data/venv/lib/python3.10/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:89}}[00m
INFO neutron.cmd.ovs_cleanup [[00;36m-] [01;35mOVS cleanup completed successfully[00m
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_setup_bridge:40 :   _neutron_ovs_base_add_bridge br-int
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_add_bridge:27 :   local bridge=br-int
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_add_bridge:28 :   local 'addbr_cmd=sudo ovs-vsctl -- --may-exist add-br br-int'
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_add_bridge:30 :   '[' system '!=' system ']'
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_add_bridge:34 :   sudo ovs-vsctl -- --may-exist add-br br-int
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_setup_bridge:41 :   sudo ovs-vsctl --no-wait br-set-external-id br-int bridge-id br-int
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_plugin_agent:37 :   _neutron_ovs_base_configure_firewall_driver
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_configure_firewall_driver:88 :   [[ True == \T\r\u\e ]]
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_configure_firewall_driver:89 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini securitygroup firewall_driver openvswitch
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_configure_firewall_driver:90 :   running_in_container
++ functions:running_in_container:809       :   systemd-detect-virt --container
+ functions:running_in_container:809       :   [[ none != \n\o\n\e ]]
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_configure_firewall_driver:91 :   enable_kernel_bridge_firewall
+ functions:enable_kernel_bridge_firewall:818 :   sudo modprobe bridge
+ functions:enable_kernel_bridge_firewall:821 :   sudo modprobe br_netfilter
+ functions:enable_kernel_bridge_firewall:825 :   for proto in ip ip6
+ functions:enable_kernel_bridge_firewall:826 :   sudo sysctl -w net.bridge.bridge-nf-call-iptables=1
net.bridge.bridge-nf-call-iptables = 1
+ functions:enable_kernel_bridge_firewall:825 :   for proto in ip ip6
+ functions:enable_kernel_bridge_firewall:826 :   sudo sysctl -w net.bridge.bridge-nf-call-ip6tables=1
net.bridge.bridge-nf-call-ip6tables = 1
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_plugin_agent:40 :   [[ True == \T\r\u\e ]]
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_plugin_agent:41 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ovs local_ip 172.25.93.57
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_plugin_agent:42 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ovs tunnel_bridge br-tun
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_plugin_agent:48 :   [[ public != '' ]]
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_plugin_agent:48 :   [[ br-ex != '' ]]
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_plugin_agent:49 :   [[ '' == '' ]]
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_plugin_agent:50 :   OVS_BRIDGE_MAPPINGS=public:br-ex
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_plugin_agent:54 :   _neutron_ovs_base_add_bridge br-ex
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_add_bridge:27 :   local bridge=br-ex
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_add_bridge:28 :   local 'addbr_cmd=sudo ovs-vsctl -- --may-exist add-br br-ex'
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_add_bridge:30 :   '[' system '!=' system ']'
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_add_bridge:34 :   sudo ovs-vsctl -- --may-exist add-br br-ex
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_plugin_agent:56 :   [[ public:br-ex != '' ]]
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_plugin_agent:57 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ovs bridge_mappings public:br-ex
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_plugin_agent:59 :   AGENT_BINARY=/opt/stack/data/venv/bin/neutron-openvswitch-agent
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_plugin_agent:61 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini agent tunnel_types vxlan
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_plugin_agent:62 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ovs datapath_type system
+ lib/neutron:configure_neutron:404        :   is_service_enabled q-dhcp neutron-dhcp
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/neutron:configure_neutron:405        :   _configure_neutron_dhcp_agent
+ lib/neutron:_configure_neutron_dhcp_agent:971 :   cp /opt/stack/neutron/etc/dhcp_agent.ini.sample /etc/neutron/dhcp_agent.ini
+ lib/neutron:_configure_neutron_dhcp_agent:973 :   iniset /etc/neutron/dhcp_agent.ini DEFAULT debug True
+ lib/neutron:_configure_neutron_dhcp_agent:975 :   iniset /etc/neutron/dhcp_agent.ini DEFAULT dnsmasq_local_resolv True
+ lib/neutron:_configure_neutron_dhcp_agent:976 :   configure_root_helper_options /etc/neutron/dhcp_agent.ini
+ lib/neutron:configure_root_helper_options:1153 :   local conffile=/etc/neutron/dhcp_agent.ini
+ lib/neutron:configure_root_helper_options:1154 :   iniset /etc/neutron/dhcp_agent.ini agent root_helper 'sudo /opt/stack/data/venv/bin/neutron-rootwrap /etc/neutron/rootwrap.conf'
+ lib/neutron:configure_root_helper_options:1155 :   [[ True == \T\r\u\e ]]
+ lib/neutron:configure_root_helper_options:1156 :   iniset /etc/neutron/dhcp_agent.ini agent root_helper_daemon 'sudo /opt/stack/data/venv/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf'
+ lib/neutron:_configure_neutron_dhcp_agent:978 :   is_service_enabled q-l3 neutron-l3
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/neutron:_configure_neutron_dhcp_agent:989 :   _neutron_setup_interface_driver /etc/neutron/dhcp_agent.ini
+ lib/neutron:_neutron_setup_interface_driver:1164 :   iniset /etc/neutron/dhcp_agent.ini DEFAULT ovs_use_veth False
+ lib/neutron:_neutron_setup_interface_driver:1166 :   neutron_plugin_setup_interface_driver /etc/neutron/dhcp_agent.ini
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_setup_interface_driver:66 :   local conf_file=/etc/neutron/dhcp_agent.ini
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_setup_interface_driver:67 :   iniset /etc/neutron/dhcp_agent.ini DEFAULT interface_driver openvswitch
+ lib/neutron:_configure_neutron_dhcp_agent:991 :   neutron_plugin_configure_dhcp_agent /etc/neutron/dhcp_agent.ini
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_dhcp_agent:25 :   local conf_file=/etc/neutron/dhcp_agent.ini
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_dhcp_agent:26 :   :
+ lib/neutron:configure_neutron:407        :   is_service_enabled q-l3 neutron-l3
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/neutron:configure_neutron:408        :   _configure_neutron_l3_agent
+ lib/neutron_plugins/services/l3:_configure_neutron_l3_agent:120 :   cp /opt/stack/neutron/etc/l3_agent.ini.sample /etc/neutron/l3_agent.ini
+ lib/neutron_plugins/services/l3:_configure_neutron_l3_agent:122 :   iniset /etc/neutron/l3_agent.ini DEFAULT debug True
+ lib/neutron_plugins/services/l3:_configure_neutron_l3_agent:123 :   iniset /etc/neutron/l3_agent.ini AGENT root_helper 'sudo /opt/stack/data/venv/bin/neutron-rootwrap /etc/neutron/rootwrap.conf'
+ lib/neutron_plugins/services/l3:_configure_neutron_l3_agent:124 :   [[ True == \T\r\u\e ]]
+ lib/neutron_plugins/services/l3:_configure_neutron_l3_agent:125 :   iniset /etc/neutron/l3_agent.ini AGENT root_helper_daemon 'sudo /opt/stack/data/venv/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf'
+ lib/neutron_plugins/services/l3:_configure_neutron_l3_agent:128 :   _neutron_setup_interface_driver /etc/neutron/l3_agent.ini
+ lib/neutron:_neutron_setup_interface_driver:1164 :   iniset /etc/neutron/l3_agent.ini DEFAULT ovs_use_veth False
+ lib/neutron:_neutron_setup_interface_driver:1166 :   neutron_plugin_setup_interface_driver /etc/neutron/l3_agent.ini
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_setup_interface_driver:66 :   local conf_file=/etc/neutron/l3_agent.ini
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_setup_interface_driver:67 :   iniset /etc/neutron/l3_agent.ini DEFAULT interface_driver openvswitch
+ lib/neutron_plugins/services/l3:_configure_neutron_l3_agent:130 :   neutron_plugin_configure_l3_agent /etc/neutron/l3_agent.ini
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_l3_agent:30 :   local conf_file=/etc/neutron/l3_agent.ini
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_configure_l3_agent:31 :   _neutron_ovs_base_configure_l3_agent
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_configure_l3_agent:99 :   neutron-ovs-cleanup --config-file /etc/neutron/neutron.conf
INFO neutron.common.config [[00;36m-] [01;35mLogging enabled![00m
INFO neutron.common.config [[00;36m-] [01;35m/opt/stack/data/venv/bin/neutron-ovs-cleanup version 26.0.2.dev66[00m
DEBUG neutron.common.config [[00;36m-] [01;35mcommand line: /opt/stack/data/venv/bin/neutron-ovs-cleanup --config-file /etc/neutron/neutron.conf[00m [00;33m{{(pid=1157335) setup_logging /opt/stack/neutron/neutron/common/config.py:124}}[00m
DEBUG ovsdbapp.backend.ovs_idl [[00;36m-] [01;35mCreated lookup_table index Flow_Table.name[00m [00;33m{{(pid=1157335) autocreate_indices /opt/stack/data/venv/lib/python3.10/site-packages/ovsdbapp/backend/ovs_idl/__init__.py:87}}[00m
DEBUG ovsdbapp.backend.ovs_idl [[00;36m-] [01;35mCreated lookup_table index Mirror.name[00m [00;33m{{(pid=1157335) autocreate_indices /opt/stack/data/venv/lib/python3.10/site-packages/ovsdbapp/backend/ovs_idl/__init__.py:87}}[00m
DEBUG ovsdbapp.backend.ovs_idl [[00;36m-] [01;35mCreated schema index Bridge.name[00m [00;33m{{(pid=1157335) autocreate_indices /opt/stack/data/venv/lib/python3.10/site-packages/ovsdbapp/backend/ovs_idl/__init__.py:106}}[00m
DEBUG ovsdbapp.backend.ovs_idl [[00;36m-] [01;35mCreated schema index Port.name[00m [00;33m{{(pid=1157335) autocreate_indices /opt/stack/data/venv/lib/python3.10/site-packages/ovsdbapp/backend/ovs_idl/__init__.py:106}}[00m
DEBUG ovsdbapp.backend.ovs_idl [[00;36m-] [01;35mCreated schema index Interface.name[00m [00;33m{{(pid=1157335) autocreate_indices /opt/stack/data/venv/lib/python3.10/site-packages/ovsdbapp/backend/ovs_idl/__init__.py:106}}[00m
DEBUG ovsdbapp.backend.ovs_idl [[00;36m-] [01;35mCreated schema index Manager.target[00m [00;33m{{(pid=1157335) autocreate_indices /opt/stack/data/venv/lib/python3.10/site-packages/ovsdbapp/backend/ovs_idl/__init__.py:106}}[00m
INFO neutron.cmd.ovs_cleanup [[00;36m-] [01;35mCleaning bridge: br-int[00m
DEBUG ovsdbapp.backend.ovs_idl.transaction [[00;36m-] [01;35mRunning txn n=1 command(idx=0): OvsCleanup(_result=None, bridge=br-int, all_ports=False)[00m [00;33m{{(pid=1157335) do_commit /opt/stack/data/venv/lib/python3.10/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:89}}[00m
DEBUG ovsdbapp.backend.ovs_idl.transaction [[00;36m-] [01;35mTransaction caused no change[00m [00;33m{{(pid=1157335) do_commit /opt/stack/data/venv/lib/python3.10/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:129}}[00m
INFO neutron.cmd.ovs_cleanup [[00;36m-] [01;35mOVS cleanup completed successfully[00m
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_configure_l3_agent:100 :   [[ False = \T\r\u\e ]]
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_configure_l3_agent:108 :   _neutron_ovs_base_add_public_bridge
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_add_public_bridge:114 :   _neutron_ovs_base_add_bridge br-ex
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_add_bridge:27 :   local bridge=br-ex
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_add_bridge:28 :   local 'addbr_cmd=sudo ovs-vsctl -- --may-exist add-br br-ex'
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_add_bridge:30 :   '[' system '!=' system ']'
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_add_bridge:34 :   sudo ovs-vsctl -- --may-exist add-br br-ex
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_add_public_bridge:115 :   set_mtu br-ex 1500
+ functions:set_mtu:801                    :   local dev=br-ex
+ functions:set_mtu:802                    :   local mtu=1500
+ functions:set_mtu:803                    :   sudo ip link set mtu 1500 dev br-ex
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_configure_l3_agent:109 :   sudo ovs-vsctl br-set-external-id br-ex bridge-id br-ex
+ lib/neutron_plugins/services/l3:_configure_neutron_l3_agent:132 :   _configure_public_network_connectivity
+ lib/neutron:_configure_public_network_connectivity:830 :   [[ -n '' ]]
+ lib/neutron:_configure_public_network_connectivity:837 :   for d in $default_v4_route_devs
+ lib/neutron:_configure_public_network_connectivity:838 :   sudo iptables -t nat -A POSTROUTING -o ens33 -s 172.24.5.0/24 -j MASQUERADE
+ lib/neutron:configure_neutron:410        :   is_service_enabled q-meta neutron-metadata-agent
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/neutron:configure_neutron:411        :   _configure_neutron_metadata_agent
+ lib/neutron:_configure_neutron_metadata_agent:996 :   cp /opt/stack/neutron/etc/metadata_agent.ini.sample /etc/neutron/metadata_agent.ini
+ lib/neutron:_configure_neutron_metadata_agent:998 :   iniset /etc/neutron/metadata_agent.ini DEFAULT debug True
+ lib/neutron:_configure_neutron_metadata_agent:999 :   iniset /etc/neutron/metadata_agent.ini DEFAULT nova_metadata_host 172.25.93.57
+ lib/neutron:_configure_neutron_metadata_agent:1000 :   iniset /etc/neutron/metadata_agent.ini DEFAULT metadata_workers 2
+ lib/neutron:_configure_neutron_metadata_agent:1001 :   configure_root_helper_options /etc/neutron/metadata_agent.ini
+ lib/neutron:configure_root_helper_options:1153 :   local conffile=/etc/neutron/metadata_agent.ini
+ lib/neutron:configure_root_helper_options:1154 :   iniset /etc/neutron/metadata_agent.ini agent root_helper 'sudo /opt/stack/data/venv/bin/neutron-rootwrap /etc/neutron/rootwrap.conf'
+ lib/neutron:configure_root_helper_options:1155 :   [[ True == \T\r\u\e ]]
+ lib/neutron:configure_root_helper_options:1156 :   iniset /etc/neutron/metadata_agent.ini agent root_helper_daemon 'sudo /opt/stack/data/venv/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf'
+ lib/neutron:configure_neutron:414        :   [[ legacy != \l\e\g\a\c\y ]]
+ lib/neutron:configure_neutron:417        :   is_service_enabled ceilometer
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/neutron:configure_neutron:421        :   [[ openvswitch == \o\v\n ]]
+ lib/neutron:configure_neutron:427        :   is_service_enabled q-placement neutron-placement
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/neutron:configure_neutron:430        :   is_service_enabled q-trunk neutron-trunk
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/neutron:configure_neutron:433        :   is_service_enabled q-qos neutron-qos
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/neutron:configure_neutron:440        :   is_service_enabled neutron-segments
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/neutron:configure_neutron:446        :   is_service_enabled q-agt neutron-agent q-svc neutron-api
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/neutron:configure_neutron:447        :   _configure_neutron_service
+ lib/neutron:_configure_neutron_service:1043 :   Q_API_PASTE_FILE=/etc/neutron/api-paste.ini
+ lib/neutron:_configure_neutron_service:1044 :   cp /opt/stack/neutron/etc/api-paste.ini /etc/neutron/api-paste.ini
+ lib/neutron:_configure_neutron_service:1046 :   [[ False == \F\a\l\s\e ]]
+ lib/neutron:_configure_neutron_service:1046 :   [[ -n networking ]]
+ lib/neutron:_configure_neutron_service:1047 :   _replace_api_paste_composite
+ lib/neutron:_replace_api_paste_composite:1032 :   local sep
++ lib/neutron:_replace_api_paste_composite:1033 :   echo -ne '\x01'
+ lib/neutron:_replace_api_paste_composite:1033 :   sep=$'\001'
+ lib/neutron:_replace_api_paste_composite:1035 :   sed -i -e 's/\/\: neutronversions_composite/\/networking\/\: neutronversions_composite/' /etc/neutron/api-paste.ini
+ lib/neutron:_replace_api_paste_composite:1036 :   sed -i -e 's/\/healthcheck\: healthcheck/\/networking\/healthcheck\: healthcheck/' /etc/neutron/api-paste.ini
+ lib/neutron:_replace_api_paste_composite:1037 :   sed -i -e 's/\/v2.0\: neutronapi_v2_0/\/networking\/v2.0\: neutronapi_v2_0/' /etc/neutron/api-paste.ini
+ lib/neutron:_configure_neutron_service:1051 :   iniset /etc/neutron/neutron.conf DEFAULT core_plugin ml2
+ lib/neutron:_configure_neutron_service:1053 :   iniset /etc/neutron/neutron.conf DEFAULT debug True
+ lib/neutron:_configure_neutron_service:1054 :   iniset /etc/neutron/neutron.conf oslo_policy policy_file /etc/neutron/policy.json
+ lib/neutron:_configure_neutron_service:1056 :   iniset /etc/neutron/neutron.conf DEFAULT auth_strategy keystone
+ lib/neutron:_configure_neutron_service:1057 :   configure_keystone_authtoken_middleware /etc/neutron/neutron.conf neutron
+ lib/keystone:configure_keystone_authtoken_middleware:432 :   local conf_file=/etc/neutron/neutron.conf
+ lib/keystone:configure_keystone_authtoken_middleware:433 :   local admin_user=neutron
+ lib/keystone:configure_keystone_authtoken_middleware:434 :   local section=keystone_authtoken
+ lib/keystone:configure_keystone_authtoken_middleware:436 :   iniset /etc/neutron/neutron.conf keystone_authtoken auth_type password
+ lib/keystone:configure_keystone_authtoken_middleware:437 :   iniset /etc/neutron/neutron.conf keystone_authtoken interface public
+ lib/keystone:configure_keystone_authtoken_middleware:438 :   iniset /etc/neutron/neutron.conf keystone_authtoken auth_url http://172.25.93.57/identity
+ lib/keystone:configure_keystone_authtoken_middleware:439 :   iniset /etc/neutron/neutron.conf keystone_authtoken username neutron
+ lib/keystone:configure_keystone_authtoken_middleware:440 :   iniset /etc/neutron/neutron.conf keystone_authtoken password Hitachino1
+ lib/keystone:configure_keystone_authtoken_middleware:441 :   iniset /etc/neutron/neutron.conf keystone_authtoken user_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:442 :   iniset /etc/neutron/neutron.conf keystone_authtoken project_name service
+ lib/keystone:configure_keystone_authtoken_middleware:443 :   iniset /etc/neutron/neutron.conf keystone_authtoken project_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:445 :   iniset /etc/neutron/neutron.conf keystone_authtoken cafile /opt/stack/data/ca-bundle.pem
+ lib/keystone:configure_keystone_authtoken_middleware:446 :   iniset /etc/neutron/neutron.conf keystone_authtoken memcached_servers localhost:11211
+ lib/neutron:_configure_neutron_service:1060 :   iniset /etc/neutron/neutron.conf DEFAULT notify_nova_on_port_status_changes True
+ lib/neutron:_configure_neutron_service:1061 :   iniset /etc/neutron/neutron.conf DEFAULT notify_nova_on_port_data_changes True
+ lib/neutron:_configure_neutron_service:1063 :   configure_keystone_authtoken_middleware /etc/neutron/neutron.conf nova nova
+ lib/keystone:configure_keystone_authtoken_middleware:432 :   local conf_file=/etc/neutron/neutron.conf
+ lib/keystone:configure_keystone_authtoken_middleware:433 :   local admin_user=nova
+ lib/keystone:configure_keystone_authtoken_middleware:434 :   local section=nova
+ lib/keystone:configure_keystone_authtoken_middleware:436 :   iniset /etc/neutron/neutron.conf nova auth_type password
+ lib/keystone:configure_keystone_authtoken_middleware:437 :   iniset /etc/neutron/neutron.conf nova interface public
+ lib/keystone:configure_keystone_authtoken_middleware:438 :   iniset /etc/neutron/neutron.conf nova auth_url http://172.25.93.57/identity
+ lib/keystone:configure_keystone_authtoken_middleware:439 :   iniset /etc/neutron/neutron.conf nova username nova
+ lib/keystone:configure_keystone_authtoken_middleware:440 :   iniset /etc/neutron/neutron.conf nova password Hitachino1
+ lib/keystone:configure_keystone_authtoken_middleware:441 :   iniset /etc/neutron/neutron.conf nova user_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:442 :   iniset /etc/neutron/neutron.conf nova project_name service
+ lib/keystone:configure_keystone_authtoken_middleware:443 :   iniset /etc/neutron/neutron.conf nova project_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:445 :   iniset /etc/neutron/neutron.conf nova cafile /opt/stack/data/ca-bundle.pem
+ lib/keystone:configure_keystone_authtoken_middleware:446 :   iniset /etc/neutron/neutron.conf nova memcached_servers localhost:11211
+ lib/neutron:_configure_neutron_service:1066 :   configure_keystone_authtoken_middleware /etc/neutron/neutron.conf placement placement
+ lib/keystone:configure_keystone_authtoken_middleware:432 :   local conf_file=/etc/neutron/neutron.conf
+ lib/keystone:configure_keystone_authtoken_middleware:433 :   local admin_user=placement
+ lib/keystone:configure_keystone_authtoken_middleware:434 :   local section=placement
+ lib/keystone:configure_keystone_authtoken_middleware:436 :   iniset /etc/neutron/neutron.conf placement auth_type password
+ lib/keystone:configure_keystone_authtoken_middleware:437 :   iniset /etc/neutron/neutron.conf placement interface public
+ lib/keystone:configure_keystone_authtoken_middleware:438 :   iniset /etc/neutron/neutron.conf placement auth_url http://172.25.93.57/identity
+ lib/keystone:configure_keystone_authtoken_middleware:439 :   iniset /etc/neutron/neutron.conf placement username placement
+ lib/keystone:configure_keystone_authtoken_middleware:440 :   iniset /etc/neutron/neutron.conf placement password Hitachino1
+ lib/keystone:configure_keystone_authtoken_middleware:441 :   iniset /etc/neutron/neutron.conf placement user_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:442 :   iniset /etc/neutron/neutron.conf placement project_name service
+ lib/keystone:configure_keystone_authtoken_middleware:443 :   iniset /etc/neutron/neutron.conf placement project_domain_name Default
+ lib/keystone:configure_keystone_authtoken_middleware:445 :   iniset /etc/neutron/neutron.conf placement cafile /opt/stack/data/ca-bundle.pem
+ lib/keystone:configure_keystone_authtoken_middleware:446 :   iniset /etc/neutron/neutron.conf placement memcached_servers localhost:11211
+ lib/neutron:_configure_neutron_service:1069 :   neutron_plugin_configure_service
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:74 :   [[ vxlan != \l\o\c\a\l ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:75 :   Q_SRV_EXTRA_OPTS+=(tenant_network_types=$Q_ML2_TENANT_NETWORK_TYPE)
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:89 :   '[' '' == '' ']'
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:90 :   [[ '' == '' ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:90 :   [[ public != '' ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:91 :   ML2_VLAN_RANGES=public
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:92 :   [[ '' != '' ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:96 :   [[ public != '' ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:97 :   Q_ML2_PLUGIN_VLAN_TYPE_OPTIONS=(network_vlan_ranges=$ML2_VLAN_RANGES)
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:103 :   [[ -z '' ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:104 :   [[ -n public ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:105 :   Q_ML2_PLUGIN_FLAT_TYPE_OPTIONS=flat_networks=
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:106 :   [[ -n public ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:107 :   Q_ML2_PLUGIN_FLAT_TYPE_OPTIONS+=public,
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:109 :   [[ -n public ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:109 :   [[ public != \p\u\b\l\i\c ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:114 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini securitygroup enable_security_group=True
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=securitygroup
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=enable_security_group=True
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z enable_security_group=True ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini securitygroup enable_security_group True
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:116 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2 mechanism_drivers=openvswitch
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=mechanism_drivers=openvswitch
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z mechanism_drivers=openvswitch ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2 mechanism_drivers openvswitch
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:117 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2 overlay_ip_version=4
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=overlay_ip_version=4
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z overlay_ip_version=4 ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2 overlay_ip_version 4
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:119 :   [[ -n '' ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:123 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2 extension_drivers=port_security
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=extension_drivers=port_security
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z extension_drivers=port_security ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2 extension_drivers port_security
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:125 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2 tenant_network_types=vxlan
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=tenant_network_types=vxlan
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z tenant_network_types=vxlan ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2 tenant_network_types vxlan
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:127 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_gre tunnel_id_ranges=1:1000
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2_type_gre
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=tunnel_id_ranges=1:1000
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z tunnel_id_ranges=1:1000 ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_gre tunnel_id_ranges 1:1000
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:129 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_vxlan vni_ranges=1:1000
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2_type_vxlan
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=vni_ranges=1:1000
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z vni_ranges=1:1000 ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_vxlan vni_ranges 1:1000
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:131 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_flat flat_networks=public,
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2_type_flat
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=flat_networks=public,
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z flat_networks=public, ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_flat flat_networks public,
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:133 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_vlan network_vlan_ranges=public
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2_type_vlan
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=network_vlan_ranges=public
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z network_vlan_ranges=public ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_vlan network_vlan_ranges public
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:135 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_geneve vni_ranges=1:1000
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2_type_geneve
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=vni_ranges=1:1000
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z vni_ranges=1:1000 ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_geneve vni_ranges 1:1000
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:137 :   [[ legacy != \l\e\g\a\c\y ]]
+ lib/neutron:configure_neutron:450        :   iniset /etc/neutron/neutron.conf DEFAULT api_workers 2
+ lib/neutron:configure_neutron:454        :   iniset /etc/neutron/neutron.conf DEFAULT rpc_state_report_workers 0
+ lib/neutron:configure_neutron:456        :   '[' False == True ']'
+ ./stack.sh:main:1186                     :   is_service_enabled mysql postgresql
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1186                     :   is_service_enabled neutron
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1187                     :   async_runfunc init_neutron
+ inc/async:async_runfunc:116              :   async_run init_neutron init_neutron
+ inc/async:async_inner:63                 :   init_neutron
[1115705 Async init_neutron:1159132]: running: init_neutron
+ ./stack.sh:main:1195                     :   is_service_enabled q-dhcp
+ functions-common:is_service_enabled:2077 :   return 0
++ ./stack.sh:main:1199                     :   pidof NetworkManager
+ ./stack.sh:main:1199                     :   netman_pid=1041
+ ./stack.sh:main:1200                     :   '[' -z 1041 ']'
+ ./stack.sh:main:1203                     :   sudo ps h -o pid,ppid -C dnsmasq
+ ./stack.sh:main:1203                     :   grep -v 1041
+ ./stack.sh:main:1203                     :   awk '{print $1}'
+ ./stack.sh:main:1203                     :   sudo xargs kill
+ ./stack.sh:main:1206                     :   clean_iptables
+ lib/nova:clean_iptables:195              :   sudo iptables -S -v
+ lib/nova:clean_iptables:195              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:195              :   grep nova
+ lib/nova:clean_iptables:195              :   sed s/-A/-D/g
+ lib/nova:clean_iptables:195              :   grep '\-A'
+ lib/nova:clean_iptables:195              :   bash
+ lib/nova:clean_iptables:195              :   awk '{print "sudo iptables",$0}'
+ lib/nova:clean_iptables:197              :   sudo iptables -S -v -t nat
+ lib/nova:clean_iptables:197              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:197              :   grep '\-A'
+ lib/nova:clean_iptables:197              :   sed s/-A/-D/g
+ lib/nova:clean_iptables:197              :   grep nova
+ lib/nova:clean_iptables:197              :   bash
+ lib/nova:clean_iptables:197              :   awk '{print "sudo iptables -t nat",$0}'
+ lib/nova:clean_iptables:199              :   sudo iptables -S -v
+ lib/nova:clean_iptables:199              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:199              :   grep nova
+ lib/nova:clean_iptables:199              :   awk '{print "sudo iptables",$0}'
+ lib/nova:clean_iptables:199              :   grep '\-N'
+ lib/nova:clean_iptables:199              :   sed s/-N/-X/g
+ lib/nova:clean_iptables:199              :   bash
+ lib/nova:clean_iptables:201              :   sudo iptables -S -v -t nat
+ lib/nova:clean_iptables:201              :   grep nova
+ lib/nova:clean_iptables:201              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:201              :   grep '\-N'
+ lib/nova:clean_iptables:201              :   awk '{print "sudo iptables -t nat",$0}'
+ lib/nova:clean_iptables:201              :   bash
+ lib/nova:clean_iptables:201              :   sed s/-N/-X/g
+ ./stack.sh:main:1209                     :   sudo sysctl -w net.ipv4.ip_forward=1
net.ipv4.ip_forward = 1
+ ./stack.sh:main:1214                     :   is_service_enabled nova neutron
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1215                     :   configure_os_vif
+ lib/os-vif:configure_os_vif:16           :   [[ -e /etc/nova/nova.conf ]]
+ lib/os-vif:configure_os_vif:17           :   iniset /etc/nova/nova.conf os_vif_ovs isolate_vif False
+ lib/os-vif:configure_os_vif:19           :   [[ -e /etc/neutron/neutron.conf ]]
+ lib/os-vif:configure_os_vif:20           :   iniset /etc/neutron/neutron.conf os_vif_ovs isolate_vif False
+ ./stack.sh:main:1221                     :   is_service_enabled swift
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1222                     :   echo_summary 'Configuring Swift'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Configuring Swift
+ ./stack.sh:main:1223                     :   async_runfunc init_swift
+ inc/async:async_runfunc:116              :   async_run init_swift init_swift
+ inc/async:async_inner:63                 :   init_swift
[1115705 Async init_swift:1159458]: running: init_swift
+ ./stack.sh:main:1230                     :   is_service_enabled cinder
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1231                     :   echo_summary 'Configuring Cinder'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Configuring Cinder
+ ./stack.sh:main:1232                     :   async_runfunc init_cinder
+ inc/async:async_runfunc:116              :   async_run init_cinder init_cinder
+ inc/async:async_inner:63                 :   init_cinder
[1115705 Async init_cinder:1159562]: running: init_cinder
+ ./stack.sh:main:1238                     :   is_service_enabled placement
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1239                     :   echo_summary 'Configuring placement'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Configuring placement
+ ./stack.sh:main:1240                     :   async_runfunc init_placement
+ inc/async:async_runfunc:116              :   async_run init_placement init_placement
+ inc/async:async_inner:63                 :   init_placement
[1115705 Async init_placement:1159751]: running: init_placement
+ ./stack.sh:main:1244                     :   async_wait init_neutron
[1115705 Async init_neutron:1159132]: Waiting for completion of init_neutron running on PID 1159132 (6 other jobs running)
[1115705 Async init_neutron:1159132]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
[1159458 Async init_swift:1159458]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
[1159562 Async init_cinder:1159562]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
[1159132 Async init_neutron:1159132]: finished successfully
WAKEUP
[1115705 Async init_neutron:1159132]: Signaled
+ lib/neutron:init_neutron:526             :   recreate_database neutron
+ lib/database:recreate_database:112       :   local db=neutron
+ lib/database:recreate_database:113       :   recreate_database_mysql neutron
+ lib/databases/mysql:recreate_database_mysql:60 :   local db=neutron
+ lib/databases/mysql:recreate_database_mysql:61 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS neutron;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:62 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'CREATE DATABASE neutron CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/neutron:init_neutron:527             :   time_start dbsync
+ functions-common:time_start:2407         :   local name=dbsync
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003493719
+ lib/neutron:init_neutron:529             :   /opt/stack/data/venv/bin/neutron-db-manage --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini upgrade head
INFO  [alembic.runtime.migration] Context impl MySQLImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Context impl MySQLImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Running upgrade  -> kilo
INFO  [alembic.runtime.migration] Running upgrade kilo -> 354db87e3225
INFO  [alembic.runtime.migration] Running upgrade 354db87e3225 -> 599c6a226151
INFO  [alembic.runtime.migration] Running upgrade 599c6a226151 -> 52c5312f6baf
INFO  [alembic.runtime.migration] Running upgrade 52c5312f6baf -> 313373c0ffee
INFO  [alembic.runtime.migration] Running upgrade 313373c0ffee -> 8675309a5c4f
INFO  [alembic.runtime.migration] Running upgrade 8675309a5c4f -> 45f955889773
INFO  [alembic.runtime.migration] Running upgrade 45f955889773 -> 26c371498592
INFO  [alembic.runtime.migration] Running upgrade 26c371498592 -> 1c844d1677f7
INFO  [alembic.runtime.migration] Running upgrade 1c844d1677f7 -> 1b4c6e320f79
INFO  [alembic.runtime.migration] Running upgrade 1b4c6e320f79 -> 48153cb5f051
INFO  [alembic.runtime.migration] Running upgrade 48153cb5f051 -> 9859ac9c136
INFO  [alembic.runtime.migration] Running upgrade 9859ac9c136 -> 34af2b5c5a59
INFO  [alembic.runtime.migration] Running upgrade 34af2b5c5a59 -> 59cb5b6cf4d
INFO  [alembic.runtime.migration] Running upgrade 59cb5b6cf4d -> 13cfb89f881a
INFO  [alembic.runtime.migration] Running upgrade 13cfb89f881a -> 32e5974ada25
INFO  [alembic.runtime.migration] Running upgrade 32e5974ada25 -> ec7fcfbf72ee
INFO  [alembic.runtime.migration] Running upgrade ec7fcfbf72ee -> dce3ec7a25c9
INFO  [alembic.runtime.migration] Running upgrade dce3ec7a25c9 -> c3a73f615e4
INFO  [alembic.runtime.migration] Running upgrade c3a73f615e4 -> 659bf3d90664
INFO  [alembic.runtime.migration] Running upgrade 659bf3d90664 -> 1df244e556f5
INFO  [alembic.runtime.migration] Running upgrade 1df244e556f5 -> 19f26505c74f
INFO  [alembic.runtime.migration] Running upgrade 19f26505c74f -> 15be73214821
INFO  [alembic.runtime.migration] Running upgrade 15be73214821 -> b4caf27aae4
INFO  [alembic.runtime.migration] Running upgrade b4caf27aae4 -> 15e43b934f81
INFO  [alembic.runtime.migration] Running upgrade 15e43b934f81 -> 31ed664953e6
INFO  [alembic.runtime.migration] Running upgrade 31ed664953e6 -> 2f9e956e7532
INFO  [alembic.runtime.migration] Running upgrade 2f9e956e7532 -> 3894bccad37f
INFO  [alembic.runtime.migration] Running upgrade 3894bccad37f -> 0e66c5227a8a
INFO  [alembic.runtime.migration] Running upgrade 0e66c5227a8a -> 45f8dd33480b
INFO  [alembic.runtime.migration] Running upgrade 45f8dd33480b -> 5abc0278ca73
INFO  [alembic.runtime.migration] Running upgrade 5abc0278ca73 -> d3435b514502
INFO  [alembic.runtime.migration] Running upgrade d3435b514502 -> 30107ab6a3ee
INFO  [alembic.runtime.migration] Running upgrade 30107ab6a3ee -> c415aab1c048
INFO  [alembic.runtime.migration] Running upgrade c415aab1c048 -> a963b38d82f4
INFO  [alembic.runtime.migration] Running upgrade kilo -> 30018084ec99
INFO  [alembic.runtime.migration] Running upgrade 30018084ec99 -> 4ffceebfada
INFO  [alembic.runtime.migration] Running upgrade 4ffceebfada -> 5498d17be016
INFO  [alembic.runtime.migration] Running upgrade 5498d17be016 -> 2a16083502f3
INFO  [alembic.runtime.migration] Running upgrade 2a16083502f3 -> 2e5352a0ad4d
INFO  [alembic.runtime.migration] Running upgrade 2e5352a0ad4d -> 11926bcfe72d
INFO  [alembic.runtime.migration] Running upgrade 11926bcfe72d -> 4af11ca47297
INFO  [alembic.runtime.migration] Running upgrade 4af11ca47297 -> 1b294093239c
INFO  [alembic.runtime.migration] Running upgrade 1b294093239c -> 8a6d8bdae39
INFO  [alembic.runtime.migration] Running upgrade 8a6d8bdae39 -> 2b4c2465d44b
INFO  [alembic.runtime.migration] Running upgrade 2b4c2465d44b -> e3278ee65050
INFO  [alembic.runtime.migration] Running upgrade e3278ee65050 -> c6c112992c9
INFO  [alembic.runtime.migration] Running upgrade c6c112992c9 -> 5ffceebfada
INFO  [alembic.runtime.migration] Running upgrade 5ffceebfada -> 4ffceebfcdc
INFO  [alembic.runtime.migration] Running upgrade 4ffceebfcdc -> 7bbb25278f53
INFO  [alembic.runtime.migration] Running upgrade 7bbb25278f53 -> 89ab9a816d70
INFO  [alembic.runtime.migration] Running upgrade 89ab9a816d70 -> c879c5e1ee90
INFO  [alembic.runtime.migration] Running upgrade c879c5e1ee90 -> 8fd3918ef6f4
INFO  [alembic.runtime.migration] Running upgrade 8fd3918ef6f4 -> 4bcd4df1f426
INFO  [alembic.runtime.migration] Running upgrade 4bcd4df1f426 -> b67e765a3524
INFO  [alembic.runtime.migration] Running upgrade a963b38d82f4 -> 3d0e74aa7d37
INFO  [alembic.runtime.migration] Running upgrade 3d0e74aa7d37 -> 030a959ceafa
INFO  [alembic.runtime.migration] Running upgrade 030a959ceafa -> a5648cfeeadf
INFO  [alembic.runtime.migration] Running upgrade a5648cfeeadf -> 0f5bef0f87d4
INFO  [alembic.runtime.migration] Running upgrade 0f5bef0f87d4 -> 67daae611b6e
INFO  [alembic.runtime.migration] Running upgrade b67e765a3524 -> a84ccf28f06a
INFO  [alembic.runtime.migration] Running upgrade a84ccf28f06a -> 7d9d8eeec6ad
INFO  [alembic.runtime.migration] Running upgrade 67daae611b6e -> 6b461a21bcfc
INFO  [alembic.runtime.migration] Running upgrade 6b461a21bcfc -> 5cd92597d11d
INFO  [alembic.runtime.migration] Running upgrade 5cd92597d11d -> 929c968efe70
INFO  [alembic.runtime.migration] Running upgrade 929c968efe70 -> a9c43481023c
INFO  [alembic.runtime.migration] Running upgrade a9c43481023c -> 804a3c76314c
INFO  [alembic.runtime.migration] Running upgrade 804a3c76314c -> 2b42d90729da
INFO  [alembic.runtime.migration] Running upgrade 2b42d90729da -> 62c781cb6192
INFO  [alembic.runtime.migration] Running upgrade 62c781cb6192 -> c8c222d42aa9
INFO  [alembic.runtime.migration] Running upgrade c8c222d42aa9 -> 349b6fd605a6
INFO  [alembic.runtime.migration] Running upgrade 349b6fd605a6 -> 7d32f979895f
INFO  [alembic.runtime.migration] Running upgrade 7d32f979895f -> 594422d373ee
INFO  [alembic.runtime.migration] Running upgrade 594422d373ee -> 61663558142c
INFO  [alembic.runtime.migration] Running upgrade 61663558142c -> 867d39095bf4, port forwarding
INFO  [alembic.runtime.migration] Running upgrade 867d39095bf4 -> d72db3e25539, modify uniq port forwarding
INFO  [alembic.runtime.migration] Running upgrade d72db3e25539 -> cada2437bf41
INFO  [alembic.runtime.migration] Running upgrade cada2437bf41 -> 195176fb410d, router gateway IP QoS
INFO  [alembic.runtime.migration] Running upgrade 195176fb410d -> fb0167bd9639
INFO  [alembic.runtime.migration] Running upgrade fb0167bd9639 -> 0ff9e3881597
INFO  [alembic.runtime.migration] Running upgrade 0ff9e3881597 -> 9bfad3f1e780
INFO  [alembic.runtime.migration] Running upgrade 9bfad3f1e780 -> 63fd95af7dcd
INFO  [alembic.runtime.migration] Running upgrade 63fd95af7dcd -> c613d0b82681
INFO  [alembic.runtime.migration] Running upgrade c613d0b82681 -> c3e9d13c4367
INFO  [alembic.runtime.migration] Running upgrade c3e9d13c4367 -> 86274d77933e
INFO  [alembic.runtime.migration] Running upgrade 86274d77933e -> f4b9654dd40c
INFO  [alembic.runtime.migration] Running upgrade f4b9654dd40c -> a010322604bc
INFO  [alembic.runtime.migration] Running upgrade a010322604bc -> 263d454a9655
INFO  [alembic.runtime.migration] Running upgrade 263d454a9655 -> Ibac91d24da2
INFO  [alembic.runtime.migration] Running upgrade Ibac91d24da2 -> 2217c4222de6
INFO  [alembic.runtime.migration] Running upgrade 2217c4222de6 -> 18a7e90ae768
INFO  [alembic.runtime.migration] Running upgrade 18a7e90ae768 -> e4e236b0e1ff
INFO  [alembic.runtime.migration] Running upgrade e4e236b0e1ff -> e88badaa9591
INFO  [alembic.runtime.migration] Running upgrade e88badaa9591 -> d8bdf05313f4
INFO  [alembic.runtime.migration] Running upgrade d8bdf05313f4 -> dfe425060830
INFO  [alembic.runtime.migration] Running upgrade dfe425060830 -> fd6107509ccd
INFO  [alembic.runtime.migration] Running upgrade fd6107509ccd -> 1ea5dab0897a
INFO  [alembic.runtime.migration] Running upgrade 1ea5dab0897a -> 49d8622c5221
INFO  [alembic.runtime.migration] Running upgrade 49d8622c5221 -> I38991de2b4
INFO  [alembic.runtime.migration] Running upgrade I38991de2b4 -> 532aa95457e2
INFO  [alembic.runtime.migration] Running upgrade 532aa95457e2 -> f010820fc498
INFO  [alembic.runtime.migration] Running upgrade f010820fc498 -> a964d94b4677
INFO  [alembic.runtime.migration] Running upgrade a964d94b4677 -> 26d1e9f5c766
INFO  [alembic.runtime.migration] Running upgrade 26d1e9f5c766 -> 1e0744e4ffea
INFO  [alembic.runtime.migration] Running upgrade 1e0744e4ffea -> 6135a7bd4425
INFO  [alembic.runtime.migration] Running upgrade 6135a7bd4425 -> 8df53b0d2c0e
INFO  [alembic.runtime.migration] Running upgrade 8df53b0d2c0e -> 1bb3393de75d, add qos policy rule Packet Rate Limit
INFO  [alembic.runtime.migration] Running upgrade 1bb3393de75d -> c181bb1d89e4
INFO  [alembic.runtime.migration] Running upgrade c181bb1d89e4 -> ba859d649675
INFO  [alembic.runtime.migration] Running upgrade ba859d649675 -> e981acd076d3
INFO  [alembic.runtime.migration] Running upgrade e981acd076d3 -> 76df7844a8c6, add Local IP tables
INFO  [alembic.runtime.migration] Running upgrade 76df7844a8c6 -> 1ffef8d6f371, migrate RBAC registers from "target_tenant" to "target_project"
INFO  [alembic.runtime.migration] Running upgrade 1ffef8d6f371 -> 8160f7a9cebb, drop portbindingports table
INFO  [alembic.runtime.migration] Running upgrade 8160f7a9cebb -> cd9ef14ccf87
INFO  [alembic.runtime.migration] Running upgrade cd9ef14ccf87 -> 34cf8b009713
INFO  [alembic.runtime.migration] Running upgrade 34cf8b009713 -> I43e0b669096
INFO  [alembic.runtime.migration] Running upgrade I43e0b669096 -> 4e6e655746f6
INFO  [alembic.runtime.migration] Running upgrade 4e6e655746f6 -> 659cbedf30a1
INFO  [alembic.runtime.migration] Running upgrade 659cbedf30a1 -> 21ff98fabab1
INFO  [alembic.runtime.migration] Running upgrade 21ff98fabab1 -> 5881373af7f5
INFO  [alembic.runtime.migration] Running upgrade 5881373af7f5 -> fc153938cdc1
INFO  [alembic.runtime.migration] Running upgrade fc153938cdc1 -> 93f394357a27
INFO  [alembic.runtime.migration] Running upgrade 93f394357a27 -> 6f1145bff34c
INFO  [alembic.runtime.migration] Running upgrade 6f1145bff34c -> 682c319773d7
INFO  [alembic.runtime.migration] Running upgrade 682c319773d7 -> 0aefee21cd87
INFO  [alembic.runtime.migration] Running upgrade 0aefee21cd87 -> b1199a3adbef
INFO  [alembic.runtime.migration] Running upgrade b1199a3adbef -> c33da356b165
INFO  [alembic.runtime.migration] Running upgrade c33da356b165 -> 89c58a70ceba
INFO  [alembic.runtime.migration] Running upgrade 89c58a70ceba -> 054e34dbe6b4
INFO  [alembic.runtime.migration] Running upgrade 054e34dbe6b4 -> 0e6eff810791
INFO  [alembic.runtime.migration] Running upgrade 0e6eff810791 -> 175fa80908e1
INFO  [alembic.runtime.migration] Running upgrade 175fa80908e1 -> 5bcb7b31ec7d
INFO  [alembic.runtime.migration] Running upgrade 5bcb7b31ec7d -> ad80a9f07c5c
INFO  [alembic.runtime.migration] Running upgrade 7d9d8eeec6ad -> a8b517cff8ab
INFO  [alembic.runtime.migration] Running upgrade a8b517cff8ab -> 3b935b28e7a0
INFO  [alembic.runtime.migration] Running upgrade 3b935b28e7a0 -> b12a3ef66e62
INFO  [alembic.runtime.migration] Running upgrade b12a3ef66e62 -> 97c25b0d2353
INFO  [alembic.runtime.migration] Running upgrade 97c25b0d2353 -> 2e0d7a8a1586
INFO  [alembic.runtime.migration] Running upgrade 2e0d7a8a1586 -> 5c85685d616d
Running upgrade for neutron ...
OK
+ lib/neutron:init_neutron:530             :   time_stop dbsync
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=dbsync
+ functions-common:time_stop:2428          :   start_time=1760003493719
+ functions-common:time_stop:2430          :   [[ -z 1760003493719 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003537957
+ functions-common:time_stop:2434          :   elapsed_time=44238
+ functions-common:time_stop:2435          :   total=6874
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=51112
[1115705 Async init_neutron:1159132]: finished init_neutron with result 0 in 47 seconds
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1245                     :   async_wait init_placement
[1115705 Async init_placement:1159751]: Waiting for completion of init_placement running on PID 1159751 (5 other jobs running)
[1115705 Async init_placement:1159751]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
[1159751 Async init_placement:1159751]: finished successfully
WAKEUP
[1115705 Async init_placement:1159751]: Signaled
+ lib/placement:init_placement:113         :   recreate_database placement
+ lib/database:recreate_database:112       :   local db=placement
+ lib/database:recreate_database:113       :   recreate_database_mysql placement
+ lib/databases/mysql:recreate_database_mysql:60 :   local db=placement
+ lib/databases/mysql:recreate_database_mysql:61 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS placement;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:62 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'CREATE DATABASE placement CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/placement:init_placement:114         :   /opt/stack/data/venv/bin/placement-manage db sync
+ lib/placement:init_placement:115         :   create_placement_accounts
+ lib/placement:create_placement_accounts:102 :   create_service_user placement admin
+ lib/keystone:create_service_user:416     :   get_or_create_user placement Hitachino1 Default
+ functions-common:get_or_create_user:903  :   local user_id
+ functions-common:get_or_create_user:904  :   [[ ! -z '' ]]
+ functions-common:get_or_create_user:907  :   local email=
++ functions-common:get_or_create_user:921  :   oscwrap --os-cloud devstack-system-admin user create placement --password Hitachino1 --domain=Default --or-show -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_user:919  :   user_id=d4e7d44258654e9e8835375ef0d4187a
+ functions-common:get_or_create_user:920  :   echo d4e7d44258654e9e8835375ef0d4187a
d4e7d44258654e9e8835375ef0d4187a
+ lib/keystone:create_service_user:417     :   get_or_add_user_project_role service placement service Default Default
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n Default ]]
++ functions-common:_get_domain_args:955    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:957    :   [[ -n Default ]]
++ functions-common:_get_domain_args:958    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:961    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:970 :   domain_args='--user-domain Default --project-domain Default'
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add service --user placement --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user placement --project service --user-domain Default --project-domain Default -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=d77b450c937344b1a37442161a915b2f
+ functions-common:get_or_add_user_project_role:984 :   echo d77b450c937344b1a37442161a915b2f
d77b450c937344b1a37442161a915b2f
+ lib/keystone:create_service_user:419     :   [[ -n admin ]]
+ lib/keystone:create_service_user:420     :   get_or_add_user_project_role admin placement service Default Default
+ functions-common:get_or_add_user_project_role:967 :   local user_role_id
+ functions-common:get_or_add_user_project_role:968 :   local domain_args
++ functions-common:get_or_add_user_project_role:970 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:951    :   local domain
++ functions-common:_get_domain_args:952    :   domain=
++ functions-common:_get_domain_args:954    :   [[ -n Default ]]
++ functions-common:_get_domain_args:955    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:957    :   [[ -n Default ]]
++ functions-common:_get_domain_args:958    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:961    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:970 :   domain_args='--user-domain Default --project-domain Default'
+ functions-common:get_or_add_user_project_role:974 :   openstack --os-cloud devstack-system-admin role add admin --user placement --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user placement --project service --user-domain Default --project-domain Default -c Role -f value
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=e2110fd61fd44eb2954c23f5abc7d6de
+ functions-common:get_or_add_user_project_role:984 :   echo e2110fd61fd44eb2954c23f5abc7d6de
e2110fd61fd44eb2954c23f5abc7d6de
+ lib/placement:create_placement_accounts:103 :   local placement_api_url=http://172.25.93.57/placement
+ lib/placement:create_placement_accounts:104 :   get_or_create_service placement placement 'Placement Service'
+ functions-common:get_or_create_service:1059 :   local service_id
++ functions-common:get_or_create_service:1072 :   oscwrap --os-cloud devstack-system-admin service show placement -f value -c id
++ functions-common:get_or_create_service:1074 :   oscwrap --os-cloud devstack-system-admin service create placement --name placement '--description=Placement Service' -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ functions-common:get_or_create_service:1070 :   service_id='
c1d7107fba564fbb8a5f52bdab7acb3e'
+ functions-common:get_or_create_service:1071 :   echo c1d7107fba564fbb8a5f52bdab7acb3e
c1d7107fba564fbb8a5f52bdab7acb3e
+ lib/placement:create_placement_accounts:106 :   get_or_create_endpoint placement RegionOne http://172.25.93.57/placement
+ functions-common:get_or_create_endpoint:1103 :   local public_id
++ functions-common:get_or_create_endpoint:1104 :   _get_or_create_endpoint_with_interface placement public http://172.25.93.57/placement RegionOne
++ functions-common:_get_or_create_endpoint_with_interface:1077 :   local endpoint_id
+++ functions-common:_get_or_create_endpoint_with_interface:1082 :   oscwrap --os-cloud devstack-system-admin endpoint list --service placement --interface public --region RegionOne -c ID -f value
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1082 :   endpoint_id=
++ functions-common:_get_or_create_endpoint_with_interface:1083 :   [[ -z '' ]]
+++ functions-common:_get_or_create_endpoint_with_interface:1086 :   oscwrap --os-cloud devstack-system-admin endpoint create placement public http://172.25.93.57/placement --region RegionOne -f value -c id
+++ functions-common:oscwrap:2466            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1086 :   endpoint_id=d27ed60b03eb4ff7964004bc3cb921b8
++ functions-common:_get_or_create_endpoint_with_interface:1089 :   echo d27ed60b03eb4ff7964004bc3cb921b8
+ functions-common:get_or_create_endpoint:1104 :   public_id=d27ed60b03eb4ff7964004bc3cb921b8
+ functions-common:get_or_create_endpoint:1106 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1109 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1113 :   echo d27ed60b03eb4ff7964004bc3cb921b8
d27ed60b03eb4ff7964004bc3cb921b8
[1115705 Async init_placement:1159751]: finished init_placement with result 0 in 49 seconds
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1246                     :   async_wait init_glance
[1115705 Async init_glance:1155584]: Waiting for completion of init_glance running on PID 1155584 (4 other jobs running)
[1115705 Async init_glance:1155584]: Signaling child to exit
WAKEUP
[1115705 Async init_glance:1155584]: Signaled
+ lib/glance:init_glance:545               :   rm -rf /opt/stack/data/glance/images
+ lib/glance:init_glance:546               :   mkdir -p /opt/stack/data/glance/images
+ lib/glance:init_glance:549               :   recreate_database glance
+ lib/database:recreate_database:112       :   local db=glance
+ lib/database:recreate_database:113       :   recreate_database_mysql glance
+ lib/databases/mysql:recreate_database_mysql:60 :   local db=glance
+ lib/databases/mysql:recreate_database_mysql:61 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS glance;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:62 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'CREATE DATABASE glance CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/glance:init_glance:551               :   time_start dbsync
+ functions-common:time_start:2407         :   local name=dbsync
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003441862
+ lib/glance:init_glance:553               :   /opt/stack/data/venv/bin/glance-manage --config-file /etc/glance/glance-api.conf db_sync
INFO dbcounter [[00;36m-] [01;35mRegistered counter for database glance[00m
DEBUG oslo_db.sqlalchemy.engines [[00;36m-] [01;35mMySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION[00m [00;33m{{(pid=1155691) _check_effective_sql_mode /opt/stack/data/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/engines.py:397}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mContext impl MySQLImpl.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mWill assume non-transactional DDL.[00m
DEBUG dbcounter [[00;36m-] [01;35m[1155691] Writer thread running[00m [00;33m{{(pid=1155691) stat_writer /opt/stack/data/venv/lib/python3.10/site-packages/dbcounter.py:102}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mContext impl MySQLImpl.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mWill assume non-transactional DDL.[00m
INFO dbcounter [[00;36m-] [01;35mRegistered counter for database glance[00m
DEBUG oslo_db.sqlalchemy.engines [[00;36m-] [01;35mMySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION[00m [00;33m{{(pid=1155691) _check_effective_sql_mode /opt/stack/data/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/engines.py:397}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mContext impl MySQLImpl.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mWill assume non-transactional DDL.[00m
DEBUG dbcounter [[00;36m-] [01;35m[1155691] Writer thread running[00m [00;33m{{(pid=1155691) stat_writer /opt/stack/data/venv/lib/python3.10/site-packages/dbcounter.py:102}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade  -> liberty, liberty initial[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mnew branch insert liberty[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:826}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade liberty -> mitaka01, add index on created_at and updated_at columns of 'images' table[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate liberty to mitaka01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade mitaka01 -> mitaka02, update metadef os_nova_server[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate mitaka01 to mitaka02[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade mitaka02 -> ocata_expand01, add visibility to images[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate mitaka02 to ocata_expand01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade ocata_expand01 -> pike_expand01, empty expand for symmetry with pike_contract01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate ocata_expand01 to pike_expand01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade pike_expand01 -> queens_expand01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate pike_expand01 to queens_expand01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade queens_expand01 -> rocky_expand01, add os_hidden column to images table[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate queens_expand01 to rocky_expand01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade rocky_expand01 -> rocky_expand02, add os_hash_algo and os_hash_value columns to images table[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate rocky_expand01 to rocky_expand02[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade rocky_expand02 -> train_expand01, empty expand for symmetry with train_contract01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate rocky_expand02 to train_expand01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade train_expand01 -> ussuri_expand01, empty expand for symmetry with ussuri_expand01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate train_expand01 to ussuri_expand01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade ussuri_expand01 -> wallaby_expand01, add image_id, request_id, user columns to tasks table"[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate ussuri_expand01 to wallaby_expand01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade wallaby_expand01 -> xena_expand01, empty expand for symmetry with 2023_1_expand01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate wallaby_expand01 to xena_expand01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade xena_expand01 -> yoga_expand01, empty expand for symmetry with 2023_1_expand01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate xena_expand01 to yoga_expand01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade yoga_expand01 -> zed_expand01, empty expand for symmetry with 2023_1_expand01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate yoga_expand01 to zed_expand01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade zed_expand01 -> 2023_1_expand01, empty expand for symmetry with 2023_1_expand01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate zed_expand01 to 2023_1_expand01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 2023_1_expand01 -> 2024_1_expand01, adds cache_node_reference and cached_images table(s)[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 2023_1_expand01 to 2024_1_expand01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mContext impl MySQLImpl.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mWill assume non-transactional DDL.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mContext impl MySQLImpl.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mWill assume non-transactional DDL.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mContext impl MySQLImpl.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mWill assume non-transactional DDL.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mContext impl MySQLImpl.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mWill assume non-transactional DDL.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mContext impl MySQLImpl.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mWill assume non-transactional DDL.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade mitaka02 -> ocata_contract01, remove is_public from images[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mnew branch insert ocata_contract01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:826}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade ocata_contract01 -> pike_contract01, drop glare artifacts tables[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate ocata_contract01 to pike_contract01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade pike_contract01 -> queens_contract01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate pike_contract01 to queens_contract01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade queens_contract01 -> rocky_contract01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate queens_contract01 to rocky_contract01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade rocky_contract01 -> rocky_contract02[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate rocky_contract01 to rocky_contract02[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade rocky_contract02 -> train_contract01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate rocky_contract02 to train_contract01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade train_contract01 -> ussuri_contract01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate train_contract01 to ussuri_contract01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade ussuri_contract01 -> wallaby_contract01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate ussuri_contract01 to wallaby_contract01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade wallaby_contract01 -> xena_contract01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate wallaby_contract01 to xena_contract01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade xena_contract01 -> yoga_contract01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate xena_contract01 to yoga_contract01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade yoga_contract01 -> zed_contract01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate yoga_contract01 to zed_contract01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade zed_contract01 -> 2023_1_contract01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate zed_contract01 to 2023_1_contract01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 2023_1_contract01 -> 2024_1_contract01[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mmerge, delete ['2023_1_contract01'], update 2024_1_expand01 to 2024_1_contract01[00m [00;33m{{(pid=1155691) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:835}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mContext impl MySQLImpl.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mWill assume non-transactional DDL.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mContext impl MySQLImpl.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mWill assume non-transactional DDL.[00m
Upgraded database to: 2024_1_expand01, current revision(s): 2024_1_expand01
Database migration is up to date. No migration needed.
Upgraded database to: 2024_1_contract01, current revision(s): 2024_1_contract01
Database is synced successfully.
+ lib/glance:init_glance:556               :   /opt/stack/data/venv/bin/glance-manage --config-file /etc/glance/glance-api.conf db_load_metadefs
INFO dbcounter [[00;36m-] [01;35mRegistered counter for database glance[00m
DEBUG oslo_db.sqlalchemy.engines [[00;36m-] [01;35mMySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION[00m [00;33m{{(pid=1155877) _check_effective_sql_mode /opt/stack/data/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/engines.py:397}}[00m
DEBUG dbcounter [[00;36m-] [01;35m[1155877] Writer thread running[00m [00;33m{{(pid=1155877) stat_writer /opt/stack/data/venv/lib/python3.10/site-packages/dbcounter.py:102}}[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-hypervisor.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-vmware-quota-flavor.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-quota.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/cim-virtual-system-setting-data.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-instance-data.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/image-signature-verification.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/cim-storage-allocation-setting-data.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-aggr-iops-filter.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-xenapi.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-guest-shutdown.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-cpu-mode.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-randomgen.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/software-webservers.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-vtpm.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/cim-processor-allocation-setting-data.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-guest-memory-backing.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/software-runtimes.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-vtpm-hw.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-libvirt.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/glance-common-image-props.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-vcputopology.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-watchdog.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/storage-volume-type.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/operating-system.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-cpu-pinning.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-aggr-disk-filter.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-libvirt-image.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-vmware.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-host-capabilities.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/software-databases.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-vmware-flavor.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/compute-aggr-num-instances.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mFile /etc/glance/metadefs/cim-resource-allocation-setting-data.json loaded to database.[00m
INFO glance.db.sqlalchemy.metadata [[00;36m-] [01;35mMetadata loading finished[00m
+ lib/glance:init_glance:557               :   time_stop dbsync
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=dbsync
+ functions-common:time_stop:2428          :   start_time=1760003441862
+ functions-common:time_stop:2430          :   [[ -z 1760003441862 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003454882
+ functions-common:time_stop:2434          :   elapsed_time=13020
+ functions-common:time_stop:2435          :   total=6874
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=19894
[1115705 Async init_glance:1155584]: finished init_glance with result 0 in 13 seconds
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1247                     :   async_wait init_swift
[1115705 Async init_swift:1159458]: Waiting for completion of init_swift running on PID 1159458 (3 other jobs running)
[1115705 Async init_swift:1159458]: Signaling child to exit
WAKEUP
[1115705 Async init_swift:1159458]: Signaled
+ lib/swift:init_swift:670                 :   local node_number
+ lib/swift:init_swift:672                 :   /opt/stack/data/venv/bin/swift-init --run-dir=/opt/stack/data/swift/run all stop
No container-sync running
No account-auditor running
No object-reconstructor running
No object-auditor running
No container-replicator running
No container-server running
No proxy-server running
No container-reconciler running
No container-auditor running
No object-updater running
No container-sharder running
No account-server running
No object-expirer running
No object-server running
No container-updater running
No account-reaper running
No account-replicator running
No object-replicator running
+ lib/swift:init_swift:672                 :   true
+ lib/swift:init_swift:675                 :   create_swift_disk
+ lib/swift:create_swift_disk:567          :   local node_number
+ lib/swift:create_swift_disk:572          :   local user_group
++ lib/swift:create_swift_disk:573          :   id -g stack
+ lib/swift:create_swift_disk:573          :   user_group=1001
+ lib/swift:create_swift_disk:574          :   sudo install -d -o stack -g 1001 /opt/stack/data/swift/drives /opt/stack/data/swift/cache /opt/stack/data/swift/run /opt/stack/data/swift/logs
+ lib/swift:create_swift_disk:577          :   create_disk /opt/stack/data/swift/drives/images/swift.img /opt/stack/data/swift/drives/sdb1 6G
+ functions:create_disk:748                :   local node_number
+ functions:create_disk:749                :   local disk_image=/opt/stack/data/swift/drives/images/swift.img
+ functions:create_disk:750                :   local storage_data_dir=/opt/stack/data/swift/drives/sdb1
+ functions:create_disk:751                :   local loopback_disk_size=6G
+ functions:create_disk:752                :   local key
++ functions:create_disk:754                :   echo /opt/stack/data/swift/drives/images/swift.img
++ functions:create_disk:754                :   sed s#/.##
+ functions:create_disk:754                :   key=pt/stack/data/swift/drives/images/swift.img
+ functions:create_disk:755                :   key=devstack-pt/stack/data/swift/drives/images/swift.img
+ functions:create_disk:757                :   destroy_disk /opt/stack/data/swift/drives/images/swift.img /opt/stack/data/swift/drives/sdb1
+ functions:destroy_disk:779               :   local disk_image=/opt/stack/data/swift/drives/images/swift.img
+ functions:destroy_disk:780               :   local storage_data_dir=/opt/stack/data/swift/drives/sdb1
+ functions:destroy_disk:781               :   local key
++ functions:destroy_disk:783               :   sed s#/.##
++ functions:destroy_disk:783               :   echo /opt/stack/data/swift/drives/images/swift.img
+ functions:destroy_disk:783               :   key=pt/stack/data/swift/drives/images/swift.img
+ functions:destroy_disk:784               :   key=devstack-pt/stack/data/swift/drives/images/swift.img
+ functions:destroy_disk:787               :   egrep -q /opt/stack/data/swift/drives/sdb1 /proc/mounts
+ functions:destroy_disk:788               :   sudo umount /opt/stack/data/swift/drives/sdb1
+ functions:destroy_disk:792               :   sudo sed -i '/.*comment=$key.*/ d' /etc/fstab
+ functions:destroy_disk:795               :   sudo rm -f /opt/stack/data/swift/drives/images/swift.img
++ functions:create_disk:761                :   dirname /opt/stack/data/swift/drives/images/swift.img
+ functions:create_disk:761                :   sudo mkdir -p /opt/stack/data/swift/drives/images
+ functions:create_disk:762                :   sudo truncate -s 6G /opt/stack/data/swift/drives/images/swift.img
+ functions:create_disk:769                :   sudo mkfs.xfs -f -i size=1024 /opt/stack/data/swift/drives/images/swift.img
meta-data=/opt/stack/data/swift/drives/images/swift.img isize=1024   agcount=4, agsize=393216 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=1, sparse=1, rmapbt=0
         =                       reflink=1    bigtime=0 inobtcount=0
data     =                       bsize=4096   blocks=1572864, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0, ftype=1
log      =internal log           bsize=4096   blocks=2560, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0
+ functions:create_disk:772                :   echo '/opt/stack/data/swift/drives/images/swift.img /opt/stack/data/swift/drives/sdb1 xfs loop,noatime,nodiratime,logbufs=8,comment=devstack-pt/stack/data/swift/drives/images/swift.img 0 0'
+ functions:create_disk:772                :   sudo tee -a /etc/fstab
/opt/stack/data/swift/drives/images/swift.img /opt/stack/data/swift/drives/sdb1 xfs loop,noatime,nodiratime,logbufs=8,comment=devstack-pt/stack/data/swift/drives/images/swift.img 0 0
+ functions:create_disk:773                :   sudo mkdir -p /opt/stack/data/swift/drives/sdb1
+ functions:create_disk:774                :   sudo mount -v /opt/stack/data/swift/drives/sdb1
mount: /dev/loop0 mounted on /opt/stack/data/swift/drives/sdb1.
+ lib/swift:create_swift_disk:581          :   local node_number
+ lib/swift:create_swift_disk:582          :   for node_number in ${SWIFT_REPLICAS_SEQ}
+ lib/swift:create_swift_disk:584          :   local node_devices=/opt/stack/data/swift/1
+ lib/swift:create_swift_disk:585          :   local real_devices=/opt/stack/data/swift/drives/sdb1/1
+ lib/swift:create_swift_disk:586          :   sudo ln -sf /opt/stack/data/swift/drives/sdb1/1 /opt/stack/data/swift/1
+ lib/swift:create_swift_disk:587          :   local device=/opt/stack/data/swift/drives/sdb1/1/sdb1
+ lib/swift:create_swift_disk:588          :   [[ -d /opt/stack/data/swift/drives/sdb1/1/sdb1 ]]
+ lib/swift:create_swift_disk:589          :   sudo install -o stack -g 1001 -d /opt/stack/data/swift/drives/sdb1/1/sdb1
+ lib/swift:init_swift:679                 :   pushd /etc/swift
+ lib/swift:init_swift:681                 :   rm -f account.builder container.builder object.builder account.ring.gz container.ring.gz object.ring.gz backups/1759992205.container.builder backups/1759992205.object.builder backups/1759992206.account.builder backups/1759992208.object.builder backups/1759992209.container.builder backups/1759992210.account.builder backups/1759992208.object.ring.gz backups/1759992209.container.ring.gz backups/1759992210.account.ring.gz
+ lib/swift:init_swift:683                 :   /opt/stack/data/venv/bin/swift-ring-builder object.builder create 9 1 1
+ lib/swift:init_swift:684                 :   /opt/stack/data/venv/bin/swift-ring-builder container.builder create 9 1 1
+ lib/swift:init_swift:685                 :   /opt/stack/data/venv/bin/swift-ring-builder account.builder create 9 1 1
+ lib/swift:init_swift:691                 :   [[ -n '' ]]
+ lib/swift:init_swift:704                 :   for node_number in ${SWIFT_REPLICAS_SEQ}
+ lib/swift:init_swift:705                 :   /opt/stack/data/venv/bin/swift-ring-builder object.builder add z1-127.0.0.1:6613/sdb1 1
WARNING: No region specified for z1-127.0.0.1:6613/sdb1. Defaulting to region 1.
Device d0r1z1-127.0.0.1:6613R127.0.0.1:6613/sdb1_"" with 1.0 weight got id 0
+ lib/swift:init_swift:706                 :   /opt/stack/data/venv/bin/swift-ring-builder container.builder add z1-127.0.0.1:6611/sdb1 1
WARNING: No region specified for z1-127.0.0.1:6611/sdb1. Defaulting to region 1.
Device d0r1z1-127.0.0.1:6611R127.0.0.1:6611/sdb1_"" with 1.0 weight got id 0
+ lib/swift:init_swift:707                 :   /opt/stack/data/venv/bin/swift-ring-builder account.builder add z1-127.0.0.1:6612/sdb1 1
WARNING: No region specified for z1-127.0.0.1:6612/sdb1. Defaulting to region 1.
Device d0r1z1-127.0.0.1:6612R127.0.0.1:6612/sdb1_"" with 1.0 weight got id 0
+ lib/swift:init_swift:713                 :   /opt/stack/data/venv/bin/swift-ring-builder object.builder rebalance 42
Reassigned 512 (100.00%) partitions. Balance is now 0.00.  Dispersion is now 0.00
+ lib/swift:init_swift:714                 :   /opt/stack/data/venv/bin/swift-ring-builder container.builder rebalance 42
Reassigned 512 (100.00%) partitions. Balance is now 0.00.  Dispersion is now 0.00
+ lib/swift:init_swift:715                 :   /opt/stack/data/venv/bin/swift-ring-builder account.builder rebalance 42
Reassigned 512 (100.00%) partitions. Balance is now 0.00.  Dispersion is now 0.00
+ lib/swift:init_swift:716                 :   popd
[1115705 Async init_swift:1159458]: finished init_swift with result 0 in 7 seconds
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1248                     :   async_wait init_cinder
[1115705 Async init_cinder:1159562]: Waiting for completion of init_cinder running on PID 1159562 (2 other jobs running)
[1115705 Async init_cinder:1159562]: Signaling child to exit
WAKEUP
[1115705 Async init_cinder:1159562]: Signaled
+ lib/cinder:init_cinder:484               :   is_service_enabled mysql postgresql
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/cinder:init_cinder:486               :   recreate_database cinder
+ lib/database:recreate_database:112       :   local db=cinder
+ lib/database:recreate_database:113       :   recreate_database_mysql cinder
+ lib/databases/mysql:recreate_database_mysql:60 :   local db=cinder
+ lib/databases/mysql:recreate_database_mysql:61 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS cinder;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:62 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'CREATE DATABASE cinder CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/cinder:init_cinder:488               :   time_start dbsync
+ functions-common:time_start:2407         :   local name=dbsync
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003493796
+ lib/cinder:init_cinder:490               :   /opt/stack/data/venv/bin/cinder-manage --config-file /etc/cinder/cinder.conf db sync
INFO dbcounter [[00;36m-] [01;35mRegistered counter for database cinder[00m
DEBUG oslo_db.sqlalchemy.engines [[00;36m-] [01;35mMySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION[00m [00;33m{{(pid=1159953) _check_effective_sql_mode /opt/stack/data/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/engines.py:397}}[00m
INFO cinder.db.migration [[00;36m-] [01;35mApplying migration(s)[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mContext impl MySQLImpl.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mWill assume non-transactional DDL.[00m
DEBUG dbcounter [[00;36m-] [01;35m[1159953] Writer thread running[00m [00;33m{{(pid=1159953) stat_writer /opt/stack/data/venv/lib/python3.10/site-packages/dbcounter.py:102}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade  -> 921e1a36b076, Initial migration.[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mnew branch insert 921e1a36b076[00m [00;33m{{(pid=1159953) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:826}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 921e1a36b076 -> c92a3e68beed, Make shared_targets nullable[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 921e1a36b076 to c92a3e68beed[00m [00;33m{{(pid=1159953) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade c92a3e68beed -> daa98075b90d, Add resource indexes[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate c92a3e68beed to daa98075b90d[00m [00;33m{{(pid=1159953) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade daa98075b90d -> 89aa6f9639f9, Drop legacy migrate_version table[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate daa98075b90d to 89aa6f9639f9[00m [00;33m{{(pid=1159953) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 89aa6f9639f9 -> b8660621f1b9, Update reservations resource[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 89aa6f9639f9 to b8660621f1b9[00m [00;33m{{(pid=1159953) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade b8660621f1b9 -> 9ab1b092a404, Make use_quota non nullable[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate b8660621f1b9 to 9ab1b092a404[00m [00;33m{{(pid=1159953) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 9ab1b092a404 -> b7b88f50aab5, Remove quota consistencygroups[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 9ab1b092a404 to b7b88f50aab5[00m [00;33m{{(pid=1159953) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade b7b88f50aab5 -> 9c74c1c6971f, Quota: Add backup defaults in quota class[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate b7b88f50aab5 to 9c74c1c6971f[00m [00;33m{{(pid=1159953) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO cinder.db.migration [[00;36m-] [01;35mMigration(s) applied[00m
+ lib/cinder:init_cinder:491               :   time_stop dbsync
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=dbsync
+ functions-common:time_stop:2428          :   start_time=1760003493796
+ functions-common:time_stop:2430          :   [[ -z 1760003493796 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003504668
+ functions-common:time_stop:2434          :   elapsed_time=10872
+ functions-common:time_stop:2435          :   total=6874
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=17746
+ lib/cinder:init_cinder:494               :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/cinder:init_cinder:494               :   [[ -n hitachi ]]
+ lib/cinder:init_cinder:495               :   local be be_name be_type
+ lib/cinder:init_cinder:496               :   for be in ${CINDER_ENABLED_BACKENDS//,/ }
+ lib/cinder:init_cinder:497               :   be_type=hitachi
+ lib/cinder:init_cinder:498               :   be_name=hitachi
+ lib/cinder:init_cinder:499               :   type init_cinder_backend_hitachi
+ lib/cinder:init_cinder:505               :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/cinder:init_cinder:505               :   [[ -n swift ]]
+ lib/cinder:init_cinder:506               :   type init_cinder_backup_swift
+ lib/cinder:init_cinder:511               :   mkdir -p /opt/stack/data/cinder/volumes
[1115705 Async init_cinder:1159562]: finished init_cinder with result 0 in 12 seconds
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1253                     :   is_service_enabled nova
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1254                     :   echo_summary 'Configuring Nova'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Configuring Nova
+ ./stack.sh:main:1255                     :   init_nova
+ lib/nova:init_nova:871                   :   is_service_enabled mysql postgresql
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova:init_nova:871                   :   is_service_enabled n-api
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/nova:init_nova:873                   :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:init_nova:881                   :   async_run nova-cell-0 init_nova_db nova_cell0 /etc/nova/nova.conf
+ inc/async:async_inner:63                 :   init_nova_db nova_cell0 /etc/nova/nova.conf
[1115705 Async nova-cell-0:1162035]: running: init_nova_db nova_cell0 /etc/nova/nova.conf
++ lib/nova:init_nova:884                   :   seq 1 1
+ lib/nova:init_nova:884                   :   for i in $(seq 1 $NOVA_NUM_CELLS)
++ lib/nova:init_nova:885                   :   conductor_conf 1
++ lib/nova:conductor_conf:850              :   local cell=1
++ lib/nova:conductor_conf:851              :   echo /etc/nova/nova_cell1.conf
+ lib/nova:init_nova:885                   :   async_run nova-cell-1 init_nova_db nova_cell1 /etc/nova/nova_cell1.conf
+ inc/async:async_inner:63                 :   init_nova_db nova_cell1 /etc/nova/nova_cell1.conf
[1115705 Async nova-cell-1:1162136]: running: init_nova_db nova_cell1 /etc/nova/nova_cell1.conf
+ lib/nova:init_nova:888                   :   recreate_database nova_api
+ lib/database:recreate_database:112       :   local db=nova_api
+ lib/database:recreate_database:113       :   recreate_database_mysql nova_api
+ lib/databases/mysql:recreate_database_mysql:60 :   local db=nova_api
+ lib/databases/mysql:recreate_database_mysql:61 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS nova_api;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:62 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'CREATE DATABASE nova_api CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/nova:init_nova:889                   :   /opt/stack/data/venv/bin/nova-manage --config-file /etc/nova/nova.conf api_db sync
INFO dbcounter [[00;36m-] [01;35mRegistered counter for database nova_api[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mContext impl MySQLImpl.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mWill assume non-transactional DDL.[00m
DEBUG dbcounter [[00;36m-] [01;35m[1162198] Writer thread running[00m [00;33m{{(pid=1162198) stat_writer /opt/stack/data/venv/lib/python3.10/site-packages/dbcounter.py:102}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade  -> d67eeaabee36, Initial version[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mnew branch insert d67eeaabee36[00m [00;33m{{(pid=1162198) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:826}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade d67eeaabee36 -> b30f573d3377, Remove unused build_requests columns[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate d67eeaabee36 to b30f573d3377[00m [00;33m{{(pid=1162198) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade b30f573d3377 -> cdeec0c85668, Drop legacy migrate_version table[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate b30f573d3377 to cdeec0c85668[00m [00;33m{{(pid=1162198) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
++ lib/nova:init_nova:893                   :   database_connection_url nova_cell0
++ lib/database:database_connection_url:134 :   local db=nova_cell0
++ lib/database:database_connection_url:135 :   database_connection_url_mysql nova_cell0
++ lib/databases/mysql:database_connection_url_mysql:243 :   local db=nova_cell0
++ lib/databases/mysql:database_connection_url_mysql:244 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:248 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:249 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2077 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:250 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:254 :   echo 'mysql+pymysql://root:Hitachino1@127.0.0.1/nova_cell0?charset=utf8&plugin=dbcounter'
+ lib/nova:init_nova:893                   :   /opt/stack/data/venv/bin/nova-manage cell_v2 map_cell0 --database_connection 'mysql+pymysql://root:Hitachino1@127.0.0.1/nova_cell0?charset=utf8&plugin=dbcounter'
INFO dbcounter [[01;36mNone req-ae6a749b-4c2f-48b8-afb7-67cadaf33e3b [00;36mNone None] [01;35mRegistered counter for database nova_api[00m
DEBUG dbcounter [[00;36m-] [01;35m[1162752] Writer thread running[00m [00;33m{{(pid=1162752) stat_writer /opt/stack/data/venv/lib/python3.10/site-packages/dbcounter.py:102}}[00m
++ lib/nova:init_nova:896                   :   seq 0 1
+ lib/nova:init_nova:896                   :   for i in $(seq 0 $NOVA_NUM_CELLS)
+ lib/nova:init_nova:897                   :   async_wait nova-cell-0
[1115705 Async nova-cell-0:1162035]: Waiting for completion of init_nova_db nova_cell0 /etc/nova/nova.conf running on PID 1162035 (3 other jobs running)
[1115705 Async nova-cell-0:1162035]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
[1162035 Async nova-cell-0:1162035]: finished successfully
WAKEUP
[1115705 Async nova-cell-0:1162035]: Signaled
+ lib/nova:init_nova_db:861                :   local dbname=nova_cell0
+ lib/nova:init_nova_db:862                :   local conffile=/etc/nova/nova.conf
+ lib/nova:init_nova_db:863                :   recreate_database nova_cell0
+ lib/database:recreate_database:112       :   local db=nova_cell0
+ lib/database:recreate_database:113       :   recreate_database_mysql nova_cell0
+ lib/databases/mysql:recreate_database_mysql:60 :   local db=nova_cell0
+ lib/databases/mysql:recreate_database_mysql:61 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS nova_cell0;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:62 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'CREATE DATABASE nova_cell0 CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/nova:init_nova_db:864                :   /opt/stack/data/venv/bin/nova-manage --config-file /etc/nova/nova.conf db sync --local_cell
INFO dbcounter [[00;36m-] [01;35mRegistered counter for database nova_cell0[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mContext impl MySQLImpl.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mWill assume non-transactional DDL.[00m
DEBUG dbcounter [[00;36m-] [01;35m[1162204] Writer thread running[00m [00;33m{{(pid=1162204) stat_writer /opt/stack/data/venv/lib/python3.10/site-packages/dbcounter.py:102}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade  -> 8f2f1571d55b, Initial version[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mnew branch insert 8f2f1571d55b[00m [00;33m{{(pid=1162204) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:826}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 8f2f1571d55b -> 16f1fbcab42b, Resolve shadow table diffs[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 8f2f1571d55b to 16f1fbcab42b[00m [00;33m{{(pid=1162204) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 16f1fbcab42b -> ccb0fa1a2252, Add encryption fields to BlockDeviceMapping[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 16f1fbcab42b to ccb0fa1a2252[00m [00;33m{{(pid=1162204) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade ccb0fa1a2252 -> 960aac0e09ea, de-duplicate_indexes_in_instances__console_auth_tokens[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate ccb0fa1a2252 to 960aac0e09ea[00m [00;33m{{(pid=1162204) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 960aac0e09ea -> 1b91788ec3a6, Drop legacy migrate_version table[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 960aac0e09ea to 1b91788ec3a6[00m [00;33m{{(pid=1162204) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 1b91788ec3a6 -> 1acf2c98e646, Add compute_id to instance[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 1b91788ec3a6 to 1acf2c98e646[00m [00;33m{{(pid=1162204) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 1acf2c98e646 -> 13863f4e1612, create_share_mapping_table[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 1acf2c98e646 to 13863f4e1612[00m [00;33m{{(pid=1162204) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 13863f4e1612 -> d60bddf7a903, add_constraint_instance_share_avoid_duplicates[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 13863f4e1612 to d60bddf7a903[00m [00;33m{{(pid=1162204) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade d60bddf7a903 -> 2903cd72dc14, add_tls_port_to_console_auth_tokens[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate d60bddf7a903 to 2903cd72dc14[00m [00;33m{{(pid=1162204) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
[1115705 Async nova-cell-0:1162035]: finished init_nova_db nova_cell0 /etc/nova/nova.conf with result 0 in 22 seconds
+ inc/async:async_wait:197                 :   return 0
+ lib/nova:init_nova:896                   :   for i in $(seq 0 $NOVA_NUM_CELLS)
+ lib/nova:init_nova:897                   :   async_wait nova-cell-1
[1115705 Async nova-cell-1:1162136]: Waiting for completion of init_nova_db nova_cell1 /etc/nova/nova_cell1.conf running on PID 1162136 (2 other jobs running)
[1115705 Async nova-cell-1:1162136]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
[1162136 Async nova-cell-1:1162136]: finished successfully
WAKEUP
[1115705 Async nova-cell-1:1162136]: Signaled
+ lib/nova:init_nova_db:861                :   local dbname=nova_cell1
+ lib/nova:init_nova_db:862                :   local conffile=/etc/nova/nova_cell1.conf
+ lib/nova:init_nova_db:863                :   recreate_database nova_cell1
+ lib/database:recreate_database:112       :   local db=nova_cell1
+ lib/database:recreate_database:113       :   recreate_database_mysql nova_cell1
+ lib/databases/mysql:recreate_database_mysql:60 :   local db=nova_cell1
+ lib/databases/mysql:recreate_database_mysql:61 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS nova_cell1;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:62 :   mysql -uroot -pHitachino1 -h127.0.0.1 -e 'CREATE DATABASE nova_cell1 CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/nova:init_nova_db:864                :   /opt/stack/data/venv/bin/nova-manage --config-file /etc/nova/nova_cell1.conf db sync --local_cell
INFO dbcounter [[00;36m-] [01;35mRegistered counter for database nova_cell1[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mContext impl MySQLImpl.[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mWill assume non-transactional DDL.[00m
DEBUG dbcounter [[00;36m-] [01;35m[1162214] Writer thread running[00m [00;33m{{(pid=1162214) stat_writer /opt/stack/data/venv/lib/python3.10/site-packages/dbcounter.py:102}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade  -> 8f2f1571d55b, Initial version[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mnew branch insert 8f2f1571d55b[00m [00;33m{{(pid=1162214) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:826}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 8f2f1571d55b -> 16f1fbcab42b, Resolve shadow table diffs[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 8f2f1571d55b to 16f1fbcab42b[00m [00;33m{{(pid=1162214) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 16f1fbcab42b -> ccb0fa1a2252, Add encryption fields to BlockDeviceMapping[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 16f1fbcab42b to ccb0fa1a2252[00m [00;33m{{(pid=1162214) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade ccb0fa1a2252 -> 960aac0e09ea, de-duplicate_indexes_in_instances__console_auth_tokens[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate ccb0fa1a2252 to 960aac0e09ea[00m [00;33m{{(pid=1162214) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 960aac0e09ea -> 1b91788ec3a6, Drop legacy migrate_version table[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 960aac0e09ea to 1b91788ec3a6[00m [00;33m{{(pid=1162214) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 1b91788ec3a6 -> 1acf2c98e646, Add compute_id to instance[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 1b91788ec3a6 to 1acf2c98e646[00m [00;33m{{(pid=1162214) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 1acf2c98e646 -> 13863f4e1612, create_share_mapping_table[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 1acf2c98e646 to 13863f4e1612[00m [00;33m{{(pid=1162214) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade 13863f4e1612 -> d60bddf7a903, add_constraint_instance_share_avoid_duplicates[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate 13863f4e1612 to d60bddf7a903[00m [00;33m{{(pid=1162214) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
INFO alembic.runtime.migration [[00;36m-] [01;35mRunning upgrade d60bddf7a903 -> 2903cd72dc14, add_tls_port_to_console_auth_tokens[00m
DEBUG alembic.runtime.migration [[00;36m-] [01;35mupdate d60bddf7a903 to 2903cd72dc14[00m [00;33m{{(pid=1162214) update_to_step /opt/stack/data/venv/lib/python3.10/site-packages/alembic/runtime/migration.py:861}}[00m
[1115705 Async nova-cell-1:1162136]: finished init_nova_db nova_cell1 /etc/nova/nova_cell1.conf with result 0 in 22 seconds
+ inc/async:async_wait:197                 :   return 0
+ lib/nova:init_nova:900                   :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:init_nova:907                   :   /opt/stack/data/venv/bin/nova-manage --config-file /etc/nova/nova.conf db online_data_migrations
Running batches of 50 until complete
INFO dbcounter [[01;36mNone req-e80fe5d8-09f5-4bef-ba51-bd9ccdbdd17b [00;36mNone None] [01;35mRegistered counter for database nova_cell0[00m
DEBUG dbcounter [[00;36m-] [01;35m[1163464] Writer thread running[00m [00;33m{{(pid=1163464) stat_writer /opt/stack/data/venv/lib/python3.10/site-packages/dbcounter.py:102}}[00m
INFO dbcounter [[01;36mNone req-e80fe5d8-09f5-4bef-ba51-bd9ccdbdd17b [00;36mNone None] [01;35mRegistered counter for database nova_api[00m
DEBUG dbcounter [[00;36m-] [01;35m[1163464] Writer thread running[00m [00;33m{{(pid=1163464) stat_writer /opt/stack/data/venv/lib/python3.10/site-packages/dbcounter.py:102}}[00m
INFO dbcounter [[01;36mNone req-e80fe5d8-09f5-4bef-ba51-bd9ccdbdd17b [00;36mNone None] [01;35mRegistered counter for database nova_cell0[00m
DEBUG dbcounter [[00;36m-] [01;35m[1163464] Writer thread running[00m [00;33m{{(pid=1163464) stat_writer /opt/stack/data/venv/lib/python3.10/site-packages/dbcounter.py:102}}[00m
+-------------------------------------+--------------+-----------+
|              Migration              | Total Needed | Completed |
+-------------------------------------+--------------+-----------+
|     fill_virtual_interface_list     |      0       |     0     |
|         migrate_empty_ratio         |      0       |     0     |
|   migrate_quota_classes_to_api_db   |      0       |     0     |
|    migrate_quota_limits_to_api_db   |      0       |     0     |
|      migration_migrate_to_uuid      |      0       |     0     |
|          populate_dev_uuids         |      0       |     0     |
|     populate_instance_compute_id    |      0       |     0     |
| populate_missing_availability_zones |      0       |     0     |
|      populate_queued_for_delete     |      0       |     0     |
|           populate_user_id          |      0       |     0     |
|            populate_uuids           |      0       |     0     |
+-------------------------------------+--------------+-----------+
++ lib/nova:init_nova:910                   :   seq 1 1
+ lib/nova:init_nova:910                   :   for i in $(seq 1 $NOVA_NUM_CELLS)
++ lib/nova:init_nova:911                   :   conductor_conf 1
++ lib/nova:conductor_conf:850              :   local cell=1
++ lib/nova:conductor_conf:851              :   echo /etc/nova/nova_cell1.conf
+ lib/nova:init_nova:911                   :   /opt/stack/data/venv/bin/nova-manage --config-file /etc/nova/nova.conf --config-file /etc/nova/nova_cell1.conf cell_v2 create_cell --name cell1
--transport-url not provided in the command line, using the value [DEFAULT]/transport_url from the configuration file
--database_connection not provided in the command line, using the value [database]/connection from the configuration file
INFO dbcounter [[01;36mNone req-e20b9fbf-4e89-43d4-ac94-60cd1d0d70bc [00;36mNone None] [01;35mRegistered counter for database nova_api[00m
DEBUG dbcounter [[00;36m-] [01;35m[1163482] Writer thread running[00m [00;33m{{(pid=1163482) stat_writer /opt/stack/data/venv/lib/python3.10/site-packages/dbcounter.py:102}}[00m
+ lib/nova:init_nova:915                   :   create_nova_keys_dir
+ lib/nova:create_nova_keys_dir:857        :   sudo install -d -o stack /opt/stack/data/nova /opt/stack/data/nova/keys
+ lib/nova:init_nova:917                   :   [[ '' == \L\V\M ]]
+ ./stack.sh:main:1257                     :   async_runfunc configure_neutron_nova
+ inc/async:async_runfunc:116              :   async_run configure_neutron_nova configure_neutron_nova
+ inc/async:async_inner:63                 :   configure_neutron_nova
[1115705 Async configure_neutron_nova:1163547]: running: configure_neutron_nova
+ ./stack.sh:main:1265                     :   run_phase stack post-config
+ functions-common:run_phase:1849          :   local mode=stack
+ functions-common:run_phase:1850          :   local phase=post-config
+ functions-common:run_phase:1851          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1852          :   local extra_plugin_file_name
+ functions-common:run_phase:1853          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1858          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1859          :   local extra
++ functions-common:run_phase:1860          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1860          :   extra=80-tempest.sh
+ functions-common:run_phase:1861          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1865          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1865          :   source /opt/stack/devstack/extras.d/80-tempest.sh stack post-config
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2077 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ stack == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:7          :   [[ post-config == \i\n\s\t\a\l\l ]]
++ extras.d/80-tempest.sh:source:10         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ post-config == \p\o\s\t\-\c\o\n\f\i\g ]]
++ extras.d/80-tempest.sh:source:12         :   :
++ extras.d/80-tempest.sh:source:27         :   [[ stack == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ stack == \c\l\e\a\n ]]
+ functions-common:run_phase:1870          :   [[ stack == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1873          :   [[ stack == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1876          :   run_plugins stack post-config
+ functions-common:run_plugins:1835        :   local mode=stack
+ functions-common:run_plugins:1836        :   local phase=post-config
+ functions-common:run_plugins:1838        :   local plugins=
+ functions-common:run_plugins:1839        :   local plugin
+ ./stack.sh:main:1273                     :   merge_config_group /opt/stack/devstack/local.conf post-config
+ inc/meta-config:merge_config_group:172   :   local localfile=/opt/stack/devstack/local.conf
+ inc/meta-config:merge_config_group:172   :   shift
+ inc/meta-config:merge_config_group:173   :   local matchgroups=post-config
+ inc/meta-config:merge_config_group:175   :   [[ -r /opt/stack/devstack/local.conf ]]
+ inc/meta-config:merge_config_group:177   :   local configfile group
+ inc/meta-config:merge_config_group:178   :   for group in $matchgroups
++ inc/meta-config:merge_config_group:179   :   get_meta_section_files /opt/stack/devstack/local.conf post-config
++ inc/meta-config:get_meta_section_files:63 :   local file=/opt/stack/devstack/local.conf
++ inc/meta-config:get_meta_section_files:64 :   local matchgroup=post-config
++ inc/meta-config:get_meta_section_files:66 :   [[ -r /opt/stack/devstack/local.conf ]]
++ inc/meta-config:get_meta_section_files:68 :   awk -v matchgroup=post-config '
        /^\[\[.+\|.*\]\]/ {
            gsub("[][]", "", $1);
            split($1, a, "|");
            if (a[1] == matchgroup)
                print a[2]
        }
    ' /opt/stack/devstack/local.conf
+ inc/meta-config:merge_config_group:179   :   for configfile in $(get_meta_section_files $localfile $group)
+ inc/meta-config:merge_config_group:180   :   local realconfigfile
+ inc/meta-config:merge_config_group:181   :   local dir
++ inc/meta-config:merge_config_group:183   :   eval 'echo $GLANCE_API_CONF'
+++ inc/meta-config:merge_config_group:183   :   echo /etc/glance/glance-api.conf
+ inc/meta-config:merge_config_group:183   :   realconfigfile=/etc/glance/glance-api.conf
+ inc/meta-config:merge_config_group:184   :   [[ -z /etc/glance/glance-api.conf ]]
++ inc/meta-config:merge_config_group:188   :   dirname /etc/glance/glance-api.conf
+ inc/meta-config:merge_config_group:188   :   dir=/etc/glance
+ inc/meta-config:merge_config_group:189   :   [[ -d /etc/glance ]]
+ inc/meta-config:merge_config_group:190   :   merge_config_file /opt/stack/devstack/local.conf post-config '$GLANCE_API_CONF'
+ inc/meta-config:merge_config_file:83     :   local file=/opt/stack/devstack/local.conf
+ inc/meta-config:merge_config_file:84     :   local matchgroup=post-config
+ inc/meta-config:merge_config_file:85     :   local 'configfile=$GLANCE_API_CONF'
+ inc/meta-config:merge_config_file:90     :   local real_configfile
++ inc/meta-config:merge_config_file:91     :   eval echo '$GLANCE_API_CONF'
+++ inc/meta-config:merge_config_file:91     :   echo /etc/glance/glance-api.conf
+ inc/meta-config:merge_config_file:91     :   real_configfile=/etc/glance/glance-api.conf
+ inc/meta-config:merge_config_file:92     :   '[' '!' -f /etc/glance/glance-api.conf ']'
+ inc/meta-config:merge_config_file:97     :   get_meta_section /opt/stack/devstack/local.conf post-config '$GLANCE_API_CONF'
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:98     :   awk -v 'configfile=$GLANCE_API_CONF' '
        BEGIN {
            section = ""
            last_section = ""
            section_count = 0
        }
        /^\[.+\]/ {
            gsub("[][]", "", $1);
            section=$1
            next
        }
        /^ *\#/ {
            next
        }
        /^[^ \t]+/ {
            # get offset of first = in $0
            eq_idx = index($0, "=")
            # extract attr & value from $0
            attr = substr($0, 1, eq_idx - 1)
            value = substr($0, eq_idx + 1)
            # only need to strip trailing whitespace from attr
            sub(/[ \t]*$/, "", attr)
            # need to strip leading & trailing whitespace from value
            sub(/^[ \t]*/, "", value)
            sub(/[ \t]*$/, "", value)

            # cfg_attr_count: number of config lines per [section, attr]
            # cfg_attr: three dimensional array to keep all the config lines per [section, attr]
            # cfg_section: keep the section names in the same order as they appear in local.conf
            # cfg_sec_attr_name: keep the attr names in the same order as they appear in local.conf
            if (! (section, attr) in cfg_attr_count) {
                if (section != last_section) {
                    cfg_section[section_count++] = section
                    last_section = section
                }
                attr_count = cfg_sec_attr_count[section_count - 1]++
                cfg_sec_attr_name[section_count - 1, attr_count] = attr

                cfg_attr[section, attr, 0] = value
                cfg_attr_count[section, attr] = 1
            } else {
                lno = cfg_attr_count[section, attr]++
                cfg_attr[section, attr, lno] = value
            }
        }
        END {
            # Process each section in order
            for (sno = 0; sno < section_count; sno++) {
                section = cfg_section[sno]
                # The ini routines simply append a config item immediately
                # after the section header. To keep the same order as defined
                # in local.conf, invoke the ini routines in the reverse order
                for (attr_no = cfg_sec_attr_count[sno] - 1; attr_no >=0; attr_no--) {
                    attr = cfg_sec_attr_name[sno, attr_no]
                    if (cfg_attr_count[section, attr] == 1)
                        print "iniset " configfile " " section " " attr " \"" cfg_attr[section, attr, 0] "\""
                    else {
                        # For multiline, invoke the ini routines in the reverse order
                        count = cfg_attr_count[section, attr]
                        print "inidelete " configfile " " section " " attr
                        print "iniset " configfile " " section " " attr " \"" cfg_attr[section, attr, count - 1] "\""
                        for (l = count -2; l >= 0; l--)
                            print "iniadd_literal " configfile " " section " " attr " \"" cfg_attr[section, attr, l] "\""
                    }
                }
            }
        }
    '
+ inc/meta-config:get_meta_section:33      :   local file=/opt/stack/devstack/local.conf
awk: cmd. line:12: warning: regexp escape sequence `\#' is not a known regexp operator
+ inc/meta-config:get_meta_section:34      :   local matchgroup=post-config
+ inc/meta-config:get_meta_section:35      :   local 'configfile=$GLANCE_API_CONF'
+ inc/meta-config:get_meta_section:37      :   [[ -r /opt/stack/devstack/local.conf ]]
+ inc/meta-config:get_meta_section:38      :   [[ -z $GLANCE_API_CONF ]]
+ inc/meta-config:get_meta_section:40      :   awk -v matchgroup=post-config -v 'configfile=$GLANCE_API_CONF' '
        BEGIN { group = "" }
        /^\[\[.+\|.*\]\]/ {
            gsub("[][]", "", $1);
            split($1, a, "|");
            if (a[1] == matchgroup && a[2] == configfile) {
                group=a[1]
            } else {
                group=""
            }
            next
        }
        {
            if (group != "")
                print $0
        }
    ' /opt/stack/devstack/local.conf
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $GLANCE_API_CONF DEFAULT debug "True"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/glance/glance-api.conf DEFAULT debug True
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $GLANCE_API_CONF DEFAULT logging_default_format_string "%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/glance/glance-api.conf DEFAULT logging_default_format_string '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s'
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $GLANCE_API_CONF DEFAULT logging_context_format_string "%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/glance/glance-api.conf DEFAULT logging_context_format_string '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s'
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $GLANCE_API_CONF DEFAULT log_dir "/var/log/glance"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/glance/glance-api.conf DEFAULT log_dir /var/log/glance
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $GLANCE_API_CONF glance_store swift_store_expire_soon_interval "600"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/glance/glance-api.conf glance_store swift_store_expire_soon_interval 600
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_group:179   :   for configfile in $(get_meta_section_files $localfile $group)
+ inc/meta-config:merge_config_group:180   :   local realconfigfile
+ inc/meta-config:merge_config_group:181   :   local dir
++ inc/meta-config:merge_config_group:183   :   eval 'echo $NEUTRON_CONF'
+++ inc/meta-config:merge_config_group:183   :   echo /etc/neutron/neutron.conf
+ inc/meta-config:merge_config_group:183   :   realconfigfile=/etc/neutron/neutron.conf
+ inc/meta-config:merge_config_group:184   :   [[ -z /etc/neutron/neutron.conf ]]
++ inc/meta-config:merge_config_group:188   :   dirname /etc/neutron/neutron.conf
+ inc/meta-config:merge_config_group:188   :   dir=/etc/neutron
+ inc/meta-config:merge_config_group:189   :   [[ -d /etc/neutron ]]
+ inc/meta-config:merge_config_group:190   :   merge_config_file /opt/stack/devstack/local.conf post-config '$NEUTRON_CONF'
+ inc/meta-config:merge_config_file:83     :   local file=/opt/stack/devstack/local.conf
+ inc/meta-config:merge_config_file:84     :   local matchgroup=post-config
+ inc/meta-config:merge_config_file:85     :   local 'configfile=$NEUTRON_CONF'
+ inc/meta-config:merge_config_file:90     :   local real_configfile
++ inc/meta-config:merge_config_file:91     :   eval echo '$NEUTRON_CONF'
+++ inc/meta-config:merge_config_file:91     :   echo /etc/neutron/neutron.conf
+ inc/meta-config:merge_config_file:91     :   real_configfile=/etc/neutron/neutron.conf
+ inc/meta-config:merge_config_file:92     :   '[' '!' -f /etc/neutron/neutron.conf ']'
+ inc/meta-config:merge_config_file:97     :   get_meta_section /opt/stack/devstack/local.conf post-config '$NEUTRON_CONF'
+ inc/meta-config:merge_config_file:98     :   awk -v 'configfile=$NEUTRON_CONF' '
        BEGIN {
            section = ""
            last_section = ""
            section_count = 0
        }
        /^\[.+\]/ {
            gsub("[][]", "", $1);
            section=$1
            next
        }
        /^ *\#/ {
            next
        }
        /^[^ \t]+/ {
            # get offset of first = in $0
            eq_idx = index($0, "=")
            # extract attr & value from $0
            attr = substr($0, 1, eq_idx - 1)
            value = substr($0, eq_idx + 1)
            # only need to strip trailing whitespace from attr
            sub(/[ \t]*$/, "", attr)
            # need to strip leading & trailing whitespace from value
            sub(/^[ \t]*/, "", value)
            sub(/[ \t]*$/, "", value)

            # cfg_attr_count: number of config lines per [section, attr]
            # cfg_attr: three dimensional array to keep all the config lines per [section, attr]
            # cfg_section: keep the section names in the same order as they appear in local.conf
            # cfg_sec_attr_name: keep the attr names in the same order as they appear in local.conf
            if (! (section, attr) in cfg_attr_count) {
                if (section != last_section) {
                    cfg_section[section_count++] = section
                    last_section = section
                }
                attr_count = cfg_sec_attr_count[section_count - 1]++
                cfg_sec_attr_name[section_count - 1, attr_count] = attr

                cfg_attr[section, attr, 0] = value
                cfg_attr_count[section, attr] = 1
            } else {
                lno = cfg_attr_count[section, attr]++
                cfg_attr[section, attr, lno] = value
            }
        }
        END {
            # Process each section in order
            for (sno = 0; sno < section_count; sno++) {
                section = cfg_section[sno]
                # The ini routines simply append a config item immediately
                # after the section header. To keep the same order as defined
                # in local.conf, invoke the ini routines in the reverse order
                for (attr_no = cfg_sec_attr_count[sno] - 1; attr_no >=0; attr_no--) {
                    attr = cfg_sec_attr_name[sno, attr_no]
                    if (cfg_attr_count[section, attr] == 1)
                        print "iniset " configfile " " section " " attr " \"" cfg_attr[section, attr, 0] "\""
                    else {
                        # For multiline, invoke the ini routines in the reverse order
                        count = cfg_attr_count[section, attr]
                        print "inidelete " configfile " " section " " attr
                        print "iniset " configfile " " section " " attr " \"" cfg_attr[section, attr, count - 1] "\""
                        for (l = count -2; l >= 0; l--)
                            print "iniadd_literal " configfile " " section " " attr " \"" cfg_attr[section, attr, l] "\""
                    }
                }
            }
        }
    '
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:get_meta_section:33      :   local file=/opt/stack/devstack/local.conf
awk: cmd. line:12: warning: regexp escape sequence `\#' is not a known regexp operator
+ inc/meta-config:get_meta_section:34      :   local matchgroup=post-config
+ inc/meta-config:get_meta_section:35      :   local 'configfile=$NEUTRON_CONF'
+ inc/meta-config:get_meta_section:37      :   [[ -r /opt/stack/devstack/local.conf ]]
+ inc/meta-config:get_meta_section:38      :   [[ -z $NEUTRON_CONF ]]
+ inc/meta-config:get_meta_section:40      :   awk -v matchgroup=post-config -v 'configfile=$NEUTRON_CONF' '
        BEGIN { group = "" }
        /^\[\[.+\|.*\]\]/ {
            gsub("[][]", "", $1);
            split($1, a, "|");
            if (a[1] == matchgroup && a[2] == configfile) {
                group=a[1]
            } else {
                group=""
            }
            next
        }
        {
            if (group != "")
                print $0
        }
    ' /opt/stack/devstack/local.conf
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NEUTRON_CONF DEFAULT debug "True"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/neutron/neutron.conf DEFAULT debug True
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NEUTRON_CONF DEFAULT logging_default_format_string "%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/neutron/neutron.conf DEFAULT logging_default_format_string '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s'
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NEUTRON_CONF DEFAULT logging_context_format_string "%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/neutron/neutron.conf DEFAULT logging_context_format_string '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s'
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NEUTRON_CONF DEFAULT log_dir "/var/log/neutron"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/neutron/neutron.conf DEFAULT log_dir /var/log/neutron
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_group:179   :   for configfile in $(get_meta_section_files $localfile $group)
+ inc/meta-config:merge_config_group:180   :   local realconfigfile
+ inc/meta-config:merge_config_group:181   :   local dir
++ inc/meta-config:merge_config_group:183   :   eval 'echo $NOVA_CONF'
+++ inc/meta-config:merge_config_group:183   :   echo /etc/nova/nova.conf
+ inc/meta-config:merge_config_group:183   :   realconfigfile=/etc/nova/nova.conf
+ inc/meta-config:merge_config_group:184   :   [[ -z /etc/nova/nova.conf ]]
++ inc/meta-config:merge_config_group:188   :   dirname /etc/nova/nova.conf
+ inc/meta-config:merge_config_group:188   :   dir=/etc/nova
+ inc/meta-config:merge_config_group:189   :   [[ -d /etc/nova ]]
+ inc/meta-config:merge_config_group:190   :   merge_config_file /opt/stack/devstack/local.conf post-config '$NOVA_CONF'
+ inc/meta-config:merge_config_file:83     :   local file=/opt/stack/devstack/local.conf
+ inc/meta-config:merge_config_file:84     :   local matchgroup=post-config
+ inc/meta-config:merge_config_file:85     :   local 'configfile=$NOVA_CONF'
+ inc/meta-config:merge_config_file:90     :   local real_configfile
++ inc/meta-config:merge_config_file:91     :   eval echo '$NOVA_CONF'
+++ inc/meta-config:merge_config_file:91     :   echo /etc/nova/nova.conf
+ inc/meta-config:merge_config_file:91     :   real_configfile=/etc/nova/nova.conf
+ inc/meta-config:merge_config_file:92     :   '[' '!' -f /etc/nova/nova.conf ']'
+ inc/meta-config:merge_config_file:97     :   get_meta_section /opt/stack/devstack/local.conf post-config '$NOVA_CONF'
+ inc/meta-config:merge_config_file:98     :   awk -v 'configfile=$NOVA_CONF' '
        BEGIN {
            section = ""
            last_section = ""
            section_count = 0
        }
        /^\[.+\]/ {
            gsub("[][]", "", $1);
            section=$1
            next
        }
        /^ *\#/ {
            next
        }
        /^[^ \t]+/ {
            # get offset of first = in $0
            eq_idx = index($0, "=")
            # extract attr & value from $0
            attr = substr($0, 1, eq_idx - 1)
            value = substr($0, eq_idx + 1)
            # only need to strip trailing whitespace from attr
            sub(/[ \t]*$/, "", attr)
            # need to strip leading & trailing whitespace from value
            sub(/^[ \t]*/, "", value)
            sub(/[ \t]*$/, "", value)

            # cfg_attr_count: number of config lines per [section, attr]
            # cfg_attr: three dimensional array to keep all the config lines per [section, attr]
            # cfg_section: keep the section names in the same order as they appear in local.conf
            # cfg_sec_attr_name: keep the attr names in the same order as they appear in local.conf
            if (! (section, attr) in cfg_attr_count) {
                if (section != last_section) {
                    cfg_section[section_count++] = section
                    last_section = section
                }
                attr_count = cfg_sec_attr_count[section_count - 1]++
                cfg_sec_attr_name[section_count - 1, attr_count] = attr

                cfg_attr[section, attr, 0] = value
                cfg_attr_count[section, attr] = 1
            } else {
                lno = cfg_attr_count[section, attr]++
                cfg_attr[section, attr, lno] = value
            }
        }
        END {
            # Process each section in order
            for (sno = 0; sno < section_count; sno++) {
                section = cfg_section[sno]
                # The ini routines simply append a config item immediately
                # after the section header. To keep the same order as defined
                # in local.conf, invoke the ini routines in the reverse order
                for (attr_no = cfg_sec_attr_count[sno] - 1; attr_no >=0; attr_no--) {
                    attr = cfg_sec_attr_name[sno, attr_no]
                    if (cfg_attr_count[section, attr] == 1)
                        print "iniset " configfile " " section " " attr " \"" cfg_attr[section, attr, 0] "\""
                    else {
                        # For multiline, invoke the ini routines in the reverse order
                        count = cfg_attr_count[section, attr]
                        print "inidelete " configfile " " section " " attr
                        print "iniset " configfile " " section " " attr " \"" cfg_attr[section, attr, count - 1] "\""
                        for (l = count -2; l >= 0; l--)
                            print "iniadd_literal " configfile " " section " " attr " \"" cfg_attr[section, attr, l] "\""
                    }
                }
            }
        }
    '
+ inc/meta-config:merge_config_file:165    :   read a
awk: cmd. line:12: warning: regexp escape sequence `\#' is not a known regexp operator
+ inc/meta-config:get_meta_section:33      :   local file=/opt/stack/devstack/local.conf
+ inc/meta-config:get_meta_section:34      :   local matchgroup=post-config
+ inc/meta-config:get_meta_section:35      :   local 'configfile=$NOVA_CONF'
+ inc/meta-config:get_meta_section:37      :   [[ -r /opt/stack/devstack/local.conf ]]
+ inc/meta-config:get_meta_section:38      :   [[ -z $NOVA_CONF ]]
+ inc/meta-config:get_meta_section:40      :   awk -v matchgroup=post-config -v 'configfile=$NOVA_CONF' '
        BEGIN { group = "" }
        /^\[\[.+\|.*\]\]/ {
            gsub("[][]", "", $1);
            split($1, a, "|");
            if (a[1] == matchgroup && a[2] == configfile) {
                group=a[1]
            } else {
                group=""
            }
            next
        }
        {
            if (group != "")
                print $0
        }
    ' /opt/stack/devstack/local.conf
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NOVA_CONF DEFAULT disk_allocation_ratio "100"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/nova/nova.conf DEFAULT disk_allocation_ratio 100
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NOVA_CONF DEFAULT ram_allocation_ratio "100"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/nova/nova.conf DEFAULT ram_allocation_ratio 100
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NOVA_CONF DEFAULT cpu_allocation_ratio "100"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/nova/nova.conf DEFAULT cpu_allocation_ratio 100
+ inc/async:async_inner:64                 :   rc=0
[1163547 Async configure_neutron_nova:1163547]: finished successfully
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NOVA_CONF DEFAULT debug "True"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/nova/nova.conf DEFAULT debug True
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NOVA_CONF DEFAULT logging_default_format_string "%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/nova/nova.conf DEFAULT logging_default_format_string '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s'
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NOVA_CONF DEFAULT logging_context_format_string "%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/nova/nova.conf DEFAULT logging_context_format_string '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s'
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NOVA_CONF DEFAULT log_dir "/var/log/nova"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/nova/nova.conf DEFAULT log_dir /var/log/nova
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NOVA_CONF DEFAULT rpc_response_timeout "3600"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/nova/nova.conf DEFAULT rpc_response_timeout 3600
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NOVA_CONF DEFAULT block_device_allocate_retries_interval "20"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/nova/nova.conf DEFAULT block_device_allocate_retries_interval 20
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NOVA_CONF DEFAULT block_device_allocate_retries "240"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/nova/nova.conf DEFAULT block_device_allocate_retries 240
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NOVA_CONF libvirt volume_use_multipath "False"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/nova/nova.conf libvirt volume_use_multipath False
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $NOVA_CONF libvirt num_volume_scan_tries "100"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/nova/nova.conf libvirt num_volume_scan_tries 100
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_group:179   :   for configfile in $(get_meta_section_files $localfile $group)
+ inc/meta-config:merge_config_group:180   :   local realconfigfile
+ inc/meta-config:merge_config_group:181   :   local dir
++ inc/meta-config:merge_config_group:183   :   eval 'echo $CINDER_CONF'
+++ inc/meta-config:merge_config_group:183   :   echo /etc/cinder/cinder.conf
+ inc/meta-config:merge_config_group:183   :   realconfigfile=/etc/cinder/cinder.conf
+ inc/meta-config:merge_config_group:184   :   [[ -z /etc/cinder/cinder.conf ]]
++ inc/meta-config:merge_config_group:188   :   dirname /etc/cinder/cinder.conf
+ inc/meta-config:merge_config_group:188   :   dir=/etc/cinder
+ inc/meta-config:merge_config_group:189   :   [[ -d /etc/cinder ]]
+ inc/meta-config:merge_config_group:190   :   merge_config_file /opt/stack/devstack/local.conf post-config '$CINDER_CONF'
+ inc/meta-config:merge_config_file:83     :   local file=/opt/stack/devstack/local.conf
+ inc/meta-config:merge_config_file:84     :   local matchgroup=post-config
+ inc/meta-config:merge_config_file:85     :   local 'configfile=$CINDER_CONF'
+ inc/meta-config:merge_config_file:90     :   local real_configfile
++ inc/meta-config:merge_config_file:91     :   eval echo '$CINDER_CONF'
+++ inc/meta-config:merge_config_file:91     :   echo /etc/cinder/cinder.conf
+ inc/meta-config:merge_config_file:91     :   real_configfile=/etc/cinder/cinder.conf
+ inc/meta-config:merge_config_file:92     :   '[' '!' -f /etc/cinder/cinder.conf ']'
+ inc/meta-config:merge_config_file:97     :   get_meta_section /opt/stack/devstack/local.conf post-config '$CINDER_CONF'
+ inc/meta-config:merge_config_file:98     :   awk -v 'configfile=$CINDER_CONF' '
        BEGIN {
            section = ""
            last_section = ""
            section_count = 0
        }
        /^\[.+\]/ {
            gsub("[][]", "", $1);
            section=$1
            next
        }
        /^ *\#/ {
            next
        }
        /^[^ \t]+/ {
            # get offset of first = in $0
            eq_idx = index($0, "=")
            # extract attr & value from $0
            attr = substr($0, 1, eq_idx - 1)
            value = substr($0, eq_idx + 1)
            # only need to strip trailing whitespace from attr
            sub(/[ \t]*$/, "", attr)
            # need to strip leading & trailing whitespace from value
            sub(/^[ \t]*/, "", value)
            sub(/[ \t]*$/, "", value)

            # cfg_attr_count: number of config lines per [section, attr]
            # cfg_attr: three dimensional array to keep all the config lines per [section, attr]
            # cfg_section: keep the section names in the same order as they appear in local.conf
            # cfg_sec_attr_name: keep the attr names in the same order as they appear in local.conf
            if (! (section, attr) in cfg_attr_count) {
                if (section != last_section) {
                    cfg_section[section_count++] = section
                    last_section = section
                }
                attr_count = cfg_sec_attr_count[section_count - 1]++
                cfg_sec_attr_name[section_count - 1, attr_count] = attr

                cfg_attr[section, attr, 0] = value
                cfg_attr_count[section, attr] = 1
            } else {
                lno = cfg_attr_count[section, attr]++
                cfg_attr[section, attr, lno] = value
            }
        }
        END {
            # Process each section in order
            for (sno = 0; sno < section_count; sno++) {
                section = cfg_section[sno]
                # The ini routines simply append a config item immediately
                # after the section header. To keep the same order as defined
                # in local.conf, invoke the ini routines in the reverse order
                for (attr_no = cfg_sec_attr_count[sno] - 1; attr_no >=0; attr_no--) {
                    attr = cfg_sec_attr_name[sno, attr_no]
                    if (cfg_attr_count[section, attr] == 1)
                        print "iniset " configfile " " section " " attr " \"" cfg_attr[section, attr, 0] "\""
                    else {
                        # For multiline, invoke the ini routines in the reverse order
                        count = cfg_attr_count[section, attr]
                        print "inidelete " configfile " " section " " attr
                        print "iniset " configfile " " section " " attr " \"" cfg_attr[section, attr, count - 1] "\""
                        for (l = count -2; l >= 0; l--)
                            print "iniadd_literal " configfile " " section " " attr " \"" cfg_attr[section, attr, l] "\""
                    }
                }
            }
        }
    '
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:get_meta_section:33      :   local file=/opt/stack/devstack/local.conf
awk: cmd. line:12: warning: regexp escape sequence `\#' is not a known regexp operator
+ inc/meta-config:get_meta_section:34      :   local matchgroup=post-config
+ inc/meta-config:get_meta_section:35      :   local 'configfile=$CINDER_CONF'
+ inc/meta-config:get_meta_section:37      :   [[ -r /opt/stack/devstack/local.conf ]]
+ inc/meta-config:get_meta_section:38      :   [[ -z $CINDER_CONF ]]
+ inc/meta-config:get_meta_section:40      :   awk -v matchgroup=post-config -v 'configfile=$CINDER_CONF' '
        BEGIN { group = "" }
        /^\[\[.+\|.*\]\]/ {
            gsub("[][]", "", $1);
            split($1, a, "|");
            if (a[1] == matchgroup && a[2] == configfile) {
                group=a[1]
            } else {
                group=""
            }
            next
        }
        {
            if (group != "")
                print $0
        }
    ' /opt/stack/devstack/local.conf
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF DEFAULT periodic_interval "3600"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf DEFAULT periodic_interval 3600
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF DEFAULT num_volume_device_scan_tries "100"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf DEFAULT num_volume_device_scan_tries 100
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF DEFAULT debug "True"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf DEFAULT debug True
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF DEFAULT logging_default_format_string "%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf DEFAULT logging_default_format_string '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s'
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF DEFAULT logging_context_format_string "%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf DEFAULT logging_context_format_string '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s'
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF DEFAULT log_dir "/var/log/cinder"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf DEFAULT log_dir /var/log/cinder
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF DEFAULT enabled_backends "hitachi"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf DEFAULT enabled_backends hitachi
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF DEFAULT default_volume_type "hitachi"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf DEFAULT default_volume_type hitachi
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF DEFAULT rpc_response_timeout "3600"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf DEFAULT rpc_response_timeout 3600
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF COORDINATION backend_url "file:///tmp/cinderlock"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf COORDINATION backend_url file:///tmp/cinderlock
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi hitachi_copy_speed "15"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi hitachi_copy_speed 15
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi hitachi_state_transition_timeout "1800"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi hitachi_state_transition_timeout 1800
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi hitachi_host_mode_options "91,68,88,122,131,7,54,63"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi hitachi_host_mode_options 91,68,88,122,131,7,54,63
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi image_volume_cache_enabled "False"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi image_volume_cache_enabled False
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi hitachi_enable_extend_volume_having_snapshots "True"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi hitachi_enable_extend_volume_having_snapshots True
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi enforce_multipath_for_image_xfer "False"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi enforce_multipath_for_image_xfer False
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi use_multipath_for_image_xfer "False"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi use_multipath_for_image_xfer False
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi max_over_subscription_ratio "2147483647"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi max_over_subscription_ratio 2147483647
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi suppress_requests_ssl_warnings "True"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi suppress_requests_ssl_warnings True
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi san_password "Hitachi1"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi san_password Hitachi1
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi san_login "ucpa"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi san_login ucpa
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi san_api_port "443"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi san_api_port 443
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi san_ip "172.25.47.120"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi san_ip 172.25.47.120
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi hitachi_group_create "True"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi hitachi_group_create True
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi hitachi_target_ports "CL1-C"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi hitachi_target_ports CL1-C
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi hitachi_ldev_range "22000-22299"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi hitachi_ldev_range 22000-22299
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi hitachi_pools "HiStor-DP-Pool"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi hitachi_pools HiStor-DP-Pool
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi hitachi_storage_id "900000030078"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi hitachi_storage_id 900000030078
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi volume_backend_name "hitachi"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi volume_backend_name hitachi
+ inc/meta-config:merge_config_file:165    :   read a
+ inc/meta-config:merge_config_file:165    :   eval 'iniset $CINDER_CONF hitachi volume_driver "cinder.volume.drivers.hitachi.hbsd_iscsi.HBSDISCSIDriver"'
++ inc/meta-config:merge_config_file:165    :   iniset /etc/cinder/cinder.conf hitachi volume_driver cinder.volume.drivers.hitachi.hbsd_iscsi.HBSDISCSIDriver
+ inc/meta-config:merge_config_file:165    :   read a
+ ./stack.sh:main:1282                     :   is_service_enabled swift
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1283                     :   echo_summary 'Starting Swift'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Starting Swift
+ ./stack.sh:main:1284                     :   start_swift
+ lib/swift:start_swift:754                :   restart_service memcached
+ functions-common:restart_service:2305    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2306    :   sudo /bin/systemctl restart memcached
+ lib/swift:start_swift:757                :   is_ubuntu
+ functions-common:is_ubuntu:556           :   [[ -z deb ]]
+ functions-common:is_ubuntu:559           :   '[' deb = deb ']'
+ lib/swift:start_swift:758                :   sudo /etc/init.d/rsync restart
Restarting rsync (via systemctl): rsync.service.
+ lib/swift:start_swift:765                :   '[' False == True ']'
+ lib/swift:start_swift:784                :   [[ 1 == 1 ]]
+ lib/swift:start_swift:785                :   local foreground_services type
+ lib/swift:start_swift:787                :   foreground_services='object container account'
+ lib/swift:start_swift:788                :   for type in ${foreground_services}
+ lib/swift:start_swift:789                :   run_process s-object '/opt/stack/data/venv/bin/swift-object-server /etc/swift/object-server/1.conf -v'
+ functions-common:run_process:1675        :   local service=s-object
+ functions-common:run_process:1676        :   local 'command=/opt/stack/data/venv/bin/swift-object-server /etc/swift/object-server/1.conf -v'
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=s-object
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003584964
+ functions-common:run_process:1684        :   is_service_enabled s-object
+ functions-common:is_service_enabled:2077 :   return 0
+ functions-common:run_process:1685        :   _run_under_systemd s-object '/opt/stack/data/venv/bin/swift-object-server /etc/swift/object-server/1.conf -v' '' '' ''
+ functions-common:_run_under_systemd:1632 :   local service=s-object
+ functions-common:_run_under_systemd:1633 :   local 'command=/opt/stack/data/venv/bin/swift-object-server /etc/swift/object-server/1.conf -v'
+ functions-common:_run_under_systemd:1634 :   local 'cmd=/opt/stack/data/venv/bin/swift-object-server /etc/swift/object-server/1.conf -v'
+ functions-common:_run_under_systemd:1636 :   _common_systemd_pitfalls '/opt/stack/data/venv/bin/swift-object-server /etc/swift/object-server/1.conf -v'
+ functions-common:_common_systemd_pitfalls:1604 :   local 'cmd=/opt/stack/data/venv/bin/swift-object-server /etc/swift/object-server/1.conf -v'
+ functions-common:_common_systemd_pitfalls:1607 :   [[ /opt/stack/data/venv/bin/swift-object-server /etc/swift/object-server/1.conf -v =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1618 :   [[ ! /opt/stack/data/venv/bin/swift-object-server /etc/swift/object-server/1.conf -v =~ ^/ ]]
+ functions-common:_run_under_systemd:1638 :   local systemd_service=devstack@s-object.service
+ functions-common:_run_under_systemd:1639 :   local group=
+ functions-common:_run_under_systemd:1640 :   local user=stack
+ functions-common:_run_under_systemd:1641 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1644 :   local env_vars=
+ functions-common:_run_under_systemd:1645 :   [[ /opt/stack/data/venv/bin/swift-object-server /etc/swift/object-server/1.conf -v =~ uwsgi ]]
+ functions-common:_run_under_systemd:1651 :   write_user_unit_file devstack@s-object.service '/opt/stack/data/venv/bin/swift-object-server /etc/swift/object-server/1.conf -v' '' stack ''
+ functions-common:write_user_unit_file:1539 :   local service=devstack@s-object.service
+ functions-common:write_user_unit_file:1540 :   local 'command=/opt/stack/data/venv/bin/swift-object-server /etc/swift/object-server/1.conf -v'
+ functions-common:write_user_unit_file:1541 :   local group=
+ functions-common:write_user_unit_file:1542 :   local user=stack
+ functions-common:write_user_unit_file:1543 :   local env_vars=
+ functions-common:write_user_unit_file:1544 :   local extra=
+ functions-common:write_user_unit_file:1545 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1548 :   local unitfile=/etc/systemd/system/devstack@s-object.service
+ functions-common:write_user_unit_file:1549 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1551 :   iniset -sudo /etc/systemd/system/devstack@s-object.service Unit Description 'Devstack devstack@s-object.service'
+ functions-common:write_user_unit_file:1552 :   iniset -sudo /etc/systemd/system/devstack@s-object.service Service Environment '"PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin"'
+ functions-common:write_user_unit_file:1553 :   iniset -sudo /etc/systemd/system/devstack@s-object.service Service User stack
+ functions-common:write_user_unit_file:1554 :   iniset -sudo /etc/systemd/system/devstack@s-object.service Service ExecStart '/opt/stack/data/venv/bin/swift-object-server /etc/swift/object-server/1.conf -v'
+ functions-common:write_user_unit_file:1555 :   iniset -sudo /etc/systemd/system/devstack@s-object.service Service KillMode process
+ functions-common:write_user_unit_file:1556 :   iniset -sudo /etc/systemd/system/devstack@s-object.service Service TimeoutStopSec 300
+ functions-common:write_user_unit_file:1557 :   iniset -sudo /etc/systemd/system/devstack@s-object.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ functions-common:write_user_unit_file:1558 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1561 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1564 :   iniset -sudo /etc/systemd/system/devstack@s-object.service Install WantedBy multi-user.target
+ functions-common:write_user_unit_file:1567 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1654 :   sudo systemctl enable devstack@s-object.service
+ functions-common:_run_under_systemd:1655 :   sudo systemctl start devstack@s-object.service
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003584964
+ functions-common:time_stop:2430          :   [[ -z 1760003584964 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003587994
+ functions-common:time_stop:2434          :   elapsed_time=3030
+ functions-common:time_stop:2435          :   total=4053
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=7083
+ lib/swift:start_swift:788                :   for type in ${foreground_services}
+ lib/swift:start_swift:789                :   run_process s-container '/opt/stack/data/venv/bin/swift-container-server /etc/swift/container-server/1.conf -v'
+ functions-common:run_process:1675        :   local service=s-container
+ functions-common:run_process:1676        :   local 'command=/opt/stack/data/venv/bin/swift-container-server /etc/swift/container-server/1.conf -v'
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=s-container
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003588149
+ functions-common:run_process:1684        :   is_service_enabled s-container
+ functions-common:is_service_enabled:2077 :   return 0
+ functions-common:run_process:1685        :   _run_under_systemd s-container '/opt/stack/data/venv/bin/swift-container-server /etc/swift/container-server/1.conf -v' '' '' ''
+ functions-common:_run_under_systemd:1632 :   local service=s-container
+ functions-common:_run_under_systemd:1633 :   local 'command=/opt/stack/data/venv/bin/swift-container-server /etc/swift/container-server/1.conf -v'
+ functions-common:_run_under_systemd:1634 :   local 'cmd=/opt/stack/data/venv/bin/swift-container-server /etc/swift/container-server/1.conf -v'
+ functions-common:_run_under_systemd:1636 :   _common_systemd_pitfalls '/opt/stack/data/venv/bin/swift-container-server /etc/swift/container-server/1.conf -v'
+ functions-common:_common_systemd_pitfalls:1604 :   local 'cmd=/opt/stack/data/venv/bin/swift-container-server /etc/swift/container-server/1.conf -v'
+ functions-common:_common_systemd_pitfalls:1607 :   [[ /opt/stack/data/venv/bin/swift-container-server /etc/swift/container-server/1.conf -v =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1618 :   [[ ! /opt/stack/data/venv/bin/swift-container-server /etc/swift/container-server/1.conf -v =~ ^/ ]]
+ functions-common:_run_under_systemd:1638 :   local systemd_service=devstack@s-container.service
+ functions-common:_run_under_systemd:1639 :   local group=
+ functions-common:_run_under_systemd:1640 :   local user=stack
+ functions-common:_run_under_systemd:1641 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1644 :   local env_vars=
+ functions-common:_run_under_systemd:1645 :   [[ /opt/stack/data/venv/bin/swift-container-server /etc/swift/container-server/1.conf -v =~ uwsgi ]]
+ functions-common:_run_under_systemd:1651 :   write_user_unit_file devstack@s-container.service '/opt/stack/data/venv/bin/swift-container-server /etc/swift/container-server/1.conf -v' '' stack ''
+ functions-common:write_user_unit_file:1539 :   local service=devstack@s-container.service
+ functions-common:write_user_unit_file:1540 :   local 'command=/opt/stack/data/venv/bin/swift-container-server /etc/swift/container-server/1.conf -v'
+ functions-common:write_user_unit_file:1541 :   local group=
+ functions-common:write_user_unit_file:1542 :   local user=stack
+ functions-common:write_user_unit_file:1543 :   local env_vars=
+ functions-common:write_user_unit_file:1544 :   local extra=
+ functions-common:write_user_unit_file:1545 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1548 :   local unitfile=/etc/systemd/system/devstack@s-container.service
+ functions-common:write_user_unit_file:1549 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1551 :   iniset -sudo /etc/systemd/system/devstack@s-container.service Unit Description 'Devstack devstack@s-container.service'
+ functions-common:write_user_unit_file:1552 :   iniset -sudo /etc/systemd/system/devstack@s-container.service Service Environment '"PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin"'
+ functions-common:write_user_unit_file:1553 :   iniset -sudo /etc/systemd/system/devstack@s-container.service Service User stack
+ functions-common:write_user_unit_file:1554 :   iniset -sudo /etc/systemd/system/devstack@s-container.service Service ExecStart '/opt/stack/data/venv/bin/swift-container-server /etc/swift/container-server/1.conf -v'
+ functions-common:write_user_unit_file:1555 :   iniset -sudo /etc/systemd/system/devstack@s-container.service Service KillMode process
+ functions-common:write_user_unit_file:1556 :   iniset -sudo /etc/systemd/system/devstack@s-container.service Service TimeoutStopSec 300
+ functions-common:write_user_unit_file:1557 :   iniset -sudo /etc/systemd/system/devstack@s-container.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ functions-common:write_user_unit_file:1558 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1561 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1564 :   iniset -sudo /etc/systemd/system/devstack@s-container.service Install WantedBy multi-user.target
+ functions-common:write_user_unit_file:1567 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1654 :   sudo systemctl enable devstack@s-container.service
+ functions-common:_run_under_systemd:1655 :   sudo systemctl start devstack@s-container.service
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003588149
+ functions-common:time_stop:2430          :   [[ -z 1760003588149 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003591184
+ functions-common:time_stop:2434          :   elapsed_time=3035
+ functions-common:time_stop:2435          :   total=7083
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=10118
+ lib/swift:start_swift:788                :   for type in ${foreground_services}
+ lib/swift:start_swift:789                :   run_process s-account '/opt/stack/data/venv/bin/swift-account-server /etc/swift/account-server/1.conf -v'
+ functions-common:run_process:1675        :   local service=s-account
+ functions-common:run_process:1676        :   local 'command=/opt/stack/data/venv/bin/swift-account-server /etc/swift/account-server/1.conf -v'
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=s-account
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003591321
+ functions-common:run_process:1684        :   is_service_enabled s-account
+ functions-common:is_service_enabled:2077 :   return 0
+ functions-common:run_process:1685        :   _run_under_systemd s-account '/opt/stack/data/venv/bin/swift-account-server /etc/swift/account-server/1.conf -v' '' '' ''
+ functions-common:_run_under_systemd:1632 :   local service=s-account
+ functions-common:_run_under_systemd:1633 :   local 'command=/opt/stack/data/venv/bin/swift-account-server /etc/swift/account-server/1.conf -v'
+ functions-common:_run_under_systemd:1634 :   local 'cmd=/opt/stack/data/venv/bin/swift-account-server /etc/swift/account-server/1.conf -v'
+ functions-common:_run_under_systemd:1636 :   _common_systemd_pitfalls '/opt/stack/data/venv/bin/swift-account-server /etc/swift/account-server/1.conf -v'
+ functions-common:_common_systemd_pitfalls:1604 :   local 'cmd=/opt/stack/data/venv/bin/swift-account-server /etc/swift/account-server/1.conf -v'
+ functions-common:_common_systemd_pitfalls:1607 :   [[ /opt/stack/data/venv/bin/swift-account-server /etc/swift/account-server/1.conf -v =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1618 :   [[ ! /opt/stack/data/venv/bin/swift-account-server /etc/swift/account-server/1.conf -v =~ ^/ ]]
+ functions-common:_run_under_systemd:1638 :   local systemd_service=devstack@s-account.service
+ functions-common:_run_under_systemd:1639 :   local group=
+ functions-common:_run_under_systemd:1640 :   local user=stack
+ functions-common:_run_under_systemd:1641 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1644 :   local env_vars=
+ functions-common:_run_under_systemd:1645 :   [[ /opt/stack/data/venv/bin/swift-account-server /etc/swift/account-server/1.conf -v =~ uwsgi ]]
+ functions-common:_run_under_systemd:1651 :   write_user_unit_file devstack@s-account.service '/opt/stack/data/venv/bin/swift-account-server /etc/swift/account-server/1.conf -v' '' stack ''
+ functions-common:write_user_unit_file:1539 :   local service=devstack@s-account.service
+ functions-common:write_user_unit_file:1540 :   local 'command=/opt/stack/data/venv/bin/swift-account-server /etc/swift/account-server/1.conf -v'
+ functions-common:write_user_unit_file:1541 :   local group=
+ functions-common:write_user_unit_file:1542 :   local user=stack
+ functions-common:write_user_unit_file:1543 :   local env_vars=
+ functions-common:write_user_unit_file:1544 :   local extra=
+ functions-common:write_user_unit_file:1545 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1548 :   local unitfile=/etc/systemd/system/devstack@s-account.service
+ functions-common:write_user_unit_file:1549 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1551 :   iniset -sudo /etc/systemd/system/devstack@s-account.service Unit Description 'Devstack devstack@s-account.service'
+ functions-common:write_user_unit_file:1552 :   iniset -sudo /etc/systemd/system/devstack@s-account.service Service Environment '"PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin"'
+ functions-common:write_user_unit_file:1553 :   iniset -sudo /etc/systemd/system/devstack@s-account.service Service User stack
+ functions-common:write_user_unit_file:1554 :   iniset -sudo /etc/systemd/system/devstack@s-account.service Service ExecStart '/opt/stack/data/venv/bin/swift-account-server /etc/swift/account-server/1.conf -v'
+ functions-common:write_user_unit_file:1555 :   iniset -sudo /etc/systemd/system/devstack@s-account.service Service KillMode process
+ functions-common:write_user_unit_file:1556 :   iniset -sudo /etc/systemd/system/devstack@s-account.service Service TimeoutStopSec 300
+ functions-common:write_user_unit_file:1557 :   iniset -sudo /etc/systemd/system/devstack@s-account.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ functions-common:write_user_unit_file:1558 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1561 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1564 :   iniset -sudo /etc/systemd/system/devstack@s-account.service Install WantedBy multi-user.target
+ functions-common:write_user_unit_file:1567 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1654 :   sudo systemctl enable devstack@s-account.service
+ functions-common:_run_under_systemd:1655 :   sudo systemctl start devstack@s-account.service
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003591321
+ functions-common:time_stop:2430          :   [[ -z 1760003591321 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003594424
+ functions-common:time_stop:2434          :   elapsed_time=3103
+ functions-common:time_stop:2435          :   total=10118
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=13221
+ lib/swift:start_swift:792                :   [[ False == \T\r\u\e ]]
+ lib/swift:start_swift:797                :   enable_service s-container-sync
+ lib/swift:start_swift:798                :   run_process s-container-sync '/opt/stack/data/venv/bin/swift-container-sync /etc/swift/container-server/1.conf'
+ functions-common:run_process:1675        :   local service=s-container-sync
+ functions-common:run_process:1676        :   local 'command=/opt/stack/data/venv/bin/swift-container-sync /etc/swift/container-server/1.conf'
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=s-container-sync
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003594702
+ functions-common:run_process:1684        :   is_service_enabled s-container-sync
+ functions-common:is_service_enabled:2077 :   return 0
+ functions-common:run_process:1685        :   _run_under_systemd s-container-sync '/opt/stack/data/venv/bin/swift-container-sync /etc/swift/container-server/1.conf' '' '' ''
+ functions-common:_run_under_systemd:1632 :   local service=s-container-sync
+ functions-common:_run_under_systemd:1633 :   local 'command=/opt/stack/data/venv/bin/swift-container-sync /etc/swift/container-server/1.conf'
+ functions-common:_run_under_systemd:1634 :   local 'cmd=/opt/stack/data/venv/bin/swift-container-sync /etc/swift/container-server/1.conf'
+ functions-common:_run_under_systemd:1636 :   _common_systemd_pitfalls '/opt/stack/data/venv/bin/swift-container-sync /etc/swift/container-server/1.conf'
+ functions-common:_common_systemd_pitfalls:1604 :   local 'cmd=/opt/stack/data/venv/bin/swift-container-sync /etc/swift/container-server/1.conf'
+ functions-common:_common_systemd_pitfalls:1607 :   [[ /opt/stack/data/venv/bin/swift-container-sync /etc/swift/container-server/1.conf =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1618 :   [[ ! /opt/stack/data/venv/bin/swift-container-sync /etc/swift/container-server/1.conf =~ ^/ ]]
+ functions-common:_run_under_systemd:1638 :   local systemd_service=devstack@s-container-sync.service
+ functions-common:_run_under_systemd:1639 :   local group=
+ functions-common:_run_under_systemd:1640 :   local user=stack
+ functions-common:_run_under_systemd:1641 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1644 :   local env_vars=
+ functions-common:_run_under_systemd:1645 :   [[ /opt/stack/data/venv/bin/swift-container-sync /etc/swift/container-server/1.conf =~ uwsgi ]]
+ functions-common:_run_under_systemd:1651 :   write_user_unit_file devstack@s-container-sync.service '/opt/stack/data/venv/bin/swift-container-sync /etc/swift/container-server/1.conf' '' stack ''
+ functions-common:write_user_unit_file:1539 :   local service=devstack@s-container-sync.service
+ functions-common:write_user_unit_file:1540 :   local 'command=/opt/stack/data/venv/bin/swift-container-sync /etc/swift/container-server/1.conf'
+ functions-common:write_user_unit_file:1541 :   local group=
+ functions-common:write_user_unit_file:1542 :   local user=stack
+ functions-common:write_user_unit_file:1543 :   local env_vars=
+ functions-common:write_user_unit_file:1544 :   local extra=
+ functions-common:write_user_unit_file:1545 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1548 :   local unitfile=/etc/systemd/system/devstack@s-container-sync.service
+ functions-common:write_user_unit_file:1549 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1551 :   iniset -sudo /etc/systemd/system/devstack@s-container-sync.service Unit Description 'Devstack devstack@s-container-sync.service'
+ functions-common:write_user_unit_file:1552 :   iniset -sudo /etc/systemd/system/devstack@s-container-sync.service Service Environment '"PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin"'
+ functions-common:write_user_unit_file:1553 :   iniset -sudo /etc/systemd/system/devstack@s-container-sync.service Service User stack
+ functions-common:write_user_unit_file:1554 :   iniset -sudo /etc/systemd/system/devstack@s-container-sync.service Service ExecStart '/opt/stack/data/venv/bin/swift-container-sync /etc/swift/container-server/1.conf'
+ functions-common:write_user_unit_file:1555 :   iniset -sudo /etc/systemd/system/devstack@s-container-sync.service Service KillMode process
+ functions-common:write_user_unit_file:1556 :   iniset -sudo /etc/systemd/system/devstack@s-container-sync.service Service TimeoutStopSec 300
+ functions-common:write_user_unit_file:1557 :   iniset -sudo /etc/systemd/system/devstack@s-container-sync.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ functions-common:write_user_unit_file:1558 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1561 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1564 :   iniset -sudo /etc/systemd/system/devstack@s-container-sync.service Install WantedBy multi-user.target
+ functions-common:write_user_unit_file:1567 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1654 :   sudo systemctl enable devstack@s-container-sync.service
+ functions-common:_run_under_systemd:1655 :   sudo systemctl start devstack@s-container-sync.service
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003594702
+ functions-common:time_stop:2430          :   [[ -z 1760003594702 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003597694
+ functions-common:time_stop:2434          :   elapsed_time=2992
+ functions-common:time_stop:2435          :   total=13221
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=16213
+ lib/swift:start_swift:805                :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/swift:start_swift:809                :   run_process s-proxy '/opt/stack/data/venv/bin/swift-proxy-server /etc/swift/proxy-server.conf -v'
+ functions-common:run_process:1675        :   local service=s-proxy
+ functions-common:run_process:1676        :   local 'command=/opt/stack/data/venv/bin/swift-proxy-server /etc/swift/proxy-server.conf -v'
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=s-proxy
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003597906
+ functions-common:run_process:1684        :   is_service_enabled s-proxy
+ functions-common:is_service_enabled:2077 :   return 0
+ functions-common:run_process:1685        :   _run_under_systemd s-proxy '/opt/stack/data/venv/bin/swift-proxy-server /etc/swift/proxy-server.conf -v' '' '' ''
+ functions-common:_run_under_systemd:1632 :   local service=s-proxy
+ functions-common:_run_under_systemd:1633 :   local 'command=/opt/stack/data/venv/bin/swift-proxy-server /etc/swift/proxy-server.conf -v'
+ functions-common:_run_under_systemd:1634 :   local 'cmd=/opt/stack/data/venv/bin/swift-proxy-server /etc/swift/proxy-server.conf -v'
+ functions-common:_run_under_systemd:1636 :   _common_systemd_pitfalls '/opt/stack/data/venv/bin/swift-proxy-server /etc/swift/proxy-server.conf -v'
+ functions-common:_common_systemd_pitfalls:1604 :   local 'cmd=/opt/stack/data/venv/bin/swift-proxy-server /etc/swift/proxy-server.conf -v'
+ functions-common:_common_systemd_pitfalls:1607 :   [[ /opt/stack/data/venv/bin/swift-proxy-server /etc/swift/proxy-server.conf -v =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1618 :   [[ ! /opt/stack/data/venv/bin/swift-proxy-server /etc/swift/proxy-server.conf -v =~ ^/ ]]
+ functions-common:_run_under_systemd:1638 :   local systemd_service=devstack@s-proxy.service
+ functions-common:_run_under_systemd:1639 :   local group=
+ functions-common:_run_under_systemd:1640 :   local user=stack
+ functions-common:_run_under_systemd:1641 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1644 :   local env_vars=
+ functions-common:_run_under_systemd:1645 :   [[ /opt/stack/data/venv/bin/swift-proxy-server /etc/swift/proxy-server.conf -v =~ uwsgi ]]
+ functions-common:_run_under_systemd:1651 :   write_user_unit_file devstack@s-proxy.service '/opt/stack/data/venv/bin/swift-proxy-server /etc/swift/proxy-server.conf -v' '' stack ''
+ functions-common:write_user_unit_file:1539 :   local service=devstack@s-proxy.service
+ functions-common:write_user_unit_file:1540 :   local 'command=/opt/stack/data/venv/bin/swift-proxy-server /etc/swift/proxy-server.conf -v'
+ functions-common:write_user_unit_file:1541 :   local group=
+ functions-common:write_user_unit_file:1542 :   local user=stack
+ functions-common:write_user_unit_file:1543 :   local env_vars=
+ functions-common:write_user_unit_file:1544 :   local extra=
+ functions-common:write_user_unit_file:1545 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1548 :   local unitfile=/etc/systemd/system/devstack@s-proxy.service
+ functions-common:write_user_unit_file:1549 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1551 :   iniset -sudo /etc/systemd/system/devstack@s-proxy.service Unit Description 'Devstack devstack@s-proxy.service'
+ functions-common:write_user_unit_file:1552 :   iniset -sudo /etc/systemd/system/devstack@s-proxy.service Service Environment '"PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin"'
+ functions-common:write_user_unit_file:1553 :   iniset -sudo /etc/systemd/system/devstack@s-proxy.service Service User stack
+ functions-common:write_user_unit_file:1554 :   iniset -sudo /etc/systemd/system/devstack@s-proxy.service Service ExecStart '/opt/stack/data/venv/bin/swift-proxy-server /etc/swift/proxy-server.conf -v'
+ functions-common:write_user_unit_file:1555 :   iniset -sudo /etc/systemd/system/devstack@s-proxy.service Service KillMode process
+ functions-common:write_user_unit_file:1556 :   iniset -sudo /etc/systemd/system/devstack@s-proxy.service Service TimeoutStopSec 300
+ functions-common:write_user_unit_file:1557 :   iniset -sudo /etc/systemd/system/devstack@s-proxy.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ functions-common:write_user_unit_file:1558 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1561 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1564 :   iniset -sudo /etc/systemd/system/devstack@s-proxy.service Install WantedBy multi-user.target
+ functions-common:write_user_unit_file:1567 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1654 :   sudo systemctl enable devstack@s-proxy.service
+ functions-common:_run_under_systemd:1655 :   sudo systemctl start devstack@s-proxy.service
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003597906
+ functions-common:time_stop:2430          :   [[ -z 1760003597906 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003601114
+ functions-common:time_stop:2434          :   elapsed_time=3208
+ functions-common:time_stop:2435          :   total=16213
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=19421
+ lib/swift:start_swift:814                :   echo 'Waiting for swift proxy to start...'
Waiting for swift proxy to start...
+ lib/swift:start_swift:815                :   wait_for_service 60 http://172.25.93.57:8080/info
+ functions:wait_for_service:468           :   local timeout=60
+ functions:wait_for_service:469           :   local url=http://172.25.93.57:8080/info
+ functions:wait_for_service:470           :   local rval=0
+ functions:wait_for_service:471           :   time_start wait_for_service
+ functions-common:time_start:2407         :   local name=wait_for_service
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003601241
+ functions:wait_for_service:472           :   timeout 60 bash -x
++ ::                                       :   curl -g -k --noproxy '*' -s -o /dev/null -w '%{http_code}' http://172.25.93.57:8080/info
+ ::                                       :   [[ 200 == 503 ]]
+ ::                                       :   [[ 0 -eq 7 ]]
+ functions:wait_for_service:477           :   time_stop wait_for_service
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=wait_for_service
+ functions-common:time_stop:2428          :   start_time=1760003601241
+ functions-common:time_stop:2430          :   [[ -z 1760003601241 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003601382
+ functions-common:time_stop:2434          :   elapsed_time=141
+ functions-common:time_stop:2435          :   total=153
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=294
+ functions:wait_for_service:478           :   return 0
+ lib/swift:start_swift:819                :   [[ False == \T\r\u\e ]]
+ ./stack.sh:main:1290                     :   FIXED_KEY=bae3516cc1c0eb18b05440eba8012a4a880a2ee04d584a9c1579445e675b12defdc716ec
+ ./stack.sh:main:1291                     :   is_service_enabled cinder
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1292                     :   iniset /etc/cinder/cinder.conf key_manager fixed_key bae3516cc1c0eb18b05440eba8012a4a880a2ee04d584a9c1579445e675b12defdc716ec
+ ./stack.sh:main:1295                     :   async_wait configure_neutron_nova
[1115705 Async configure_neutron_nova:1163547]: Waiting for completion of configure_neutron_nova running on PID 1163547 (2 other jobs running)
[1115705 Async configure_neutron_nova:1163547]: Signaling child to exit
WAKEUP
[1115705 Async configure_neutron_nova:1163547]: Signaled
+ lib/neutron:configure_neutron_nova:462   :   create_nova_conf_neutron /etc/nova/nova.conf
+ lib/neutron:create_nova_conf_neutron:473 :   local conf=/etc/nova/nova.conf
+ lib/neutron:create_nova_conf_neutron:474 :   iniset /etc/nova/nova.conf neutron auth_type password
+ lib/neutron:create_nova_conf_neutron:475 :   iniset /etc/nova/nova.conf neutron auth_url http://172.25.93.57/identity
+ lib/neutron:create_nova_conf_neutron:476 :   iniset /etc/nova/nova.conf neutron username nova
+ lib/neutron:create_nova_conf_neutron:477 :   iniset /etc/nova/nova.conf neutron password Hitachino1
+ lib/neutron:create_nova_conf_neutron:478 :   iniset /etc/nova/nova.conf neutron user_domain_name Default
+ lib/neutron:create_nova_conf_neutron:479 :   iniset /etc/nova/nova.conf neutron project_name service
+ lib/neutron:create_nova_conf_neutron:480 :   iniset /etc/nova/nova.conf neutron project_domain_name Default
+ lib/neutron:create_nova_conf_neutron:481 :   iniset /etc/nova/nova.conf neutron auth_strategy keystone
+ lib/neutron:create_nova_conf_neutron:482 :   iniset /etc/nova/nova.conf neutron region_name RegionOne
+ lib/neutron:create_nova_conf_neutron:485 :   neutron_plugin_create_nova_conf /etc/nova/nova.conf
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_create_nova_conf:13 :   _neutron_ovs_base_configure_nova_vif_driver
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_configure_nova_vif_driver:119 :   :
+ lib/neutron:create_nova_conf_neutron:487 :   is_service_enabled q-meta neutron-metadata-agent
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/neutron:create_nova_conf_neutron:488 :   iniset /etc/nova/nova.conf neutron service_metadata_proxy True
+ lib/neutron:create_nova_conf_neutron:491 :   iniset /etc/nova/nova.conf DEFAULT vif_plugging_is_fatal True
+ lib/neutron:create_nova_conf_neutron:492 :   iniset /etc/nova/nova.conf DEFAULT vif_plugging_timeout 300
+ lib/neutron:configure_neutron_nova:463   :   [[ superconductor == \s\u\p\e\r\c\o\n\d\u\c\t\o\r ]]
++ lib/neutron:configure_neutron_nova:464   :   seq 1 1
+ lib/neutron:configure_neutron_nova:464   :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/neutron:configure_neutron_nova:465   :   local conf
++ lib/neutron:configure_neutron_nova:466   :   conductor_conf 1
++ lib/nova:conductor_conf:850              :   local cell=1
++ lib/nova:conductor_conf:851              :   echo /etc/nova/nova_cell1.conf
+ lib/neutron:configure_neutron_nova:466   :   conf=/etc/nova/nova_cell1.conf
+ lib/neutron:configure_neutron_nova:467   :   create_nova_conf_neutron /etc/nova/nova_cell1.conf
+ lib/neutron:create_nova_conf_neutron:473 :   local conf=/etc/nova/nova_cell1.conf
+ lib/neutron:create_nova_conf_neutron:474 :   iniset /etc/nova/nova_cell1.conf neutron auth_type password
+ lib/neutron:create_nova_conf_neutron:475 :   iniset /etc/nova/nova_cell1.conf neutron auth_url http://172.25.93.57/identity
+ lib/neutron:create_nova_conf_neutron:476 :   iniset /etc/nova/nova_cell1.conf neutron username nova
+ lib/neutron:create_nova_conf_neutron:477 :   iniset /etc/nova/nova_cell1.conf neutron password Hitachino1
+ lib/neutron:create_nova_conf_neutron:478 :   iniset /etc/nova/nova_cell1.conf neutron user_domain_name Default
+ lib/neutron:create_nova_conf_neutron:479 :   iniset /etc/nova/nova_cell1.conf neutron project_name service
+ lib/neutron:create_nova_conf_neutron:480 :   iniset /etc/nova/nova_cell1.conf neutron project_domain_name Default
+ lib/neutron:create_nova_conf_neutron:481 :   iniset /etc/nova/nova_cell1.conf neutron auth_strategy keystone
+ lib/neutron:create_nova_conf_neutron:482 :   iniset /etc/nova/nova_cell1.conf neutron region_name RegionOne
+ lib/neutron:create_nova_conf_neutron:485 :   neutron_plugin_create_nova_conf /etc/nova/nova_cell1.conf
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_create_nova_conf:13 :   _neutron_ovs_base_configure_nova_vif_driver
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_configure_nova_vif_driver:119 :   :
+ lib/neutron:create_nova_conf_neutron:487 :   is_service_enabled q-meta neutron-metadata-agent
+ functions-common:is_service_enabled:2077 :   return 0
+ lib/neutron:create_nova_conf_neutron:488 :   iniset /etc/nova/nova_cell1.conf neutron service_metadata_proxy True
+ lib/neutron:create_nova_conf_neutron:491 :   iniset /etc/nova/nova_cell1.conf DEFAULT vif_plugging_is_fatal True
+ lib/neutron:create_nova_conf_neutron:492 :   iniset /etc/nova/nova_cell1.conf DEFAULT vif_plugging_timeout 300
[1115705 Async configure_neutron_nova:1163547]: finished configure_neutron_nova with result 0 in 2 seconds
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1301                     :   is_service_enabled nova
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1302                     :   iniset /etc/nova/nova.conf key_manager fixed_key bae3516cc1c0eb18b05440eba8012a4a880a2ee04d584a9c1579445e675b12defdc716ec
+ ./stack.sh:main:1303                     :   iniset /etc/nova/nova-cpu.conf key_manager fixed_key bae3516cc1c0eb18b05440eba8012a4a880a2ee04d584a9c1579445e675b12defdc716ec
+ ./stack.sh:main:1307                     :   is_service_enabled n-api
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1308                     :   echo_summary 'Starting Nova API'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Starting Nova API
+ ./stack.sh:main:1309                     :   start_nova_api
+ lib/nova:start_nova_api:991              :   local service_port=8774
+ lib/nova:start_nova_api:992              :   local service_protocol=http
+ lib/nova:start_nova_api:993              :   local nova_url
+ lib/nova:start_nova_api:994              :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/nova:start_nova_api:1000             :   local old_path=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_api:1001             :   export PATH=/opt/stack/data/venv/bin:/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_api:1001             :   PATH=/opt/stack/data/venv/bin:/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
++ lib/nova:start_nova_api:1003             :   which uwsgi
+ lib/nova:start_nova_api:1003             :   run_process n-api '/usr/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini'
+ functions-common:run_process:1675        :   local service=n-api
+ functions-common:run_process:1676        :   local 'command=/usr/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini'
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=n-api
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003602639
+ functions-common:run_process:1684        :   is_service_enabled n-api
+ functions-common:is_service_enabled:2077 :   return 0
+ functions-common:run_process:1685        :   _run_under_systemd n-api '/usr/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini' '' '' ''
+ functions-common:_run_under_systemd:1632 :   local service=n-api
+ functions-common:_run_under_systemd:1633 :   local 'command=/usr/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini'
+ functions-common:_run_under_systemd:1634 :   local 'cmd=/usr/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini'
+ functions-common:_run_under_systemd:1636 :   _common_systemd_pitfalls '/usr/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini'
+ functions-common:_common_systemd_pitfalls:1604 :   local 'cmd=/usr/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini'
+ functions-common:_common_systemd_pitfalls:1607 :   [[ /usr/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1618 :   [[ ! /usr/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1638 :   local systemd_service=devstack@n-api.service
+ functions-common:_run_under_systemd:1639 :   local group=
+ functions-common:_run_under_systemd:1640 :   local user=stack
+ functions-common:_run_under_systemd:1641 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1644 :   local env_vars=
+ functions-common:_run_under_systemd:1645 :   [[ /usr/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1646 :   [[ True == \T\r\u\e ]]
+ functions-common:_run_under_systemd:1647 :   cmd='/usr/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini --venv /opt/stack/data/venv'
+ functions-common:_run_under_systemd:1649 :   write_uwsgi_user_unit_file devstack@n-api.service '/usr/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini --venv /opt/stack/data/venv' '' stack ''
+ functions-common:write_uwsgi_user_unit_file:1571 :   local service=devstack@n-api.service
+ functions-common:write_uwsgi_user_unit_file:1572 :   local 'command=/usr/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini --venv /opt/stack/data/venv'
+ functions-common:write_uwsgi_user_unit_file:1573 :   local group=
+ functions-common:write_uwsgi_user_unit_file:1574 :   local user=stack
+ functions-common:write_uwsgi_user_unit_file:1575 :   local env_vars=
+ functions-common:write_uwsgi_user_unit_file:1576 :   local unitfile=/etc/systemd/system/devstack@n-api.service
+ functions-common:write_uwsgi_user_unit_file:1577 :   mkdir -p /etc/systemd/system
+ functions-common:write_uwsgi_user_unit_file:1579 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Unit Description 'Devstack devstack@n-api.service'
+ functions-common:write_uwsgi_user_unit_file:1580 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service Environment '"PATH=/opt/stack/data/venv/bin:/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin"'
+ functions-common:write_uwsgi_user_unit_file:1581 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service SyslogIdentifier devstack@n-api.service
+ functions-common:write_uwsgi_user_unit_file:1582 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service User stack
+ functions-common:write_uwsgi_user_unit_file:1583 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service ExecStart '/usr/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini --venv /opt/stack/data/venv'
+ functions-common:write_uwsgi_user_unit_file:1584 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ functions-common:write_uwsgi_user_unit_file:1585 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service Type notify
+ functions-common:write_uwsgi_user_unit_file:1586 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service KillMode process
+ functions-common:write_uwsgi_user_unit_file:1587 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service Restart always
+ functions-common:write_uwsgi_user_unit_file:1588 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service NotifyAccess all
+ functions-common:write_uwsgi_user_unit_file:1589 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service RestartForceExitStatus 100
+ functions-common:write_uwsgi_user_unit_file:1591 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1594 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1597 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Install WantedBy multi-user.target
+ functions-common:write_uwsgi_user_unit_file:1600 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1654 :   sudo systemctl enable devstack@n-api.service
+ functions-common:_run_under_systemd:1655 :   sudo systemctl start devstack@n-api.service
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003602639
+ functions-common:time_stop:2430          :   [[ -z 1760003602639 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003606400
+ functions-common:time_stop:2434          :   elapsed_time=3761
+ functions-common:time_stop:2435          :   total=19421
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=23182
+ lib/nova:start_nova_api:1004             :   nova_url=http://172.25.93.57/compute/v2.1/
+ lib/nova:start_nova_api:1006             :   echo 'Waiting for nova-api to start...'
Waiting for nova-api to start...
+ lib/nova:start_nova_api:1007             :   wait_for_service 60 http://172.25.93.57/compute/v2.1/
+ functions:wait_for_service:468           :   local timeout=60
+ functions:wait_for_service:469           :   local url=http://172.25.93.57/compute/v2.1/
+ functions:wait_for_service:470           :   local rval=0
+ functions:wait_for_service:471           :   time_start wait_for_service
+ functions-common:time_start:2407         :   local name=wait_for_service
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003606533
+ functions:wait_for_service:472           :   timeout 60 bash -x
++ ::                                       :   curl -g -k --noproxy '*' -s -o /dev/null -w '%{http_code}' http://172.25.93.57/compute/v2.1/
+ ::                                       :   [[ 200 == 503 ]]
+ ::                                       :   [[ 0 -eq 7 ]]
+ functions:wait_for_service:477           :   time_stop wait_for_service
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=wait_for_service
+ functions-common:time_stop:2428          :   start_time=1760003606533
+ functions-common:time_stop:2430          :   [[ -z 1760003606533 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003606701
+ functions-common:time_stop:2434          :   elapsed_time=168
+ functions-common:time_stop:2435          :   total=294
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=462
+ functions:wait_for_service:478           :   return 0
+ lib/nova:start_nova_api:1011             :   export PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_api:1011             :   PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ ./stack.sh:main:1312                     :   is_service_enabled ovn-controller ovn-controller-vtep
+ functions-common:is_service_enabled:2077 :   return 1
+ ./stack.sh:main:1317                     :   is_service_enabled q-svc neutron-api
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1318                     :   echo_summary 'Starting Neutron'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Starting Neutron
+ ./stack.sh:main:1319                     :   configure_neutron_after_post_config
+ lib/neutron:configure_neutron_after_post_config:583 :   [[ router,neutron.services.metering.metering_plugin.MeteringPlugin != '' ]]
+ lib/neutron:configure_neutron_after_post_config:584 :   iniset /etc/neutron/neutron.conf DEFAULT service_plugins router,neutron.services.metering.metering_plugin.MeteringPlugin
+ lib/neutron:configure_neutron_after_post_config:586 :   configure_rbac_policies
+ lib/neutron:configure_rbac_policies:592  :   [[ True == \T\r\u\e ]]
+ lib/neutron:configure_rbac_policies:593  :   iniset /etc/neutron/neutron.conf oslo_policy enforce_new_defaults True
+ lib/neutron:configure_rbac_policies:594  :   iniset /etc/neutron/neutron.conf oslo_policy enforce_scope True
+ ./stack.sh:main:1320                     :   start_neutron_service_and_check
+ lib/neutron:start_neutron_service_and_check:626 :   local service_port=9696
+ lib/neutron:start_neutron_service_and_check:627 :   local service_protocol=http
+ lib/neutron:start_neutron_service_and_check:628 :   local cfg_file_options
+ lib/neutron:start_neutron_service_and_check:629 :   local neutron_url
++ lib/neutron:start_neutron_service_and_check:631 :   determine_config_files neutron-server
++ lib/neutron:determine_config_files:381   :   local opts=
++ lib/neutron:determine_config_files:382   :   case "$1" in
+++ lib/neutron:determine_config_files:383   :   _determine_config_server
+++ lib/neutron:_determine_config_server:333 :   [[ '' != '' ]]
+++ lib/neutron:_determine_config_server:340 :   [[ 0 > 0 ]]
+++ lib/neutron:_determine_config_server:347 :   local cfg_file
+++ lib/neutron:_determine_config_server:348 :   local 'opts=--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+++ lib/neutron:_determine_config_server:352 :   echo '--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
++ lib/neutron:determine_config_files:383   :   opts='--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
++ lib/neutron:determine_config_files:386   :   '[' -z '--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini' ']'
++ lib/neutron:determine_config_files:389   :   echo '--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ lib/neutron:start_neutron_service_and_check:631 :   cfg_file_options='--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ lib/neutron:start_neutron_service_and_check:633 :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/neutron:start_neutron_service_and_check:639 :   '[' False == True ']'
+ lib/neutron:start_neutron_service_and_check:660 :   run_process q-svc '/opt/stack/data/venv/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:run_process:1675        :   local service=q-svc
+ functions-common:run_process:1676        :   local 'command=/opt/stack/data/venv/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=q-svc
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003607606
+ functions-common:run_process:1684        :   is_service_enabled q-svc
+ functions-common:is_service_enabled:2077 :   return 0
+ functions-common:run_process:1685        :   _run_under_systemd q-svc '/opt/stack/data/venv/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini' '' '' ''
+ functions-common:_run_under_systemd:1632 :   local service=q-svc
+ functions-common:_run_under_systemd:1633 :   local 'command=/opt/stack/data/venv/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:_run_under_systemd:1634 :   local 'cmd=/opt/stack/data/venv/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:_run_under_systemd:1636 :   _common_systemd_pitfalls '/opt/stack/data/venv/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:_common_systemd_pitfalls:1604 :   local 'cmd=/opt/stack/data/venv/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:_common_systemd_pitfalls:1607 :   [[ /opt/stack/data/venv/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1618 :   [[ ! /opt/stack/data/venv/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1638 :   local systemd_service=devstack@q-svc.service
+ functions-common:_run_under_systemd:1639 :   local group=
+ functions-common:_run_under_systemd:1640 :   local user=stack
+ functions-common:_run_under_systemd:1641 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1644 :   local env_vars=
+ functions-common:_run_under_systemd:1645 :   [[ /opt/stack/data/venv/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1651 :   write_user_unit_file devstack@q-svc.service '/opt/stack/data/venv/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini' '' stack ''
+ functions-common:write_user_unit_file:1539 :   local service=devstack@q-svc.service
+ functions-common:write_user_unit_file:1540 :   local 'command=/opt/stack/data/venv/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:write_user_unit_file:1541 :   local group=
+ functions-common:write_user_unit_file:1542 :   local user=stack
+ functions-common:write_user_unit_file:1543 :   local env_vars=
+ functions-common:write_user_unit_file:1544 :   local extra=
+ functions-common:write_user_unit_file:1545 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1548 :   local unitfile=/etc/systemd/system/devstack@q-svc.service
+ functions-common:write_user_unit_file:1549 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1551 :   iniset -sudo /etc/systemd/system/devstack@q-svc.service Unit Description 'Devstack devstack@q-svc.service'
+ functions-common:write_user_unit_file:1552 :   iniset -sudo /etc/systemd/system/devstack@q-svc.service Service Environment '"PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin"'
+ functions-common:write_user_unit_file:1553 :   iniset -sudo /etc/systemd/system/devstack@q-svc.service Service User stack
+ functions-common:write_user_unit_file:1554 :   iniset -sudo /etc/systemd/system/devstack@q-svc.service Service ExecStart '/opt/stack/data/venv/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:write_user_unit_file:1555 :   iniset -sudo /etc/systemd/system/devstack@q-svc.service Service KillMode process
+ functions-common:write_user_unit_file:1556 :   iniset -sudo /etc/systemd/system/devstack@q-svc.service Service TimeoutStopSec 300
+ functions-common:write_user_unit_file:1557 :   iniset -sudo /etc/systemd/system/devstack@q-svc.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ functions-common:write_user_unit_file:1558 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1561 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1564 :   iniset -sudo /etc/systemd/system/devstack@q-svc.service Install WantedBy multi-user.target
+ functions-common:write_user_unit_file:1567 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1654 :   sudo systemctl enable devstack@q-svc.service
+ functions-common:_run_under_systemd:1655 :   sudo systemctl start devstack@q-svc.service
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003607606
+ functions-common:time_stop:2430          :   [[ -z 1760003607606 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003610562
+ functions-common:time_stop:2434          :   elapsed_time=2956
+ functions-common:time_stop:2435          :   total=23182
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=26138
+ lib/neutron:start_neutron_service_and_check:661 :   neutron_url=http://172.25.93.57:9696/
+ lib/neutron:start_neutron_service_and_check:663 :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2077 :   return 1
+ lib/neutron:start_neutron_service_and_check:667 :   '[' '!' -z networking ']'
+ lib/neutron:start_neutron_service_and_check:668 :   neutron_url=http://172.25.93.57:9696/networking
+ lib/neutron:start_neutron_service_and_check:670 :   echo 'Waiting for Neutron to start...'
Waiting for Neutron to start...
+ lib/neutron:start_neutron_service_and_check:672 :   local 'testcmd=wget  --no-proxy -q -O- http://172.25.93.57:9696/networking'
+ lib/neutron:start_neutron_service_and_check:673 :   test_with_retry 'wget  --no-proxy -q -O- http://172.25.93.57:9696/networking' 'Neutron did not start' 60
+ functions-common:test_with_retry:2359    :   local 'testcmd=wget  --no-proxy -q -O- http://172.25.93.57:9696/networking'
+ functions-common:test_with_retry:2360    :   local 'failmsg=Neutron did not start'
+ functions-common:test_with_retry:2361    :   local until=60
+ functions-common:test_with_retry:2362    :   local sleep=0.5
+ functions-common:test_with_retry:2364    :   time_start test_with_retry
+ functions-common:time_start:2407         :   local name=test_with_retry
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003610790
+ functions-common:test_with_retry:2365    :   timeout 60 sh -c 'while ! wget  --no-proxy -q -O- http://172.25.93.57:9696/networking; do sleep 0.5; done'
{"versions": [{"id": "v2.0", "status": "CURRENT", "links": [{"rel": "self", "href": "http://172.25.93.57:9696/networking/v2.0/"}]}]}+ functions-common:test_with_retry:2368    :   time_stop test_with_retry
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=test_with_retry
+ functions-common:time_stop:2428          :   start_time=1760003610790
+ functions-common:time_stop:2430          :   [[ -z 1760003610790 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003610927
+ functions-common:time_stop:2434          :   elapsed_time=137
+ functions-common:time_stop:2435          :   total=0
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=137
+ ./stack.sh:main:1325                     :   is_service_enabled placement
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1326                     :   echo_summary 'Starting Placement'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Starting Placement
+ ./stack.sh:main:1327                     :   start_placement
+ lib/placement:start_placement:137        :   start_placement_api
++ lib/placement:start_placement_api:128    :   which uwsgi
+ lib/placement:start_placement_api:128    :   run_process placement-api '/usr/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini'
+ functions-common:run_process:1675        :   local service=placement-api
+ functions-common:run_process:1676        :   local 'command=/usr/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini'
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=placement-api
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003611189
+ functions-common:run_process:1684        :   is_service_enabled placement-api
+ functions-common:is_service_enabled:2077 :   return 0
+ functions-common:run_process:1685        :   _run_under_systemd placement-api '/usr/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini' '' '' ''
+ functions-common:_run_under_systemd:1632 :   local service=placement-api
+ functions-common:_run_under_systemd:1633 :   local 'command=/usr/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini'
+ functions-common:_run_under_systemd:1634 :   local 'cmd=/usr/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini'
+ functions-common:_run_under_systemd:1636 :   _common_systemd_pitfalls '/usr/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini'
+ functions-common:_common_systemd_pitfalls:1604 :   local 'cmd=/usr/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini'
+ functions-common:_common_systemd_pitfalls:1607 :   [[ /usr/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1618 :   [[ ! /usr/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1638 :   local systemd_service=devstack@placement-api.service
+ functions-common:_run_under_systemd:1639 :   local group=
+ functions-common:_run_under_systemd:1640 :   local user=stack
+ functions-common:_run_under_systemd:1641 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1644 :   local env_vars=
+ functions-common:_run_under_systemd:1645 :   [[ /usr/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1646 :   [[ True == \T\r\u\e ]]
+ functions-common:_run_under_systemd:1647 :   cmd='/usr/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini --venv /opt/stack/data/venv'
+ functions-common:_run_under_systemd:1649 :   write_uwsgi_user_unit_file devstack@placement-api.service '/usr/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini --venv /opt/stack/data/venv' '' stack ''
+ functions-common:write_uwsgi_user_unit_file:1571 :   local service=devstack@placement-api.service
+ functions-common:write_uwsgi_user_unit_file:1572 :   local 'command=/usr/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini --venv /opt/stack/data/venv'
+ functions-common:write_uwsgi_user_unit_file:1573 :   local group=
+ functions-common:write_uwsgi_user_unit_file:1574 :   local user=stack
+ functions-common:write_uwsgi_user_unit_file:1575 :   local env_vars=
+ functions-common:write_uwsgi_user_unit_file:1576 :   local unitfile=/etc/systemd/system/devstack@placement-api.service
+ functions-common:write_uwsgi_user_unit_file:1577 :   mkdir -p /etc/systemd/system
+ functions-common:write_uwsgi_user_unit_file:1579 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Unit Description 'Devstack devstack@placement-api.service'
+ functions-common:write_uwsgi_user_unit_file:1580 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service Environment '"PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin"'
+ functions-common:write_uwsgi_user_unit_file:1581 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service SyslogIdentifier devstack@placement-api.service
+ functions-common:write_uwsgi_user_unit_file:1582 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service User stack
+ functions-common:write_uwsgi_user_unit_file:1583 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service ExecStart '/usr/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini --venv /opt/stack/data/venv'
+ functions-common:write_uwsgi_user_unit_file:1584 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ functions-common:write_uwsgi_user_unit_file:1585 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service Type notify
+ functions-common:write_uwsgi_user_unit_file:1586 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service KillMode process
+ functions-common:write_uwsgi_user_unit_file:1587 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service Restart always
+ functions-common:write_uwsgi_user_unit_file:1588 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service NotifyAccess all
+ functions-common:write_uwsgi_user_unit_file:1589 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service RestartForceExitStatus 100
+ functions-common:write_uwsgi_user_unit_file:1591 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1594 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1597 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Install WantedBy multi-user.target
+ functions-common:write_uwsgi_user_unit_file:1600 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1654 :   sudo systemctl enable devstack@placement-api.service
+ functions-common:_run_under_systemd:1655 :   sudo systemctl start devstack@placement-api.service
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003611189
+ functions-common:time_stop:2430          :   [[ -z 1760003611189 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003615028
+ functions-common:time_stop:2434          :   elapsed_time=3839
+ functions-common:time_stop:2435          :   total=26138
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=29977
+ lib/placement:start_placement_api:130    :   echo 'Waiting for placement-api to start...'
Waiting for placement-api to start...
+ lib/placement:start_placement_api:131    :   wait_for_service 60 http://172.25.93.57/placement
+ functions:wait_for_service:468           :   local timeout=60
+ functions:wait_for_service:469           :   local url=http://172.25.93.57/placement
+ functions:wait_for_service:470           :   local rval=0
+ functions:wait_for_service:471           :   time_start wait_for_service
+ functions-common:time_start:2407         :   local name=wait_for_service
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003615159
+ functions:wait_for_service:472           :   timeout 60 bash -x
++ ::                                       :   curl -g -k --noproxy '*' -s -o /dev/null -w '%{http_code}' http://172.25.93.57/placement
+ ::                                       :   [[ 200 == 503 ]]
+ ::                                       :   [[ 0 -eq 7 ]]
+ functions:wait_for_service:477           :   time_stop wait_for_service
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=wait_for_service
+ functions-common:time_stop:2428          :   start_time=1760003615159
+ functions-common:time_stop:2430          :   [[ -z 1760003615159 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003615316
+ functions-common:time_stop:2434          :   elapsed_time=157
+ functions-common:time_stop:2435          :   total=462
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=619
+ functions:wait_for_service:478           :   return 0
+ ./stack.sh:main:1330                     :   is_service_enabled neutron
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1331                     :   start_neutron
+ lib/neutron:start_neutron:677            :   start_l2_agent
+ lib/neutron:start_l2_agent:684           :   run_process q-agt '/opt/stack/data/venv/bin/neutron-openvswitch-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:run_process:1675        :   local service=q-agt
+ functions-common:run_process:1676        :   local 'command=/opt/stack/data/venv/bin/neutron-openvswitch-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=q-agt
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003615545
+ functions-common:run_process:1684        :   is_service_enabled q-agt
+ functions-common:is_service_enabled:2077 :   return 0
+ functions-common:run_process:1685        :   _run_under_systemd q-agt '/opt/stack/data/venv/bin/neutron-openvswitch-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini' '' '' ''
+ functions-common:_run_under_systemd:1632 :   local service=q-agt
+ functions-common:_run_under_systemd:1633 :   local 'command=/opt/stack/data/venv/bin/neutron-openvswitch-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:_run_under_systemd:1634 :   local 'cmd=/opt/stack/data/venv/bin/neutron-openvswitch-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:_run_under_systemd:1636 :   _common_systemd_pitfalls '/opt/stack/data/venv/bin/neutron-openvswitch-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:_common_systemd_pitfalls:1604 :   local 'cmd=/opt/stack/data/venv/bin/neutron-openvswitch-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:_common_systemd_pitfalls:1607 :   [[ /opt/stack/data/venv/bin/neutron-openvswitch-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1618 :   [[ ! /opt/stack/data/venv/bin/neutron-openvswitch-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1638 :   local systemd_service=devstack@q-agt.service
+ functions-common:_run_under_systemd:1639 :   local group=
+ functions-common:_run_under_systemd:1640 :   local user=stack
+ functions-common:_run_under_systemd:1641 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1644 :   local env_vars=
+ functions-common:_run_under_systemd:1645 :   [[ /opt/stack/data/venv/bin/neutron-openvswitch-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1651 :   write_user_unit_file devstack@q-agt.service '/opt/stack/data/venv/bin/neutron-openvswitch-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini' '' stack ''
+ functions-common:write_user_unit_file:1539 :   local service=devstack@q-agt.service
+ functions-common:write_user_unit_file:1540 :   local 'command=/opt/stack/data/venv/bin/neutron-openvswitch-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:write_user_unit_file:1541 :   local group=
+ functions-common:write_user_unit_file:1542 :   local user=stack
+ functions-common:write_user_unit_file:1543 :   local env_vars=
+ functions-common:write_user_unit_file:1544 :   local extra=
+ functions-common:write_user_unit_file:1545 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1548 :   local unitfile=/etc/systemd/system/devstack@q-agt.service
+ functions-common:write_user_unit_file:1549 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1551 :   iniset -sudo /etc/systemd/system/devstack@q-agt.service Unit Description 'Devstack devstack@q-agt.service'
+ functions-common:write_user_unit_file:1552 :   iniset -sudo /etc/systemd/system/devstack@q-agt.service Service Environment '"PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin"'
+ functions-common:write_user_unit_file:1553 :   iniset -sudo /etc/systemd/system/devstack@q-agt.service Service User stack
+ functions-common:write_user_unit_file:1554 :   iniset -sudo /etc/systemd/system/devstack@q-agt.service Service ExecStart '/opt/stack/data/venv/bin/neutron-openvswitch-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:write_user_unit_file:1555 :   iniset -sudo /etc/systemd/system/devstack@q-agt.service Service KillMode process
+ functions-common:write_user_unit_file:1556 :   iniset -sudo /etc/systemd/system/devstack@q-agt.service Service TimeoutStopSec 300
+ functions-common:write_user_unit_file:1557 :   iniset -sudo /etc/systemd/system/devstack@q-agt.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ functions-common:write_user_unit_file:1558 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1561 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1564 :   iniset -sudo /etc/systemd/system/devstack@q-agt.service Install WantedBy multi-user.target
+ functions-common:write_user_unit_file:1567 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1654 :   sudo systemctl enable devstack@q-agt.service
+ functions-common:_run_under_systemd:1655 :   sudo systemctl start devstack@q-agt.service
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003615545
+ functions-common:time_stop:2430          :   [[ -z 1760003615545 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003618570
+ functions-common:time_stop:2434          :   elapsed_time=3025
+ functions-common:time_stop:2435          :   total=29977
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=33002
+ lib/neutron:start_l2_agent:686           :   is_provider_network
+ functions-common:is_provider_network:2270 :   '[' '' == True ']'
+ functions-common:is_provider_network:2273 :   return 1
+ lib/neutron:start_neutron:678            :   start_other_agents
+ lib/neutron:start_other_agents:702       :   run_process q-dhcp '/opt/stack/data/venv/bin/neutron-dhcp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini'
+ functions-common:run_process:1675        :   local service=q-dhcp
+ functions-common:run_process:1676        :   local 'command=/opt/stack/data/venv/bin/neutron-dhcp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini'
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=q-dhcp
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003618747
+ functions-common:run_process:1684        :   is_service_enabled q-dhcp
+ functions-common:is_service_enabled:2077 :   return 0
+ functions-common:run_process:1685        :   _run_under_systemd q-dhcp '/opt/stack/data/venv/bin/neutron-dhcp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini' '' '' ''
+ functions-common:_run_under_systemd:1632 :   local service=q-dhcp
+ functions-common:_run_under_systemd:1633 :   local 'command=/opt/stack/data/venv/bin/neutron-dhcp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini'
+ functions-common:_run_under_systemd:1634 :   local 'cmd=/opt/stack/data/venv/bin/neutron-dhcp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini'
+ functions-common:_run_under_systemd:1636 :   _common_systemd_pitfalls '/opt/stack/data/venv/bin/neutron-dhcp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini'
+ functions-common:_common_systemd_pitfalls:1604 :   local 'cmd=/opt/stack/data/venv/bin/neutron-dhcp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini'
+ functions-common:_common_systemd_pitfalls:1607 :   [[ /opt/stack/data/venv/bin/neutron-dhcp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1618 :   [[ ! /opt/stack/data/venv/bin/neutron-dhcp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1638 :   local systemd_service=devstack@q-dhcp.service
+ functions-common:_run_under_systemd:1639 :   local group=
+ functions-common:_run_under_systemd:1640 :   local user=stack
+ functions-common:_run_under_systemd:1641 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1644 :   local env_vars=
+ functions-common:_run_under_systemd:1645 :   [[ /opt/stack/data/venv/bin/neutron-dhcp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1651 :   write_user_unit_file devstack@q-dhcp.service '/opt/stack/data/venv/bin/neutron-dhcp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini' '' stack ''
+ functions-common:write_user_unit_file:1539 :   local service=devstack@q-dhcp.service
+ functions-common:write_user_unit_file:1540 :   local 'command=/opt/stack/data/venv/bin/neutron-dhcp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini'
+ functions-common:write_user_unit_file:1541 :   local group=
+ functions-common:write_user_unit_file:1542 :   local user=stack
+ functions-common:write_user_unit_file:1543 :   local env_vars=
+ functions-common:write_user_unit_file:1544 :   local extra=
+ functions-common:write_user_unit_file:1545 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1548 :   local unitfile=/etc/systemd/system/devstack@q-dhcp.service
+ functions-common:write_user_unit_file:1549 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1551 :   iniset -sudo /etc/systemd/system/devstack@q-dhcp.service Unit Description 'Devstack devstack@q-dhcp.service'
+ functions-common:write_user_unit_file:1552 :   iniset -sudo /etc/systemd/system/devstack@q-dhcp.service Service Environment '"PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin"'
+ functions-common:write_user_unit_file:1553 :   iniset -sudo /etc/systemd/system/devstack@q-dhcp.service Service User stack
+ functions-common:write_user_unit_file:1554 :   iniset -sudo /etc/systemd/system/devstack@q-dhcp.service Service ExecStart '/opt/stack/data/venv/bin/neutron-dhcp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini'
+ functions-common:write_user_unit_file:1555 :   iniset -sudo /etc/systemd/system/devstack@q-dhcp.service Service KillMode process
+ functions-common:write_user_unit_file:1556 :   iniset -sudo /etc/systemd/system/devstack@q-dhcp.service Service TimeoutStopSec 300
+ functions-common:write_user_unit_file:1557 :   iniset -sudo /etc/systemd/system/devstack@q-dhcp.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ functions-common:write_user_unit_file:1558 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1561 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1564 :   iniset -sudo /etc/systemd/system/devstack@q-dhcp.service Install WantedBy multi-user.target
+ functions-common:write_user_unit_file:1567 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1654 :   sudo systemctl enable devstack@q-dhcp.service
+ functions-common:_run_under_systemd:1655 :   sudo systemctl start devstack@q-dhcp.service
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003618747
+ functions-common:time_stop:2430          :   [[ -z 1760003618747 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003621691
+ functions-common:time_stop:2434          :   elapsed_time=2944
+ functions-common:time_stop:2435          :   total=33002
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=35946
++ lib/neutron:start_other_agents:704       :   determine_config_files neutron-l3-agent
++ lib/neutron:determine_config_files:381   :   local opts=
++ lib/neutron:determine_config_files:382   :   case "$1" in
+++ lib/neutron:determine_config_files:384   :   _determine_config_l3
+++ lib/neutron:_determine_config_l3:356     :   local 'opts=--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
+++ lib/neutron:_determine_config_l3:357     :   echo '--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
++ lib/neutron:determine_config_files:384   :   opts='--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
++ lib/neutron:determine_config_files:386   :   '[' -z '--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini' ']'
++ lib/neutron:determine_config_files:389   :   echo '--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
+ lib/neutron:start_other_agents:704       :   run_process q-l3 '/opt/stack/data/venv/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
+ functions-common:run_process:1675        :   local service=q-l3
+ functions-common:run_process:1676        :   local 'command=/opt/stack/data/venv/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=q-l3
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003621923
+ functions-common:run_process:1684        :   is_service_enabled q-l3
+ functions-common:is_service_enabled:2077 :   return 0
+ functions-common:run_process:1685        :   _run_under_systemd q-l3 '/opt/stack/data/venv/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini' '' '' ''
+ functions-common:_run_under_systemd:1632 :   local service=q-l3
+ functions-common:_run_under_systemd:1633 :   local 'command=/opt/stack/data/venv/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
+ functions-common:_run_under_systemd:1634 :   local 'cmd=/opt/stack/data/venv/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
+ functions-common:_run_under_systemd:1636 :   _common_systemd_pitfalls '/opt/stack/data/venv/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
+ functions-common:_common_systemd_pitfalls:1604 :   local 'cmd=/opt/stack/data/venv/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
+ functions-common:_common_systemd_pitfalls:1607 :   [[ /opt/stack/data/venv/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1618 :   [[ ! /opt/stack/data/venv/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1638 :   local systemd_service=devstack@q-l3.service
+ functions-common:_run_under_systemd:1639 :   local group=
+ functions-common:_run_under_systemd:1640 :   local user=stack
+ functions-common:_run_under_systemd:1641 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1644 :   local env_vars=
+ functions-common:_run_under_systemd:1645 :   [[ /opt/stack/data/venv/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1651 :   write_user_unit_file devstack@q-l3.service '/opt/stack/data/venv/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini' '' stack ''
+ functions-common:write_user_unit_file:1539 :   local service=devstack@q-l3.service
+ functions-common:write_user_unit_file:1540 :   local 'command=/opt/stack/data/venv/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
+ functions-common:write_user_unit_file:1541 :   local group=
+ functions-common:write_user_unit_file:1542 :   local user=stack
+ functions-common:write_user_unit_file:1543 :   local env_vars=
+ functions-common:write_user_unit_file:1544 :   local extra=
+ functions-common:write_user_unit_file:1545 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1548 :   local unitfile=/etc/systemd/system/devstack@q-l3.service
+ functions-common:write_user_unit_file:1549 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1551 :   iniset -sudo /etc/systemd/system/devstack@q-l3.service Unit Description 'Devstack devstack@q-l3.service'
+ functions-common:write_user_unit_file:1552 :   iniset -sudo /etc/systemd/system/devstack@q-l3.service Service Environment '"PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin"'
+ functions-common:write_user_unit_file:1553 :   iniset -sudo /etc/systemd/system/devstack@q-l3.service Service User stack
+ functions-common:write_user_unit_file:1554 :   iniset -sudo /etc/systemd/system/devstack@q-l3.service Service ExecStart '/opt/stack/data/venv/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
+ functions-common:write_user_unit_file:1555 :   iniset -sudo /etc/systemd/system/devstack@q-l3.service Service KillMode process
+ functions-common:write_user_unit_file:1556 :   iniset -sudo /etc/systemd/system/devstack@q-l3.service Service TimeoutStopSec 300
+ functions-common:write_user_unit_file:1557 :   iniset -sudo /etc/systemd/system/devstack@q-l3.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ functions-common:write_user_unit_file:1558 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1561 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1564 :   iniset -sudo /etc/systemd/system/devstack@q-l3.service Install WantedBy multi-user.target
+ functions-common:write_user_unit_file:1567 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1654 :   sudo systemctl enable devstack@q-l3.service
+ functions-common:_run_under_systemd:1655 :   sudo systemctl start devstack@q-l3.service
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003621923
+ functions-common:time_stop:2430          :   [[ -z 1760003621923 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003624990
+ functions-common:time_stop:2434          :   elapsed_time=3067
+ functions-common:time_stop:2435          :   total=35946
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=39013
+ lib/neutron:start_other_agents:706       :   run_process q-meta '/opt/stack/data/venv/bin/neutron-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/metadata_agent.ini'
+ functions-common:run_process:1675        :   local service=q-meta
+ functions-common:run_process:1676        :   local 'command=/opt/stack/data/venv/bin/neutron-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/metadata_agent.ini'
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=q-meta
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003625130
+ functions-common:run_process:1684        :   is_service_enabled q-meta
+ functions-common:is_service_enabled:2077 :   return 0
+ functions-common:run_process:1685        :   _run_under_systemd q-meta '/opt/stack/data/venv/bin/neutron-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/metadata_agent.ini' '' '' ''
+ functions-common:_run_under_systemd:1632 :   local service=q-meta
+ functions-common:_run_under_systemd:1633 :   local 'command=/opt/stack/data/venv/bin/neutron-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/metadata_agent.ini'
+ functions-common:_run_under_systemd:1634 :   local 'cmd=/opt/stack/data/venv/bin/neutron-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/metadata_agent.ini'
+ functions-common:_run_under_systemd:1636 :   _common_systemd_pitfalls '/opt/stack/data/venv/bin/neutron-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/metadata_agent.ini'
+ functions-common:_common_systemd_pitfalls:1604 :   local 'cmd=/opt/stack/data/venv/bin/neutron-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/metadata_agent.ini'
+ functions-common:_common_systemd_pitfalls:1607 :   [[ /opt/stack/data/venv/bin/neutron-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/metadata_agent.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1618 :   [[ ! /opt/stack/data/venv/bin/neutron-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/metadata_agent.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1638 :   local systemd_service=devstack@q-meta.service
+ functions-common:_run_under_systemd:1639 :   local group=
+ functions-common:_run_under_systemd:1640 :   local user=stack
+ functions-common:_run_under_systemd:1641 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1644 :   local env_vars=
+ functions-common:_run_under_systemd:1645 :   [[ /opt/stack/data/venv/bin/neutron-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/metadata_agent.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1651 :   write_user_unit_file devstack@q-meta.service '/opt/stack/data/venv/bin/neutron-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/metadata_agent.ini' '' stack ''
+ functions-common:write_user_unit_file:1539 :   local service=devstack@q-meta.service
+ functions-common:write_user_unit_file:1540 :   local 'command=/opt/stack/data/venv/bin/neutron-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/metadata_agent.ini'
+ functions-common:write_user_unit_file:1541 :   local group=
+ functions-common:write_user_unit_file:1542 :   local user=stack
+ functions-common:write_user_unit_file:1543 :   local env_vars=
+ functions-common:write_user_unit_file:1544 :   local extra=
+ functions-common:write_user_unit_file:1545 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1548 :   local unitfile=/etc/systemd/system/devstack@q-meta.service
+ functions-common:write_user_unit_file:1549 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1551 :   iniset -sudo /etc/systemd/system/devstack@q-meta.service Unit Description 'Devstack devstack@q-meta.service'
+ functions-common:write_user_unit_file:1552 :   iniset -sudo /etc/systemd/system/devstack@q-meta.service Service Environment '"PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin"'
+ functions-common:write_user_unit_file:1553 :   iniset -sudo /etc/systemd/system/devstack@q-meta.service Service User stack
+ functions-common:write_user_unit_file:1554 :   iniset -sudo /etc/systemd/system/devstack@q-meta.service Service ExecStart '/opt/stack/data/venv/bin/neutron-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/metadata_agent.ini'
+ functions-common:write_user_unit_file:1555 :   iniset -sudo /etc/systemd/system/devstack@q-meta.service Service KillMode process
+ functions-common:write_user_unit_file:1556 :   iniset -sudo /etc/systemd/system/devstack@q-meta.service Service TimeoutStopSec 300
+ functions-common:write_user_unit_file:1557 :   iniset -sudo /etc/systemd/system/devstack@q-meta.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ functions-common:write_user_unit_file:1558 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1561 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1564 :   iniset -sudo /etc/systemd/system/devstack@q-meta.service Install WantedBy multi-user.target
+ functions-common:write_user_unit_file:1567 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1654 :   sudo systemctl enable devstack@q-meta.service
+ functions-common:_run_under_systemd:1655 :   sudo systemctl start devstack@q-meta.service
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003625130
+ functions-common:time_stop:2430          :   [[ -z 1760003625130 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003628227
+ functions-common:time_stop:2434          :   elapsed_time=3097
+ functions-common:time_stop:2435          :   total=39013
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=42110
+ lib/neutron:start_other_agents:707       :   run_process q-metering '/opt/stack/data/venv/bin/neutron-metering-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/services/metering/metering_agent.ini'
+ functions-common:run_process:1675        :   local service=q-metering
+ functions-common:run_process:1676        :   local 'command=/opt/stack/data/venv/bin/neutron-metering-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/services/metering/metering_agent.ini'
+ functions-common:run_process:1677        :   local group=
+ functions-common:run_process:1678        :   local user=
+ functions-common:run_process:1679        :   local env_vars=
+ functions-common:run_process:1681        :   local name=q-metering
+ functions-common:run_process:1683        :   time_start run_process
+ functions-common:time_start:2407         :   local name=run_process
+ functions-common:time_start:2408         :   local start_time=
+ functions-common:time_start:2409         :   [[ -n '' ]]
++ functions-common:time_start:2412         :   date +%s%3N
+ functions-common:time_start:2412         :   _TIME_START[$name]=1760003628371
+ functions-common:run_process:1684        :   is_service_enabled q-metering
+ functions-common:is_service_enabled:2077 :   return 0
+ functions-common:run_process:1685        :   _run_under_systemd q-metering '/opt/stack/data/venv/bin/neutron-metering-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/services/metering/metering_agent.ini' '' '' ''
+ functions-common:_run_under_systemd:1632 :   local service=q-metering
+ functions-common:_run_under_systemd:1633 :   local 'command=/opt/stack/data/venv/bin/neutron-metering-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/services/metering/metering_agent.ini'
+ functions-common:_run_under_systemd:1634 :   local 'cmd=/opt/stack/data/venv/bin/neutron-metering-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/services/metering/metering_agent.ini'
+ functions-common:_run_under_systemd:1636 :   _common_systemd_pitfalls '/opt/stack/data/venv/bin/neutron-metering-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/services/metering/metering_agent.ini'
+ functions-common:_common_systemd_pitfalls:1604 :   local 'cmd=/opt/stack/data/venv/bin/neutron-metering-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/services/metering/metering_agent.ini'
+ functions-common:_common_systemd_pitfalls:1607 :   [[ /opt/stack/data/venv/bin/neutron-metering-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/services/metering/metering_agent.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1618 :   [[ ! /opt/stack/data/venv/bin/neutron-metering-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/services/metering/metering_agent.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1638 :   local systemd_service=devstack@q-metering.service
+ functions-common:_run_under_systemd:1639 :   local group=
+ functions-common:_run_under_systemd:1640 :   local user=stack
+ functions-common:_run_under_systemd:1641 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1644 :   local env_vars=
+ functions-common:_run_under_systemd:1645 :   [[ /opt/stack/data/venv/bin/neutron-metering-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/services/metering/metering_agent.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1651 :   write_user_unit_file devstack@q-metering.service '/opt/stack/data/venv/bin/neutron-metering-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/services/metering/metering_agent.ini' '' stack ''
+ functions-common:write_user_unit_file:1539 :   local service=devstack@q-metering.service
+ functions-common:write_user_unit_file:1540 :   local 'command=/opt/stack/data/venv/bin/neutron-metering-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/services/metering/metering_agent.ini'
+ functions-common:write_user_unit_file:1541 :   local group=
+ functions-common:write_user_unit_file:1542 :   local user=stack
+ functions-common:write_user_unit_file:1543 :   local env_vars=
+ functions-common:write_user_unit_file:1544 :   local extra=
+ functions-common:write_user_unit_file:1545 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1548 :   local unitfile=/etc/systemd/system/devstack@q-metering.service
+ functions-common:write_user_unit_file:1549 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1551 :   iniset -sudo /etc/systemd/system/devstack@q-metering.service Unit Description 'Devstack devstack@q-metering.service'
+ functions-common:write_user_unit_file:1552 :   iniset -sudo /etc/systemd/system/devstack@q-metering.service Service Environment '"PATH=/opt/stack/data/venv/bin:/opt/stack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin"'
+ functions-common:write_user_unit_file:1553 :   iniset -sudo /etc/systemd/system/devstack@q-metering.service Service User stack
+ functions-common:write_user_unit_file:1554 :   iniset -sudo /etc/systemd/system/devstack@q-metering.service Service ExecStart '/opt/stack/data/venv/bin/neutron-metering-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/services/metering/metering_agent.ini'
+ functions-common:write_user_unit_file:1555 :   iniset -sudo /etc/systemd/system/devstack@q-metering.service Service KillMode process
+ functions-common:write_user_unit_file:1556 :   iniset -sudo /etc/systemd/system/devstack@q-metering.service Service TimeoutStopSec 300
+ functions-common:write_user_unit_file:1557 :   iniset -sudo /etc/systemd/system/devstack@q-metering.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ functions-common:write_user_unit_file:1558 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1561 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1564 :   iniset -sudo /etc/systemd/system/devstack@q-metering.service Install WantedBy multi-user.target
+ functions-common:write_user_unit_file:1567 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1654 :   sudo systemctl enable devstack@q-metering.service
+ functions-common:_run_under_systemd:1655 :   sudo systemctl start devstack@q-metering.service
+ functions-common:run_process:1687        :   time_stop run_process
+ functions-common:time_stop:2421          :   local name
+ functions-common:time_stop:2422          :   local end_time
+ functions-common:time_stop:2423          :   local elapsed_time
+ functions-common:time_stop:2424          :   local total
+ functions-common:time_stop:2425          :   local start_time
+ functions-common:time_stop:2427          :   name=run_process
+ functions-common:time_stop:2428          :   start_time=1760003628371
+ functions-common:time_stop:2430          :   [[ -z 1760003628371 ]]
++ functions-common:time_stop:2433          :   date +%s%3N
+ functions-common:time_stop:2433          :   end_time=1760003631455
+ functions-common:time_stop:2434          :   elapsed_time=3084
+ functions-common:time_stop:2435          :   total=42110
+ functions-common:time_stop:2437          :   _TIME_START[$name]=
+ functions-common:time_stop:2438          :   _TIME_TOTAL[$name]=45194
+ ./stack.sh:main:1334                     :   is_service_enabled q-svc neutron-api
+ functions-common:is_service_enabled:2077 :   return 0
+ ./stack.sh:main:1334                     :   [[ True == \T\r\u\e ]]
+ ./stack.sh:main:1335                     :   echo_summary 'Creating initial neutron network elements'
+ ./stack.sh:echo_summary:462              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:468              :   echo -e Creating initial neutron network elements
+ ./stack.sh:main:1338                     :   type -p neutron_plugin_create_initial_networks
+ ./stack.sh:main:1341                     :   create_neutron_initial_network
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:157 :   type -p neutron_plugin_create_initial_network_profile
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:161 :   is_networking_extension_supported auto-allocated-topology
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:423 :   local extension=auto-allocated-topology
++ lib/neutron_plugins/services/l3:is_networking_extension_supported:425 :   oscwrap --os-cloud devstack-admin --os-region RegionOne extension list --network -c Alias -f value
++ functions-common:oscwrap:2466            :   return 0
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:425 :   EXT_LIST='address-group
address-scope
router-admin-state-down-before-update
agent
agent-resources-synced
allowed-address-pairs
auto-allocated-topology
availability_zone
availability_zone_filter
default-subnetpools
dhcp_agent_scheduler
dvr
empty-string-filtering
external-net
extra_dhcp_opt
extraroute
extraroute-atomic
filter-validation
floating-ip-port-forwarding-detail
fip-port-details
flavors
floatingip-pools
ip-substring-filtering
router
ext-gw-mode
l3-ha
l3-flavors
l3-port-ip-change-not-allowed
l3_agent_scheduler
metering
metering_source_and_destination_fields
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network_ha
network-ip-availability
pagination
port-device-profile
port-mac-override
port-mac-address-regenerate
port-numa-affinity-policy
port-numa-affinity-policy-socket
binding
binding-extended
port-security
project-id
provider
quota-check-limit
quota-check-limit-default
quotas
quota_details
rbac-policies
rbac-address-group
rbac-address-scope
rbac-security-groups
rbac-subnetpool
revision-if-match
standard-attr-revisions
router_availability_zone
security-groups-default-rules
security-groups-normalized-cidr
port-security-groups-filtering
security-groups-remote-address-group
security-groups-rules-belongs-to-default-sg
security-groups-shared-filtering
security-group
service-type
sorting
standard-attr-description
stateful-security-group
subnet-external-network
subnet_onboard
subnet-service-types
subnet_allocation
subnetpool-prefix-ops
tag-creation
standard-attr-tag
standard-attr-timestamp'
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:426 :   [[ address-group
address-scope
router-admin-state-down-before-update
agent
agent-resources-synced
allowed-address-pairs
auto-allocated-topology
availability_zone
availability_zone_filter
default-subnetpools
dhcp_agent_scheduler
dvr
empty-string-filtering
external-net
extra_dhcp_opt
extraroute
extraroute-atomic
filter-validation
floating-ip-port-forwarding-detail
fip-port-details
flavors
floatingip-pools
ip-substring-filtering
router
ext-gw-mode
l3-ha
l3-flavors
l3-port-ip-change-not-allowed
l3_agent_scheduler
metering
metering_source_and_destination_fields
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network_ha
network-ip-availability
pagination
port-device-profile
port-mac-override
port-mac-address-regenerate
port-numa-affinity-policy
port-numa-affinity-policy-socket
binding
binding-extended
port-security
project-id
provider
quota-check-limit
quota-check-limit-default
quotas
quota_details
rbac-policies
rbac-address-group
rbac-address-scope
rbac-security-groups
rbac-subnetpool
revision-if-match
standard-attr-revisions
router_availability_zone
security-groups-default-rules
security-groups-normalized-cidr
port-security-groups-filtering
security-groups-remote-address-group
security-groups-rules-belongs-to-default-sg
security-groups-shared-filtering
security-group
service-type
sorting
standard-attr-description
stateful-security-group
subnet-external-network
subnet_onboard
subnet-service-types
subnet_allocation
subnetpool-prefix-ops
tag-creation
standard-attr-tag
standard-attr-timestamp =~ auto-allocated-topology ]]
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:426 :   return 0
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:162 :   [[ True == \T\r\u\e ]]
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:163 :   [[ 4 =~ 4.* ]]
++ lib/neutron_plugins/services/l3:create_neutron_initial_network:164 :   oscwrap --os-cloud devstack-admin --os-region RegionOne subnet pool create shared-default-subnetpool-v4 --default-prefix-length 26 --pool-prefix 10.1.0.0/20 --share --default -f value -c id
++ functions-common:oscwrap:2466            :   return 0
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:164 :   SUBNETPOOL_V4_ID=e3266bcb-e431-4c6d-ada0-83eb79f5a7b6
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:166 :   [[ 4 =~ .*6 ]]
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:172 :   is_provider_network
+ functions-common:is_provider_network:2270 :   '[' '' == True ']'
+ functions-common:is_provider_network:2273 :   return 1
++ lib/neutron_plugins/services/l3:create_neutron_initial_network:202 :   oscwrap --os-cloud devstack --os-region RegionOne network create private -f value -c id
Error while executing command: HttpException: 503, Unable to create the network. No tenant network is available for allocation.
++ functions-common:oscwrap:2466            :   return 1
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:202 :   NET_ID=
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:1 :   exit_trap
+ ./stack.sh:exit_trap:543                 :   local r=1
++ ./stack.sh:exit_trap:544                 :   jobs -p
+ ./stack.sh:exit_trap:544                 :   jobs=1142358
+ ./stack.sh:exit_trap:547                 :   [[ -n 1142358 ]]
+ ./stack.sh:exit_trap:547                 :   [[ -n /opt/stack/logs/stack.sh.log.2025-10-09-024151 ]]
+ ./stack.sh:exit_trap:547                 :   [[ True == \T\r\u\e ]]
+ ./stack.sh:exit_trap:548                 :   echo 'exit_trap: cleaning up child processes'
exit_trap: cleaning up child processes
+ ./stack.sh:exit_trap:549                 :   kill 1142358
+ ./stack.sh:exit_trap:553                 :   '[' -f /tmp/tmp.BTNsIOfn3T ']'
+ ./stack.sh:exit_trap:554                 :   rm /tmp/tmp.BTNsIOfn3T
+ ./stack.sh:exit_trap:558                 :   kill_spinner
+ ./stack.sh:kill_spinner:453              :   '[' '!' -z '' ']'
+ ./stack.sh:exit_trap:560                 :   [[ 1 -ne 0 ]]
+ ./stack.sh:exit_trap:561                 :   echo 'Error on exit'
Error on exit
+ ./stack.sh:exit_trap:563                 :   type -p generate-subunit
+ ./stack.sh:exit_trap:564                 :   generate-subunit 1760002907 734 fail
+ ./stack.sh:exit_trap:566                 :   [[ -z /opt/stack/logs ]]
+ ./stack.sh:exit_trap:569                 :   /opt/stack/data/venv/bin/python3 /opt/stack/devstack/tools/worlddump.py -d /opt/stack/logs
+ ./stack.sh:exit_trap:578                 :   exit 1
2025/10/09 02:54:03.992592804 MSGID0002-I: end: sudo su - stack
Waiting for Nova API to be ready... wait 10 times. i=1
Waiting for Nova API to be ready... wait 10 times. i=2
Waiting for Nova API to be ready... wait 10 times. i=3
Waiting for Nova API to be ready... wait 10 times. i=4
Waiting for Nova API to be ready... wait 10 times. i=5
Waiting for Nova API to be ready... wait 10 times. i=6
Waiting for Nova API to be ready... wait 10 times. i=7
Waiting for Nova API to be ready... wait 10 times. i=8
Waiting for Nova API to be ready... wait 10 times. i=9
Waiting for Nova API to be ready... wait 10 times. i=10
ERROR: openstack server list
